webpackJsonp([2],{"+VeI":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("pHuv"),o=n("F1yO"),a=n("PKQO"),s=n("xfHL");n("VzZx");var u;e.RepoManager=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return u||(u=new t),u},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&o.fatal("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var r=a.parseRepoInfo(n),i=r.repoInfo;return s.validateUrl("Invalid Firebase Database URL",1,r),r.path.isEmpty()||o.fatal("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=r.safeGet(this.repos_,t.app.name);e&&r.safeGet(e,t.repoInfo_.toURLString())===t||o.fatal("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=r.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var a=r.safeGet(n,t.toURLString());return a&&o.fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new i.Repo(t,this.useRestClient_,e),n[t.toURLString()]=a,a},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}()},"/0OS":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("ertD"),o=n("JEJ4");e.ChildChangeAccumulator=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;o.assert(e==i.Change.CHILD_ADDED||e==i.Change.CHILD_CHANGED||e==i.Change.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var a=r.safeGet(this.changeMap_,n);if(a){var s=a.type;if(e==i.Change.CHILD_ADDED&&s==i.Change.CHILD_REMOVED)this.changeMap_[n]=i.Change.childChangedChange(n,t.snapshotNode,a.snapshotNode);else if(e==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_ADDED)delete this.changeMap_[n];else if(e==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_CHANGED)this.changeMap_[n]=i.Change.childRemovedChange(n,a.oldSnap);else if(e==i.Change.CHILD_CHANGED&&s==i.Change.CHILD_ADDED)this.changeMap_[n]=i.Change.childAddedChange(n,t.snapshotNode);else{if(e!=i.Change.CHILD_CHANGED||s!=i.Change.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap_[n]=i.Change.childChangedChange(n,t.snapshotNode,a.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return r.getValues(this.changeMap_)},t}()},"/68J":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gOHv"),i=n("kCHx"),o=n("fvGz"),a=n("JEJ4");e.Merge=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=r.OperationType.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new o.Path(e));return n.isEmpty()?null:n.value?new i.Overwrite(this.source,o.Path.Empty,n.value):new t(this.source,o.Path.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}()},"/9hx":function(t,e,n){n("hFw6")},"/HC2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("JEJ4");e.StatsCollection=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),i.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return r.deepCopy(this.counters_)},t}()},"/byE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},"/fob":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o,a=n("GboV"),s=n("F1yO"),u=n("p+VM"),c=n("04zk");e.setNodeFromJSON=function(t){i=t},e.setMaxNode=function(t){o=t};var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?s.nameCompare(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return u.NamedNode.MIN},e.prototype.maxPost=function(){return new u.NamedNode(s.MAX_NAME,new c.LeafNode("[PRIORITY-POST]",o))},e.prototype.makePost=function(t,e){var n=i(t);return new u.NamedNode(e,new c.LeafNode("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(a.Index);e.PriorityIndex=l,e.PRIORITY_INDEX=new l},"/ygB":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.forEach=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},e.extend=function(t,n){return e.forEach(n,function(e,n){t[e]=n}),t},e.clone=function(t){return e.extend({},t)},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.findKey=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},e.findValue=function(t,n,r){var i=e.findKey(t,n,r);return i&&t[i]},e.getAnyKey=function(t){for(var e in t)return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0}},0:function(t,e,n){t.exports=n("cDNt")},"04zk":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("F1yO"),a=n("3FiG");e.LeafNode=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,i.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),a.validatePriorityNode(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return r},set:function(t){r=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(i.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+a.priorityHashText(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?o.doubleToIEEE754String(this.value_):this.value_,this.lazyHash_=o.sha1(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(i.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return i.assert(o>=0,"Unknown leaf type: "+n),i.assert(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}()},"0hmO":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("JEJ4"),o=n("YY8E"),a=n("JEJ4");e.OnlineMonitor=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return r(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return i.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(o.EventEmitter)},"0nO6":function(t,e,n){"use strict";function r(t){return null==t||0===t.length}function i(t){return null!=t}function o(t){var e=Object(A._9)(t)?Object(j.a)(t):t;if(!Object(A._8)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function a(t){var e=t.reduce(function(t,e){return null!=e?Object(N.a)({},t,e):t},{});return 0===Object.keys(e).length?null:e}function s(t){return t.validate?function(e){return t.validate(e)}:t}function u(t){return t.validate?function(e){return t.validate(e)}:t}function c(){throw new Error("unimplemented")}function l(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function h(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function f(t,e){return e.path.concat([t])}function p(t,e){t||v(e,"Cannot find control with"),e.valueAccessor||v(e,"No value accessor for form control with"),t.validator=H.compose([t.validator,e.validator]),t.asyncValidator=H.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&d(t,e)})}(t,e),function(e,n){t.registerOnChange(function(t,e){n.valueAccessor.writeValue(t),e&&n.viewToModelUpdate(t)})}(0,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&d(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function d(t,e){e.viewToModelUpdate(t._pendingValue),t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),t._pendingChange=!1}function y(t,e){null==t&&v(e,"Cannot find control with"),t.validator=H.compose([t.validator,e.validator]),t.asyncValidator=H.composeAsync([t.asyncValidator,e.asyncValidator])}function g(t){return v(t,"There is no FormControl instance attached to form control element with")}function v(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function m(t){return null!=t?H.compose(t.map(s)):null}function _(t){return null!=t?H.composeAsync(t.map(u)):null}function b(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(A._12)(e,n.currentValue)}function w(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function E(t,e){if(!e)return null;var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){e.constructor===z?n=e:function(t){return it.some(function(e){return t.constructor===e})}(e)?(r&&v(t,"More than one built-in value accessor matches form control with"),r=e):(i&&v(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(v(t,"No valid value accessor for form control with"),null)}function C(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function S(t){var e=I(t)?t.validators:t;return Array.isArray(e)?m(e):e||null}function T(t,e){var n=I(e)?e.asyncValidators:t;return Array.isArray(n)?_(n):n||null}function I(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function O(t){return!(t instanceof It||t instanceof Tt||t instanceof Ot)}var N=n("6Xbx"),A=n("LMZF"),P=n("AP4T"),R=n("Ecq+"),k=n("1j/l"),D=n("qgI0"),x=n("lI6h"),M=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return Object(N.b)(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new R.a;var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(k.a)(t[0])&&(t=t[0]),0===t.length?new R.a:new e(t,r)},e.prototype._subscribe=function(t){return new L(t,this.sources,this.resultSelector)},e}(P.a),L=function(t){function e(e,n,r){t.call(this,e),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],s=Object(D.a)(this,a,null,o);s&&(s.outerIndex=o,this.add(s))}}return Object(N.b)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.resultSelector,i=this.values,o=i.length;if(t._hasValue){if(this.completed++,this.completed===o){if(n===o){var a=r?r.apply(this,i):i;e.next(a)}e.complete()}}else e.complete()},e}(x.a),F=M.create,j=n("CASk"),V=n("dmC+"),U=n("RyBE");n.d(e,"b",function(){return K}),n.d(e,"c",function(){return q}),n.d(e,"j",function(){return G}),n.d(e,"a",function(){return Q}),n.d(e,"d",function(){return z}),n.d(e,"k",function(){return X}),n.d(e,"l",function(){return st}),n.d(e,"m",function(){return ut}),n.d(e,"n",function(){return gt}),n.d(e,"o",function(){return Ct}),n.d(e,"f",function(){return Nt}),n.d(e,"g",function(){return Tt}),n.d(e,"h",function(){return It}),n.d(e,"p",function(){return et}),n.d(e,"r",function(){return tt}),n.d(e,"e",function(){return At}),n.d(e,"s",function(){return H}),n.d(e,"i",function(){return kt}),n.d(e,"q",function(){return Dt}),n.d(e,"t",function(){return Rt}),n.d(e,"u",function(){return Pt}),n.d(e,"v",function(){return Y}),n.d(e,"w",function(){return rt});var B=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.b)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(B),W=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,H=function(){function t(){}return t.min=function(t){return function(e){if(r(e.value)||r(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(r(e.value)||r(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return r(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return W.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(r(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,i;return"string"==typeof e?(i="^"+e+"$",n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(r(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(i);return 0==e.length?null:function(t){return a(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(i);return 0==e.length?null:function(t){var n=function(t,n){return e.map(function(e){return e(t)})}(t).map(o);return V.a.call(F(n),a)}},t}(),G=new A.o("NgValueAccessor"),K=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Q=new A.o("CompositionEventMode"),z=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){var t=Object(U.r)()?Object(U.r)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}(),J=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(N.b)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return c()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return c()},enumerable:!0,configurable:!0}),e}(B),Y=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),Z=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(X),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),$=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),tt=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=A._12}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=l(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=t.split(":")[0];return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),et=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(l(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}(),nt=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=A._12}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var r=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var e=t.split(":")[0];return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),rt=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(h(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(h(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}(),it=[K,$,J,tt,nt,Z],ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.b)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return f(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return m(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return _(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(q),at=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),st=function(t){function e(e){return t.call(this,e)||this}return Object(N.b)(e,t),e}(at),ut=function(t){function e(e){return t.call(this,e)||this}return Object(N.b)(e,t),e}(at),ct="PENDING",lt="DISABLED",ht=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.status==ct},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.status===lt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.status!==lt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=S(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=T(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status=ct,this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status=lt,this.errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&this.status!==ct||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?lt:"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status=ct;var n=o(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof pt?t.controls[e]||null:t instanceof dt?t.at(e)||null:null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new A.m,this.statusChanges=new A.m},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?lt:this.errors?"INVALID":this._anyControlsHaveStatus(ct)?ct:this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){I(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),ft=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,S(n),T(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(N.b)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(ht),pt=function(t){function e(e,n,r){var i=t.call(this,S(n),T(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(N.b)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof ft?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++)if(this.controls[e[t]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(ht),dt=function(t){function e(e,n,r){var i=t.call(this,S(n),T(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(N.b)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof ft?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++)if(e[t].enabled)return!1;return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(ht),yt=Promise.resolve(null),gt=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new A.m,r.form=new pt({},m(e),_(n)),r}return Object(N.b)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;yt.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),p(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;yt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),C(e._directives,t)})},e.prototype.addFormGroup=function(t){var e=this;yt.then(function(){var n=e._findContainer(t.path),r=new pt({});y(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;yt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;yt.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,w(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(q),vt='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',mt='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',_t='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',bt=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+vt+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+mt+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+_t)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+mt+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+_t)},t}(),wt=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(N.b)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof gt||bt.modelGroupParentException()},e}(ot),Et=Promise.resolve(null),Ct=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.control=new ft,o._registered=!1,o.update=new A.m,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=E(o,i),o}return Object(N.b)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),b(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?f(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return m(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return _(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){p(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof wt)&&this._parent instanceof ot?bt.formGroupNameException():this._parent instanceof wt||this._parent instanceof gt||bt.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||bt.missingNameException()},e.prototype._updateValue=function(t){var e=this;Et.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Et.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(X),St=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+vt)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+mt+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+_t)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+vt)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+mt)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),Tt=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new A.m,r}return Object(N.b)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return p(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){C(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);y(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);y(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,w(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange(function(){return g(e)}),e.valueAccessor.registerOnTouched(function(){return g(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&p(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=m(this._validators);this.form.validator=H.compose([this.form.validator,t]);var e=_(this._asyncValidators);this.form.asyncValidator=H.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||St.missingFormException()},e}(q),It=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(N.b)(e,t),e.prototype._checkParentType=function(){O(this._parent)&&St.groupParentException()},e}(ot),Ot=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(N.b)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return f(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return m(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return _(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){O(this._parent)&&St.arrayParentException()},e}(q),Nt=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o._added=!1,o.update=new A.m,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=E(o,i),o}return Object(N.b)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){St.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),b(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return f(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return m(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return _(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof It)&&this._parent instanceof ot?St.ngModelGroupException():this._parent instanceof It||this._parent instanceof Tt||this._parent instanceof Ot||St.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e}(X),At=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t);return new pt(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)},t.prototype.control=function(t,e,n){return new ft(t,e,n)},t.prototype.array=function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new dt(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){return t instanceof ft||t instanceof pt||t instanceof dt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),Pt=function(){},Rt=function(){},kt=function(){},Dt=function(){}},"0npo":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("W4Cj"),i=n("KH1l"),o=n("R3TC"),a=n("y8hQ"),s=n("bN85"),u=n("9kU/"),c=n("JEJ4"),l=n("gOHv"),h=n("ertD"),f=n("/fob");e.View=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),c=new r.IndexedFilter(n.getIndex()),l=n.getNodeFilter();this.processor_=new i.ViewProcessor(l);var h=e.getServerCache(),f=e.getEventCache(),p=c.updateFullNode(o.ChildrenNode.EMPTY_NODE,h.getNode(),null),d=l.updateFullNode(o.ChildrenNode.EMPTY_NODE,f.getNode(),null),y=new a.CacheNode(p,h.isFullyInitialized(),c.filtersNodes()),g=new a.CacheNode(d,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=new s.ViewCache(g,y),this.eventGenerator_=new u.EventGenerator(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){c.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===l.OperationType.MERGE&&null!==t.source.queryId&&(c.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),c.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),c.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(f.PRIORITY_INDEX,function(t,e){n.push(h.Change.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(h.Change.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}()},"13je":function(t,e,n){"use strict";function r(t,e){try{return e?o.initializeApp(t,e):o.initializeApp(t)}catch(t){return o.app("app/duplicate-app"===t.code?t.name:null)}}var i=n("LMZF"),o=n("kUdC"),a=new i.o("FirebaseAppConfigToken"),s=function(){},u=n("6Xbx"),c=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return Object(u.b)(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n("GTlS").a),l=new(function(t){function e(){t.apply(this,arguments)}return Object(u.b)(e,t),e}(n("wclm").a))(c),h=new i.o("FirebaseAppName"),f={provide:s,useFactory:r,deps:[a,h]},p=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:a,useValue:e},{provide:h,useValue:n}]}},t}(),d=function(){function t(t){this.zone=t}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.run(function(){return l.schedule.apply(l,t)})},t}();n.d(e,!1,function(){return f}),n.d(e,"a",function(){return p}),n.d(e,"e",function(){return d}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return h}),n.d(e,"c",function(){return a}),n.d(e,"f",function(){return r})},"1WNV":function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(){d&&f&&(d=!1,f.length?p=f.concat(p):y=-1,p.length&&a())}function a(){if(!d){var t=i(o);d=!0;for(var e=p.length;e;){for(f=p,p=[];++y<e;)f&&f[y].run();y=-1,e=p.length}f=null,d=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var c,l,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var f,p=[],d=!1,y=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||d||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},"1j/l":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},"1zSO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.DOMStorageWrapper=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),r.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:r.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}()},"2BLv":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("isNy"),i=n("isNy"),o=Math.log(2),a=function(){function t(t){this.count=function(t){return parseInt(Math.log(t)/o,10)}(t+1),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}();e.buildChildSet=function(t,e,n,o){t.sort(e);var s=function(e,i){var o,a,u=i-e;if(0==u)return null;if(1==u)return o=t[e],a=n?n(o):o,new r.LLRBNode(a,o.node,r.LLRBNode.BLACK,null,null);var c=parseInt(u/2,10)+e,l=s(e,c),h=s(c+1,i);return o=t[c],a=n?n(o):o,new r.LLRBNode(a,o.node,r.LLRBNode.BLACK,l,h)},u=function(e){for(var i=null,o=null,a=t.length,u=function(e,i){var o=a-e,u=a;a-=e;var l=s(o+1,u),h=t[o],f=n?n(h):h;c(new r.LLRBNode(f,h.node,i,null,l))},c=function(t){i?(i.left=t,i=t):(o=t,i=t)},l=0;l<e.count;++l){var h=e.nextBitIsOne(),f=Math.pow(2,e.count-(l+1));h?u(f,r.LLRBNode.BLACK):(u(f,r.LLRBNode.BLACK),u(f,r.LLRBNode.RED))}return o}(new a(t.length));return new i.SortedMap(o||e,u)}},"2LMR":function(t,e,n){"use strict";function r(t){return new c(t)}n("Rv9P"),n("LMZF");var i=n("AP4T"),o=n("ozyc"),a=n("13je"),s=(n("RSzd"),n("GZB0"));i.a.of=s.a;var u=n("CASk");i.a.fromPromise=u.a;var c=function(){return function(t){var e=this;this.app=t,this.auth=t.auth();var n=new i.a(function(t){return{unsubscribe:e.auth.onAuthStateChanged(t)}});this.authState=o.a.call(n,new a.e(Zone.current));var r=new i.a(function(t){return{unsubscribe:e.auth.onIdTokenChanged(t)}}).switchMap(function(t){return t?i.a.fromPromise(t.getIdToken()):i.a.of(null)});this.idToken=o.a.call(r,new a.e(Zone.current))}}(),l={provide:c,useFactory:r,deps:[a.b]},h=[l],f=function(){};n.d(e,"a",function(){return c}),n.d(e,"c",function(){return r}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return h}),n.d(e,"b",function(){return f})},"2kLc":function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(o.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(a.a)(n)(new i.a(t,s))};var r=n("AP4T"),i=n("Oryw"),o=n("3iOE"),a=n("bywS")},"2kNe":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("dVae"),i=n("fvGz"),o=n("JEJ4"),a=n("p+VM"),s=n("/fob"),u=n("JEJ4");e.CompoundWrite=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new r.ImmutableTree(n));var o=this.writeTree_.findRootMostValueAndPath(e);if(null!=o){var a=o.path,s=o.value,u=i.Path.relativePath(a,e);return s=s.updateChild(u,n),new t(this.writeTree_.set(a,s))}var c=new r.ImmutableTree(n);return new t(this.writeTree_.setTree(e,c))},t.prototype.addWrites=function(t,e){var n=this;return o.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,r.ImmutableTree.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(i.Path.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(s.PRIORITY_INDEX,function(e,n){t.push(new a.NamedNode(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new a.NamedNode(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new r.ImmutableTree(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(i.Path.Empty,this.writeTree_,e)},t.Empty=new t(new r.ImmutableTree(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(u.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}()},"2mdx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("EqqR");e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;r.assert(++i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},"32XG":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=function(){this.blockSize=-1}},"3FiG":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("F1yO"),a=n("JEJ4");e.setMaxNode=function(t){r=t},e.priorityHashText=function(t){return"number"==typeof t?"number:"+o.doubleToIEEE754String(t):"string:"+t},e.validatePriorityNode=function(t){if(t.isLeafNode()){var e=t.val();i.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else i.assert(t===r||t.isEmpty(),"priority of unexpected type.");i.assert(t===r||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}},"3iOE":function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t.schedule}},"43Go":function(t,e,n){"use strict";function r(t,e){if(void 0===e&&(e=null),null===t)return i.ChildrenNode.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),u.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new o.LeafNode(t,r(e));if(t instanceof Array||!p){var n=i.ChildrenNode.EMPTY_NODE,d=t;return s.forEach(d,function(t,e){if(s.contains(d,t)&&"."!==t.substring(0,1)){var i=r(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(r(e))}var y=[],g=!1,v=t;if(s.forEach(v,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=r(v[t]);n.isEmpty()||(g=g||!n.getPriority().isEmpty(),y.push(new a.NamedNode(t,n)))}}),0==y.length)return i.ChildrenNode.EMPTY_NODE;var m=c.buildChildSet(y,l.NAME_ONLY_COMPARATOR,function(t){return t.name},l.NAME_COMPARATOR);if(g){var _=c.buildChildSet(y,f.PRIORITY_INDEX.getCompare());return new i.ChildrenNode(m,r(e),new h.IndexMap({".priority":_},{".priority":f.PRIORITY_INDEX}))}return new i.ChildrenNode(m,r(e),h.IndexMap.Default)}Object.defineProperty(e,"__esModule",{value:!0});var i=n("R3TC"),o=n("04zk"),a=n("p+VM"),s=n("JEJ4"),u=n("JEJ4"),c=n("2BLv"),l=n("zFzr"),h=n("b5Wm"),f=n("/fob"),p=!0;e.nodeFromJSON=r,f.setNodeFromJSON(r)},"4Tnn":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF"),n("T7WB");var r=function(){function t(t){this.adminCarService=t}return t.prototype.ngOnInit=function(){var t=this;this.adminCarService.getCars$().subscribe(function(e){t.carsList=e})},t.prototype.deleteCar=function(t){console.log("delete",t.make),this.adminCarService.deleteCar(t)},t}()},"5pXs":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("oyal"),o=n("EAgh"),a=n("F1yO"),s=n("sZ8A"),u=n("rB9K"),c=n("pHuv"),l=n("fvGz"),h=n("miEe"),f=n("xfHL"),p=n("JEJ4"),d=n("JEJ4"),y=n("uCc5"),g=function(t){function e(e,n){if(!(e instanceof c.Repo))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,h.QueryParams.DEFAULT,!1)||this}return r(e,t),e.prototype.getKey=function(){return p.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return p.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof l.Path||(null===this.path.getFront()?f.validateRootPathString("Reference.child",1,t,!1):f.validatePathString("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){p.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){p.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){p.validateArgCount("Reference.set",1,2,arguments.length),f.validateWritablePath("Reference.set",this.path),f.validateFirebaseDataArg("Reference.set",1,t,this.path,!1),p.validateCallback("Reference.set",2,e,!0);var n=new d.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(p.validateArgCount("Reference.update",1,2,arguments.length),f.validateWritablePath("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,a.warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}f.validateFirebaseMergeDataArg("Reference.update",1,t,this.path,!1),p.validateCallback("Reference.update",2,e,!0);var i=new d.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(p.validateArgCount("Reference.setWithPriority",2,3,arguments.length),f.validateWritablePath("Reference.setWithPriority",this.path),f.validateFirebaseDataArg("Reference.setWithPriority",1,t,this.path,!1),f.validatePriority("Reference.setWithPriority",2,e,!1),p.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new d.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return p.validateArgCount("Reference.remove",0,1,arguments.length),f.validateWritablePath("Reference.remove",this.path),p.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(p.validateArgCount("Reference.transaction",1,3,arguments.length),f.validateWritablePath("Reference.transaction",this.path),p.validateCallback("Reference.transaction",1,t,!1),p.validateCallback("Reference.transaction",2,e,!0),f.validateBoolean("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new d.Deferred;return"function"==typeof e&&r.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,i){t?r.reject(t):r.resolve(new o.TransactionResult(n,i)),"function"==typeof e&&e(t,n,i)},n),r.promise},e.prototype.setPriority=function(t,e){p.validateArgCount("Reference.setPriority",1,2,arguments.length),f.validateWritablePath("Reference.setPriority",this.path),f.validatePriority("Reference.setPriority",1,t,!1),p.validateCallback("Reference.setPriority",2,e,!0);var n=new d.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){p.validateArgCount("Reference.push",0,2,arguments.length),f.validateWritablePath("Reference.push",this.path),f.validateFirebaseDataArg("Reference.push",1,t,this.path,!0),p.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=s.nextPushId(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return f.validateWritablePath("Reference.onDisconnect",this.path),new i.OnDisconnect(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(u.Query);e.Reference=g,u.Query.__referenceConstructor=g,y.SyncPoint.__referenceConstructor=g},"6Kk2":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){this.createdAt=new Date}}()},"6S6c":function(t,e,n){"use strict";var r=n("6Xbx"),i=n("E9/g"),o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return Object(r.b)(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.a);e.a=function(t,e){return function(t,e){return function(n){return n.lift(new o(t,e))}}(t,e)(this)}},"6Xbx":function(t,e,n){"use strict";e.b=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"a",function(){return i});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},"6oqh":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("JEJ4"),o=n("F1yO"),a=n("JEJ4"),s=n("JEJ4"),u=n("JEJ4"),c=n("zzcx");e.ReadonlyRestClient=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=o.logWrapper("p:rest:"),i.listens_={},i}return r(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(i.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===c&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var s=i&&i.accessToken;s&&(e.auth=s);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+u.querystring(e);r.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var t=null;if(l.status>=200&&l.status<300){try{t=a.jsonEval(l.responseText)}catch(t){o.warn("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&o.warn("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()})},e}(c.ServerActions)},"7qHF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mZoP"),i=n("xhf5"),o=n("+VeI"),a=n("j0qB");e.DataConnection=i.PersistentConnection,i.PersistentConnection.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},i.PersistentConnection.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},e.RealTimeConnection=a.Connection,e.hijackHash=function(t){var e=i.PersistentConnection.prototype.put;return i.PersistentConnection.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){i.PersistentConnection.prototype.put=e}},e.ConnectionTarget=r.RepoInfo,e.queryIdentifier=function(t){return t.queryIdentifier()},e.listens=function(t){return t.repo.persistentConnection_.listens_},e.forceRestClient=function(t){o.RepoManager.getInstance().forceRestClient(t)}},"8Ut3":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Object(r.b)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.value,n=t.subscriber;t.done?n.complete():(n.next(e),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(n("AP4T").a)},"8UuO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),i=n("PKQO"),o=n("fvGz"),a=n("5pXs"),s=n("pHuv"),u=n("+VeI"),c=n("JEJ4"),l=n("xfHL");e.Database=function(){function t(t){this.repo_=t,t instanceof s.Repo||r.fatal("Don't call new Database() directly - please use firebase.database()."),this.root_=new a.Reference(t,o.Path.Empty),this.INTERNAL=new h(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),c.validateArgCount("database.ref",0,1,arguments.length),void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),c.validateArgCount(e,1,1,arguments.length);var n=i.parseRepoInfo(t);l.validateUrl(e,1,n);var o=n.repoInfo;return o.host!==this.repo_.repoInfo_.host&&r.fatal(e+": Host name does not match the current database: (found "+o.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&r.fatal("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){c.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){c.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}();var h=function(){function t(t){this.database=t}return t.prototype.delete=function(){return this.database.checkDeleted_("delete"),u.RepoManager.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,Promise.resolve()},t}();e.DatabaseInternals=h},"9ard":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("XtH8"),i=n("JEJ4"),o=n("F1yO"),a=n("cm6g"),s=n("UcKF"),u=n("JEJ4"),c=n("Rgd9"),l=n("JEJ4"),h=n("JEJ4"),f=null;"undefined"!=typeof MozWebSocket?f=MozWebSocket:"undefined"!=typeof WebSocket&&(f=WebSocket),e.setWebSocketImpl=function(t){f=t},e.WebSocketConnection=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=o.logWrapper(this.connId),this.stats_=a.StatsManager.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(t,e,n){var r={};return r[s.VERSION_PARAM]=s.PROTOCOL_VERSION,!h.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(r[s.REFERER_PARAM]=s.FORGE_REF),e&&(r[s.TRANSPORT_SESSION_PARAM]=e),n&&(r[s.LAST_SESSION_PARAM]=n),t.connectionURL(s.WEBSOCKET,r)},e.prototype.open=function(e,n){var i=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,c.PersistentStorage.set("previous_websocket_failure",!0);try{if(h.isNodeSdk()){var o={headers:{"User-Agent":"Firebase/"+s.PROTOCOL_VERSION+"/"+r.default.SDK_VERSION+"/"+t.platform+"/"+(u.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},a=t.env,l=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;l&&(o.proxy={origin:l}),this.mySock=new f(this.connURL,[],o)}else this.mySock=new f(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var p=t.message||t.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=function(){i.log_("Websocket connected."),i.everConnected_=!0},this.mySock.onclose=function(){i.log_("Websocket connection was disconnected."),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(t){i.handleIncomingFrame(t)},this.mySock.onerror=function(t){i.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&i.log_(e),i.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==f&&!e.forceDisallow_},e.previouslyFailed=function(){return c.PersistentStorage.isInMemoryStorage||!0===c.PersistentStorage.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){c.PersistentStorage.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=l.jsonEval(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(i.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=l.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=o.splitStringBySize(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}()}).call(e,n("1WNV"))},"9iV4":function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function i(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function o(t){return"undefined"!=typeof Blob&&t instanceof Blob}function a(t){return"undefined"!=typeof FormData&&t instanceof FormData}function s(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}function u(t,e){return void 0===e&&(e=[]),e?e.reduceRight(function(t,e){return new P(t,e)},t):t}function c(){return"object"==typeof window?window:{}}n.d(e,"b",function(){return _}),n.d(e,"g",function(){return m}),n.d(e,"c",function(){return A}),n.d(e,"a",function(){return R}),n.d(e,"j",function(){return M}),n.d(e,"k",function(){return L}),n.d(e,"d",function(){return z}),n.d(e,"e",function(){return Q}),n.d(e,"f",function(){return K}),n.d(e,"t",function(){return u}),n.d(e,"h",function(){return U}),n.d(e,"l",function(){return j}),n.d(e,"i",function(){return W}),n.d(e,"m",function(){return x}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return V}),n.d(e,"r",function(){return H}),n.d(e,"s",function(){return G}),n.d(e,"p",function(){return B}),n.d(e,"q",function(){return q});var l=n("LMZF"),h=n("GZB0"),f=n("eL9U"),p=n("6S6c"),d=n("dmC+"),y=n("6Xbx"),g=n("Un6q"),v=n("AP4T"),m=function(){},_=function(){},b=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,n),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),w=function(){function t(){}return t.prototype.encodeKey=function(t){return r(t)},t.prototype.encodeValue=function(t){return r(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}(),E=function(){function t(t){void 0===t&&(t={});var e=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new w,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach(function(t){var r=t.indexOf("="),i=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(n){var r=t.fromObject[n];e.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},t}(),C=function(){function t(t,e,n,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();var i;if(function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new b),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new E,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:i(this.body)||o(this.body)||a(this.body)||"string"==typeof this.body?this.body:this.body instanceof E?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:a(this.body)?null:o(this.body)?this.body.type||null:i(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof E?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})},t}(),S=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),T=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new b,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),I=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=S.ResponseHeader,n}return Object(y.b)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(T),O=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=S.Response,n.body=void 0!==e.body?e.body:null,n}return Object(y.b)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(T),N=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(y.b)(e,t),e}(T),A=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r=this;void 0===n&&(n={});var i;if(t instanceof C)i=t;else{var o=void 0;o=n.headers instanceof b?n.headers:new b(n.headers);var a=void 0;n.params&&(a=n.params instanceof E?n.params:new E({fromObject:n.params})),i=new C(t,e,void 0!==n.body?n.body:null,{headers:o,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var s=f.a.call(Object(h.a)(i),function(t){return r.handler.handle(t)});if(t instanceof C||"events"===n.observe)return s;var u=p.a.call(s,function(t){return t instanceof O});switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return d.a.call(u,function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body});case"blob":return d.a.call(u,function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body});case"text":return d.a.call(u,function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body});case"json":default:return d.a.call(u,function(t){return t.body})}case"response":return u;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new E).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,s(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,s(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,s(n,e))},t}(),P=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),R=new l.o("HTTP_INTERCEPTORS"),k=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),D=0,x=function(){},M=function(){function t(t,e){this.callbackMap=t,this.document=e}return t.prototype.nextCallback=function(){return"ng_jsonp_callback_"+D++},t.prototype.handle=function(t){var e=this;if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");return new v.a(function(n){var r=e.nextCallback(),i=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,"="+r+"$1"),o=e.document.createElement("script");o.src=i;var a=null,s=!1,u=!1;e.callbackMap[r]=function(t){delete e.callbackMap[r],u||(a=t,s=!0)};var c=function(){o.parentNode&&o.parentNode.removeChild(o),delete e.callbackMap[r]},l=function(t){u||(c(),s?(n.next(new O({body:a,status:200,statusText:"OK",url:i})),n.complete()):n.error(new N({url:i,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},h=function(t){u||(c(),n.error(new N({error:t,status:0,statusText:"JSONP Error",url:i})))};return o.addEventListener("load",l),o.addEventListener("error",h),e.document.body.appendChild(o),n.next({type:S.Sent}),function(){u=!0,o.removeEventListener("load",l),o.removeEventListener("error",h),c()}})},t}(),L=function(){function t(t){this.jsonp=t}return t.prototype.intercept=function(t,e){return"JSONP"===t.method?this.jsonp.handle(t):e.handle(t)},t}(),F=/^\)\]\}',?\n/,j=function(){},V=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),U=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new v.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new b(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new I({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(F,"");try{c=""!==c?JSON.parse(c):null}catch(t){c=h,l&&(l=!1,c={error:t,text:c})}}l?(n.next(new O({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new N({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=new N({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error"});n.error(e)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:S.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(t){var e={type:S.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:S.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.abort()}})},t}(),B=new l.o("XSRF_COOKIE_NAME"),q=new l.o("XSRF_HEADER_NAME"),W=function(){},H=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(g.s)(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),G=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t}(),K=function(){function t(){}return t.disable=function(){return{ngModule:t,providers:[{provide:G,useClass:k}]}},t.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:B,useValue:e.cookieName}:[],e.headerName?{provide:q,useValue:e.headerName}:[]]}},t}(),Q=function(){},z=function(){}},"9kU/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("p+VM"),i=n("ertD"),o=n("JEJ4");e.EventGenerator=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,o=[],a=[];return t.forEach(function(t){t.type===i.Change.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push(i.Change.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(o,i.Change.CHILD_REMOVED,t,n,e),this.generateEventsForType_(o,i.Change.CHILD_ADDED,t,n,e),this.generateEventsForType_(o,i.Change.CHILD_MOVED,a,n,e),this.generateEventsForType_(o,i.Change.CHILD_CHANGED,t,n,e),this.generateEventsForType_(o,i.Change.VALUE,t,n,e),o},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw o.assertionError("Should only compare child_ events.");var n=new r.NamedNode(t.childName,t.snapshotNode),i=new r.NamedNode(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}()},A4jy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.DataEvent=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+r.stringify(this.snapshot.exportVal())},t}(),e.CancelEvent=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}()},AP4T:function(t,e,n){"use strict";var r=n("xIGM"),i=n("E9/g"),o=n("V7AE"),a=n("grVA"),s=n("mz3w"),u=n("ExCY");n.d(e,"a",function(){return c});var c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(r?r.call(s,this.source):s.add(this.source?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[s.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:Object(u.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}()},B1iP:function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},B2QA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("JEJ4"),o=n("fvGz"),a=n("2kNe"),s=n("/fob"),u=n("R3TC");e.WriteTree=function(){function t(){this.visibleWrites_=a.CompoundWrite.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new c(t,this)},t.prototype.addOverwrite=function(t,e,n,r){i.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){i.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});i.assert(n>=0,"removeWrite called with nonexistent writeId.");var o=this.allWrites_[n];this.allWrites_.splice(n,1);for(var a=o.visible,s=!1,u=this.allWrites_.length-1;a&&u>=0;){var c=this.allWrites_[u];c.visible&&(u>=n&&this.recordContainsPath_(c,o.path)?a=!1:o.path.contains(c.path)&&(s=!0)),u--}return!!a&&(s?(this.resetTree_(),!0):(o.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(o.path):r.forEach(o.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(o.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var a=this.visibleWrites_.childCompoundWrite(e);return!i&&a.isEmpty()?n:i||null!=n||a.hasCompleteWrite(o.Path.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||u.ChildrenNode.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var c=this.visibleWrites_.childCompoundWrite(e);return c.isEmpty()?n:null!=n||c.hasCompleteWrite(o.Path.Empty)?c.apply(n||u.ChildrenNode.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=u.ChildrenNode.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(s.PRIORITY_INDEX,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(s.PRIORITY_INDEX,function(t,e){var r=i.childCompoundWrite(new o.Path(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){i.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=t.child(e);if(this.visibleWrites_.hasCompleteWrite(o))return null;var a=this.visibleWrites_.childCompoundWrite(o);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,a){var s,u=this.visibleWrites_.childCompoundWrite(t),c=u.getCompleteNode(o.Path.Empty);if(null!=c)s=c;else{if(null==e)return[];s=u.apply(e)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=i?s.getReverseIteratorFrom(n,a):s.getIteratorFrom(n,a),p=f.getNext();p&&l.length<r;)0!==h(p,n)&&l.push(p),p=f.getNext();return l},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!r.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,o.Path.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var s=a.CompoundWrite.Empty,u=0;u<t.length;++u){var c=t[u];if(e(c)){var l=c.path,h=void 0;if(c.snap)n.contains(l)?(h=o.Path.relativePath(n,l),s=s.addWrite(h,c.snap)):l.contains(n)&&(h=o.Path.relativePath(l,n),s=s.addWrite(o.Path.Empty,c.snap.getChild(h)));else{if(!c.children)throw i.assertionError("WriteRecord should have .snap or .children");if(n.contains(l))h=o.Path.relativePath(n,l),s=s.addWrites(h,c.children);else if(l.contains(n))if((h=o.Path.relativePath(l,n)).isEmpty())s=s.addWrites(o.Path.Empty,c.children);else{var f=r.safeGet(c.children,h.getFront());if(f){var p=f.getChild(h.popFront());s=s.addWrite(o.Path.Empty,p)}}}}}return s},t}();var c=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();e.WriteTreeRef=c},CASk:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=n("KRwF").a.create},CIVu:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("YY8E"),o=n("JEJ4");e.VisibilityMonitor=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return r(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(i.EventEmitter)},COMn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Error.captureStackTrace;e.patchCapture=function(t){var e=r;return r=t,e};var i=function(){return function(t,e){if(this.code=t,this.message=e,r)r(this,o.prototype.create);else{var n=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();e.FirebaseError=i,i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.name="FirebaseError";var o=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],o=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var a=new i(o,n=this.serviceName+": "+n+" ("+o+").");for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(a[s]=e[s]);return a},t}();e.ErrorFactory=o},Dvgu:function(t,e,n){t.exports=n("tYwN")},"E9/g":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6Xbx"),i=n("B1iP"),o=n("qLnt"),a=n("grVA"),s=n("V7AE"),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.a;break;case 1:if(!n){this.destination=a.a;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return Object(r.b)(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.a),c=function(t){function e(e,n,r,o){t.call(this),this._parentSubscriber=e;var s,u=this;Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return Object(r.b)(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},EAgh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.TransactionResult=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return r.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}()},"Ecq+":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(e){t.call(this),this.scheduler=e}return Object(r.b)(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(n("AP4T").a)},EqqR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/byE");e.assert=function(t,n){if(!t)throw e.assertionError(n)},e.assertionError=function(t){return new Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}},ExCY:function(t,e,n){"use strict";function r(){}function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r}e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i(t)},e.b=i},F1yO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("JEJ4"),o=n("JEJ4"),a=n("JEJ4"),s=n("JEJ4"),u=n("JEJ4"),c=n("Rgd9"),l=n("JEJ4");e.LUIDGenerator=function(){var t=1;return function(){return t++}}(),e.sha1=function(t){var e=s.stringToByteArray(t),n=new a.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)};var h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=h.apply(null,t[r]):n+="object"==typeof t[r]?u.stringify(t[r]):t[r],n+=" ";return n};e.logger=null;var f=!0;e.enableLogging=function(t,n){r.assert(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?e.logger=console.log.bind(console):"object"==typeof console.log&&(e.logger=function(t){console.log(t)})),n&&c.SessionStorage.set("logging_enabled",!0)):"function"==typeof t?e.logger=t:(e.logger=null,c.SessionStorage.remove("logging_enabled"))},e.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!0===f&&(f=!1,null===e.logger&&!0===c.SessionStorage.get("logging_enabled")&&e.enableLogging(!0)),e.logger){var r=h.apply(null,t);e.logger(r)}},e.logWrapper=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.log.apply(void 0,[t].concat(n))}},e.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof console){var n="FIREBASE INTERNAL ERROR: "+h.apply(void 0,t);void 0!==console.error?console.error(n):console.log(n)}},e.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=h.apply(void 0,t);throw new Error("FIREBASE FATAL ERROR: "+n)},e.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof console){var n="FIREBASE WARNING: "+h.apply(void 0,t);void 0!==console.warn?console.warn(n):console.log(n)}},e.warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&e.warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},e.warnAboutUnsupportedMethod=function(t){e.warn(t+" is unsupported and will likely change soon.  Please do not use.")},e.isInvalidJSONNumber=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},e.executeWhenDOMReady=function(t){if(l.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},e.MIN_NAME="[MIN_NAME]",e.MAX_NAME="[MAX_NAME]",e.nameCompare=function(t,n){if(t===n)return 0;if(t===e.MIN_NAME||n===e.MAX_NAME)return-1;if(n===e.MIN_NAME||t===e.MAX_NAME)return 1;var r=e.tryParseInt(t),i=e.tryParseInt(n);return null!==r?null!==i?r-i==0?t.length-n.length:r-i:-1:null!==i?1:t<n?-1:1},e.stringCompare=function(t,e){return t===e?0:t<e?-1:1},e.requireKey=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+u.stringify(e))},e.ObjectToUniqueKey=function(t){if("object"!=typeof t||null===t)return u.stringify(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=u.stringify(n[o]),i+=":",i+=e.ObjectToUniqueKey(t[n[o]]);return i+="}"},e.splitStringBySize=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r},e.each=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else i.forEach(t,function(t,n){return e(n,t)})},e.bindCallback=function(t,e){return e?t.bind(e):t},e.doubleToIEEE754String=function(t){r.assert(!e.isInvalidJSONNumber(t),"Invalid JSON number");var n,i,o,a,s,u,c;for(0===t?(i=0,o=0,n=1/t==-1/0?1:0):(n=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(i=(a=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(i=0,o=Math.round(t/Math.pow(2,-1074)))),u=[],s=52;s;s-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(s=11;s;s-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(n?1:0),u.reverse(),c=u.join("");var l="";for(s=0;s<64;s+=8){var h=parseInt(c.substr(s,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()},e.isChromeExtensionContentScript=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},e.isWindowsStoreApp=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},e.errorForServerCode=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},e.INTEGER_REGEXP_=new RegExp("^-?\\d{1,10}$"),e.tryParseInt=function(t){if(e.INTEGER_REGEXP_.test(t)){var n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},e.exceptionGuard=function(t){try{t()}catch(t){setTimeout(function(){throw e.warn("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},e.callUserCallback=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];"function"==typeof t&&e.exceptionGuard(function(){t.apply(void 0,n)})},e.beingCrawled=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},e.exportPropGetter=function(t,e,n){Object.defineProperty(t,e,{get:n})},e.setTimeoutNonBlocking=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n}},FGYS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qYrH"),i=n("9ard"),o=n("F1yO");e.TransportManager=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[r.BrowserPollConnection,i.WebSocketConnection]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=i.WebSocketConnection&&i.WebSocketConnection.isAvailable(),r=n&&!i.WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(n||o.warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[i.WebSocketConnection];else{var a=this.transports_=[];o.each(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&a.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}()},FOvx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),i=n("gOHv");e.ListenComplete=function(){function t(t,e){this.source=t,this.path=e,this.type=i.OperationType.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,r.Path.Empty):new t(this.source,this.path.popFront())},t}()},Fwmd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.MemoryStorage=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return r.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}()},G0Qy:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("JEJ4"),o=n("F1yO"),a=n("GboV"),s=n("R3TC"),u=n("p+VM"),c=n("43Go");e.PathIndex=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,i.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return r(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?o.nameCompare(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=c.nodeFromJSON(t),r=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new u.NamedNode(e,r)},e.prototype.maxPost=function(){var t=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,s.MAX_NODE);return new u.NamedNode(o.MAX_NAME,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(a.Index)},GEki:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("y8hQ"),i=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}();e.NoCompleteChildSource_=i,e.NO_COMPLETE_CHILD_SOURCE=new i,e.WriteTreeCompleteChildSource=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new r.CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}()},GTlS:function(t,e,n){"use strict";var r=n("6Xbx"),i=n("xIGM"),o=function(t){function e(e,n){t.call(this)}return Object(r.b)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("qLnt").a);n.d(e,"a",function(){return a});var a=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return Object(r.b)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),i.a.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;i.a.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(o)},GZB0:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=n("Oryw").a.of},GboV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("p+VM"),i=n("F1yO");e.Index=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new r.NamedNode(i.MIN_NAME,t),o=new r.NamedNode(i.MIN_NAME,e);return 0!==this.compare(n,o)},t.prototype.minPost=function(){return r.NamedNode.MIN},t}()},GnQ5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("xfHL"),o=n("fvGz"),a=n("/fob");e.DataSnapshot=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return r.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return r.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return r.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return r.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){r.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),i.validatePathString("DataSnapshot.child",1,e,!1);var n=new o.Path(e),s=this.ref_.child(n);return new t(this.node_.getChild(n),s,a.PRIORITY_INDEX)},t.prototype.hasChild=function(t){r.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),i.validatePathString("DataSnapshot.hasChild",1,t,!1);var e=new o.Path(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return r.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return r.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),r.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),a.PRIORITY_INDEX))})},t.prototype.hasChildren=function(){return r.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return r.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return r.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}()},Htcq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("F1yO"),o=n("rbSf"),a=n("R3TC"),s=n("JEJ4"),u=n("dVae"),c=n("FOvx"),l=n("/68J"),h=n("gOHv"),f=n("kCHx"),p=n("fvGz"),d=n("uCc5"),y=n("B2QA");e.SyncTree=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=u.ImmutableTree.Empty,this.pendingWriteTree_=new y.WriteTree,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new f.Overwrite(h.OperationSource.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=u.ImmutableTree.fromObject(e);return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=u.ImmutableTree.Empty;return null!=n.snap?r=r.set(p.Path.Empty,!0):s.forEach(n.children,function(t,e){r=r.set(new p.Path(t),e)}),this.applyOperationToSyncPoints_(new o.AckUserWrite(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new f.Overwrite(h.OperationSource.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=u.ImmutableTree.fromObject(e);return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new c.ListenComplete(h.OperationSource.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=p.Path.relativePath(a,e),c=new f.Overwrite(h.OperationSource.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,c=p.Path.relativePath(a,e),f=u.ImmutableTree.fromObject(n),d=new l.Merge(h.OperationSource.forServerTaggedQuery(s),c,f);return this.applyTaggedOperation_(a,d)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=p.Path.relativePath(o,e),u=new c.ListenComplete(h.OperationSource.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,o=null,s=!1;this.syncPointTree_.foreachOnPath(i,function(t,e){var n=p.Path.relativePath(t,i);o=o||e.getCompleteServerCache(n),s=s||e.hasCompleteView()});var u=this.syncPointTree_.get(i);u?(s=s||u.hasCompleteView(),o=o||u.getCompleteServerCache(p.Path.Empty)):(u=new d.SyncPoint,this.syncPointTree_=this.syncPointTree_.set(i,u));var c;null!=o?c=!0:(c=!1,o=a.ChildrenNode.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=e.getCompleteServerCache(p.Path.Empty);n&&(o=o.updateImmediateChild(t,n))}));var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var h=t.makeQueryKey_(e);r.assert(!(h in this.queryToTagMap_),"View does not exist, but we have a tag");var f=t.getNextQueryTag_();this.queryToTagMap_[h]=f,this.tagToQueryMap_["_"+f]=h}var y=this.pendingWriteTree_.childWrites(i),g=u.addEventRegistration(e,n,y,o,c);if(!l&&!s){var v=u.viewForQuery(e);g=g.concat(this.setupListener_(e,v))}return g},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var y=p[d],g=y.getQuery(),v=this.createListenerForView_(y);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),v.hashFn,v.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=p.Path.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),s.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,o=this.tagForQuery_(e),a=this.createListenerForView_(n),u=this.listenProvider_.startListening(t.queryForListening_(e),o,a.hashFn,a.onComplete),c=this.syncPointTree_.subtree(i);if(o)r.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),s.forEach(n,function(t,e){r=r.concat(e)}),r}),h=0;h<l.length;++h){var f=l[h];this.listenProvider_.stopListening(t.queryForListening_(f),this.tagForQuery_(f))}return u},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||a.ChildrenNode.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var o=i.errorForServerCode(t,n);return e.removeEventRegistration(n,null,o)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return r.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new p.Path(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return s.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);r.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(p.Path.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(p.Path.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(p.Path.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(p.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(p.Path.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}()},Hyt9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Deferred=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}()},JCUt:function(t,e,n){"use strict";function r(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)e.hasOwnProperty(i)&&(t[i]=r(t[i],e[i]));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=function(t){return r(void 0,t)},e.deepExtend=r,e.patchProperty=function(t,e,n){t[e]=n}},JEJ4:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("EqqR")),r(n("e9+7")),r(n("/byE")),r(n("JCUt")),r(n("Hyt9")),r(n("U4XL")),r(n("COMn")),r(n("WH8D")),r(n("NYZW")),r(n("/ygB")),r(n("NeHU")),r(n("uzI5")),r(n("Xp63")),r(n("Tmcl")),r(n("2mdx"))},KH1l:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gOHv"),i=n("JEJ4"),o=n("/0OS"),a=n("ertD"),s=n("R3TC"),u=n("stu6"),c=n("dVae"),l=n("fvGz"),h=n("GEki"),f=function(t,e){this.viewCache=t,this.changes=e};e.ProcessorResult=f,e.ViewProcessor=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){i.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),i.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,a,s){var u,c,l=new o.ChildChangeAccumulator;if(n.type===r.OperationType.OVERWRITE){var h=n;h.source.fromUser?u=this.applyUserOverwrite_(e,h.path,h.snap,a,s,l):(i.assert(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.getServerCache().isFiltered()&&!h.path.isEmpty(),u=this.applyServerOverwrite_(e,h.path,h.snap,a,s,c,l))}else if(n.type===r.OperationType.MERGE){var p=n;p.source.fromUser?u=this.applyUserMerge_(e,p.path,p.children,a,s,l):(i.assert(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.getServerCache().isFiltered(),u=this.applyServerMerge_(e,p.path,p.children,a,s,c,l))}else if(n.type===r.OperationType.ACK_USER_WRITE){var d=n;u=d.revert?this.revertUserWrite_(e,d.path,a,s,l):this.ackUserWrite_(e,d.path,d.affectedTree,a,s,l)}else{if(n.type!==r.OperationType.LISTEN_COMPLETE)throw i.assertionError("Unknown operation type: "+n.type);u=this.listenComplete_(e,n.path,a,l)}var y=l.getChanges();return t.maybeAddValueEvent_(e,u,y),new f(u,y)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(a.Change.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,o){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var u=void 0,c=void 0;if(e.isEmpty())if(i.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),h=n.calcCompleteEventChildren(l instanceof s.ChildrenNode?l:s.ChildrenNode.EMPTY_NODE);u=this.filter_.updateFullNode(t.getEventCache().getNode(),h,o)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());u=this.filter_.updateFullNode(t.getEventCache().getNode(),f,o)}else{var p=e.getFront();if(".priority"==p){i.assert(1==e.getLength(),"Can't have a priority with additional path components");var d=a.getNode();c=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,d,c);u=null!=y?this.filter_.updatePriority(d,y):a.getNode()}else{var g=e.popFront(),v=void 0;if(a.isCompleteForChild(p)){c=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),c);v=null!=m?a.getNode().getImmediateChild(p).updateChild(g,m):a.getNode().getImmediateChild(p)}else v=n.calcCompleteChild(p,t.getServerCache());u=null!=v?this.filter_.updateChild(a.getNode(),p,v,g,r,o):a.getNode()}}return t.updateEventSnap(u,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var f=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),d=u.getNode().getImmediateChild(f).updateChild(p,n);s=".priority"==f?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),f,d,p,h.NO_COMPLETE_CHILD_SOURCE,null)}var y=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),g=new h.WriteTreeCompleteChildSource(r,y,i);return this.generateEventCacheAfterServerEvent_(y,e,r,g,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,u,c=t.getEventCache(),l=new h.WriteTreeCompleteChildSource(r,t,i);if(e.isEmpty())u=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var f=e.getFront();if(".priority"===f)u=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(u,c.isFullyInitialized(),c.isFiltered());else{var p=e.popFront(),d=c.getNode().getImmediateChild(f),y=void 0;if(p.isEmpty())y=n;else{var g=l.getCompleteChild(f);y=null!=g?".priority"===p.getBack()&&g.getChild(p.parent()).isEmpty()?g:g.updateChild(p,n):s.ChildrenNode.EMPTY_NODE}if(d.equals(y))a=t;else{var v=this.filter_.updateChild(c.getNode(),f,y,p,l,o);a=t.updateEventSnap(v,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,h=t;u=e.isEmpty()?n:c.ImmutableTree.Empty.setTree(e,n);var f=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(f.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),c=s.applyMerge_(u,n);h=s.applyServerOverwrite_(h,new l.Path(e),c,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!f.hasChild(e)&&!u){var c=t.getServerCache().getNode().getImmediateChild(e),p=s.applyMerge_(c,n);h=s.applyServerOverwrite_(h,new l.Path(e),p,r,i,o,a)}}),h},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var h=c.ImmutableTree.Empty;return s.getNode().forEachChild(u.KEY_INDEX,function(t,e){h=h.set(new l.Path(t),e)}),this.applyServerMerge_(t,e,h,r,i,a,o)}return t}var f=c.ImmutableTree.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(f=f.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,f,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,h.NO_COMPLETE_CHILD_SOURCE,r)},t.prototype.revertUserWrite_=function(t,e,n,r,o){var a;if(null!=n.shadowingWrite(e))return t;var u=new h.WriteTreeCompleteChildSource(n,t,r),c=t.getEventCache().getNode(),f=void 0;if(e.isEmpty()||".priority"===e.getFront()){var p=void 0;if(t.getServerCache().isFullyInitialized())p=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var d=t.getServerCache().getNode();i.assert(d instanceof s.ChildrenNode,"serverChildren would be complete if leaf node"),p=n.calcCompleteEventChildren(d)}f=this.filter_.updateFullNode(c,p=p,o)}else{var y=e.getFront(),g=n.calcCompleteChild(y,t.getServerCache());null==g&&t.getServerCache().isCompleteForChild(y)&&(g=c.getImmediateChild(y)),(f=null!=g?this.filter_.updateChild(c,y,g,e.popFront(),u,o):t.getEventCache().getNode().hasChild(y)?this.filter_.updateChild(c,y,s.ChildrenNode.EMPTY_NODE,e.popFront(),u,o):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(f=this.filter_.updateFullNode(f,a,o))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(l.Path.Empty),t.updateEventSnap(f,a,this.filter_.filtersNodes())},t}()},KRwF:function(t,e,n){"use strict";function r(t){var e=t.subscriber;e.closed||(e.next(t.value),e.complete())}function i(t){var e=t.subscriber;e.closed||e.error(t.err)}n.d(e,"a",function(){return s});var o=n("6Xbx"),a=n("xIGM"),s=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return Object(o.b)(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){a.a.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){a.a.setTimeout(function(){throw t})})},e}(n("AP4T").a)},LMZF:function(t,e,n){"use strict";(function(t){function r(t,e,n){function r(){function t(t,e,n){for(var r=t.hasOwnProperty(xn)?t[xn]:Object.defineProperty(t,xn,{value:[]})[xn];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=new((a=r).bind.apply(a,[void 0].concat(e)));return t.annotation=o,t;var a}var i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var i in r)this[i]=r[i]}}}(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function i(){if(!Kn){var t=Gn.Symbol;if(t&&t.iterator)Kn=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Kn=r)}}return Kn}function o(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function a(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function s(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(s).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function u(t){return t.__forward_ref__=u,t.toString=function(){return s(this())},t}function c(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===u?t():t}function l(t){return d("Cannot mix multi providers and regular providers",t)}function h(t,e){if(e)if((e=c(e))instanceof Array)for(var n=0;n<e.length;n++)h(t,e[n]);else{if("function"==typeof e)throw d("Function/Class not supported",e);if(!e||"object"!=typeof e||!e.provide)throw d("Unexpected provider",e);var r=c(e.provide),i=function(t){var e=function(t){var e=Yn,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=c(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof Un||s==Un?i|=1:s instanceof qn||s==qn?i&=-3:s instanceof Bn||s==Bn?i&=-5:u=s instanceof Vn?s.token:c(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=c(t.useExisting),options:6}]}else if(!(n||nr in t))throw d("'deps' required",t);return e}(t),n=Xn,r=Yn,i=!1,o=c(t.provide);if(nr in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=c(t.useClass);else{if("function"!=typeof o)throw d("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(e);if(!0===e.multi){var o=t.get(r);if(o){if(o.fn!==$n)throw l(r)}else t.set(r,o={token:e.provide,deps:[],useNew:!1,fn:$n,value:Yn});o.deps.push({token:r=e,options:6})}var a=t.get(r);if(a&&a.fn==$n)throw l(r);t.set(r,i)}}function f(t,e,n,r,i){try{return function(t,e,n,r,i){var o;if(e){if((o=e.value)==Zn)throw Error(ar+"Circular dependency");if(o===Yn){e.value=Zn;var a=e.useNew,s=e.fn,u=e.deps,c=Yn;if(u.length){c=[];for(var l=0;l<u.length;l++){var h=u[l],p=h.options,d=2&p?n.get(h.token):void 0;c.push(f(h.token,d,n,d||4&p?r:ir,1&p?null:Jn.THROW_IF_NOT_FOUND))}}e.value=o=a?new((y=s).bind.apply(y,[void 0].concat(c))):s.apply(void 0,c)}}else o=r.get(t,i);return o;var y}(t,e,n,r,i)}catch(n){throw n instanceof Error||(n=new Error(n)),(n[rr]=n[rr]||[]).unshift(t),e&&e.value==Zn&&(e.value=Yn),n}}function p(t,e){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==ar?t.substr(2):t;var n=s(e);if(e instanceof Array)n=e.map(s).join(" -> ");else if("object"==typeof e){var r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];r.push(i+":"+("string"==typeof o?JSON.stringify(o):s(o)))}n="{"+r.join(", ")+"}"}return"StaticInjectorError["+n+"]: "+t.replace(or,"\n  ")}function d(t,e){return new Error(p(t,e))}function y(t){return t[ur]}function g(t){return t[cr]}function v(t){return!!t&&"function"==typeof t.then}function m(t){return!!t&&"function"==typeof t.subscribe}function _(){return""+b()+b()+b()}function b(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function w(){throw new Error("Runtime compiler is not loaded")}function E(t){var e=Error("No component factory found for "+s(t)+". Did you add it to @NgModule.entryComponents?");return e[Er]=t,e}function C(t,e){return null}function S(){}function T(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function I(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function O(t){t._nesting--,T(t)}function N(t){jr=t}function A(){if(Ur)throw new Error("Cannot enable prod mode after platform setup.");Vr=!1}function P(){return Ur=!0,Vr}function R(t,e,n){void 0===n&&(n=[]);var r=new Dn("Platform: "+e);return function(e){void 0===e&&(e=[]);var i=k();return i&&!i.injector.get(Br,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):function(t){if(Sn&&!Sn.destroyed&&!Sn.injector.get(Br,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Sn=t.get(Wr);var e=t.get(yr,null);e&&e.forEach(function(t){return t()})}(Jn.create(n.concat(e).concat({provide:r,useValue:!0})))),function(t){var e=k();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function k(){return Sn&&!Sn.destroyed?Sn:null}function D(t,e){return t=Array.isArray(e)?e.reduce(D,t):Object(Nn.a)({},t,e)}function x(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function M(t){return t.reduce(function(t,e){var n=Array.isArray(e)?M(e):e;return t.concat(n)},[])}function L(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function F(t,e,n){t.childNodes.forEach(function(t){t instanceof ii&&(e(t)&&n.push(t),F(t,e,n))})}function j(t,e,n){t instanceof ii&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof ii&&j(t,e,n)})}function V(t){return oi.get(t)||null}function U(t){oi.set(t.nativeNode,t)}function B(t,e){var n=q(t),r=q(e);return n&&r?function(e,n,r){for(var o=t[i()](),a=n[i()]();;){var s=o.next(),u=a.next();if(s.done&&u.done)return!0;if(s.done||u.done)return!1;if(!r(s.value,u.value))return!1}}(0,e,B):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||a(t,e)}function q(t){return!!W(t)&&(Array.isArray(t)||!(t instanceof Map)&&i()in t)}function W(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function H(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function G(){return bi}function K(){return wi}function Q(t){return t||"en-US"}function z(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function J(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function X(t,e){return t.nodes[e]}function Y(t,e){return t.nodes[e]}function Z(t,e){return t.nodes[e]}function $(t,e){return t.nodes[e]}function tt(t,e){return t.nodes[e]}function et(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return nt(n,e),n}(i,t)}function nt(t,e){t[ur]=e,t[lr]=e.logError.bind(e)}function rt(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function it(t){var e=Ai.get(t);return e||(e=s(t)+"_"+Ai.size,Ai.set(t,e)),e}function ot(t,e,n,r){if(r instanceof ai){r=r.wrapped;var i=t.def.nodes[e].bindingIndex+n,o=t.oldValues[i];o instanceof ai&&(o=o.wrapped),t.oldValues[i]=new ai(o)}return r}function at(t){return{id:Pi,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}function st(t,e,n,r){return!(!(2&t.state)&&a(t.oldValues[e.bindingIndex+n],r))}function ut(t,e,n,r){return!!st(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function ct(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!B(i,r))throw et(Oi.createDebugContext(t,e.nodeIndex),i,r,0!=(1&t.state))}function lt(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ht(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function ft(t,e,n,r){try{return lt(33554432&t.def.nodes[e].flags?Y(t,e).componentView:t),Oi.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function pt(t){return t.parent?Y(t.parent,t.parentNodeDef.nodeIndex):null}function dt(t){return t.parent?t.parentNodeDef.parent:null}function yt(t,e){switch(201347067&e.flags){case 1:return Y(t,e.nodeIndex).renderElement;case 2:return X(t,e.nodeIndex).renderText}}function gt(t,e){return t?t+":"+e:e}function vt(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function mt(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function _t(t){return 1<<t%32}function bt(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=_t(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}function wt(t){return t.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:it(e)}})}function Et(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ln.Native?Y(t,n.renderParent.nodeIndex).renderElement:void 0:e}function Ct(t){var e=Di.get(t);return e||((e=t(function(){return Ni})).factory=t,Di.set(t,e)),e}function St(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(yt(t,t.def.lastRenderRootNode))),Tt(t,e,0,t.def.nodes.length-1,n,r,i)}function Tt(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&Ot(t,u,e,i,o,a),s+=u.childCount}}function It(t,e,n,r,i,o){for(var a=t;a&&!vt(a);)a=a.parent;for(var s=a.parent,u=dt(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=s.def.nodes[l];h.ngContentIndex===e&&Ot(s,h,n,r,i,o),l+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(l=0;l<f.length;l++)Nt(t,f[l],n,r,i,o)}}function Ot(t,e,n,r,i,o){if(8&e.flags)It(t,e.ngContent.index,n,r,i,o);else{var a=yt(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Nt(t,a,n,r,i,o),32&e.bindingFlags&&Nt(Y(t,e.nodeIndex).componentView,a,n,r,i,o)):Nt(t,a,n,r,i,o),16777216&e.flags)for(var s=Y(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)St(s[u],n,r,i,o);1&e.flags&&!e.element.name&&Tt(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Nt(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}function At(t){if(":"===t[0]){var e=t.match(xi);return[e[1],e[2]]}return["",t]}function Pt(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Rt(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d,y,g,v,m,_){switch(t){case 1:return e+kt(n)+r;case 2:return e+kt(n)+r+kt(i)+o;case 3:return e+kt(n)+r+kt(i)+o+kt(a)+s;case 4:return e+kt(n)+r+kt(i)+o+kt(a)+s+kt(u)+c;case 5:return e+kt(n)+r+kt(i)+o+kt(a)+s+kt(u)+c+kt(l)+h;case 6:return e+kt(n)+r+kt(i)+o+kt(a)+s+kt(u)+c+kt(l)+h+kt(f)+p;case 7:return e+kt(n)+r+kt(i)+o+kt(a)+s+kt(u)+c+kt(l)+h+kt(f)+p+kt(d)+y;case 8:return e+kt(n)+r+kt(i)+o+kt(a)+s+kt(u)+c+kt(l)+h+kt(f)+p+kt(d)+y+kt(g)+v;case 9:return e+kt(n)+r+kt(i)+o+kt(a)+s+kt(u)+c+kt(l)+h+kt(f)+p+kt(d)+y+kt(g)+v+kt(m)+_;default:throw new Error("Does not support more than 9 expressions")}}function kt(t){return null!=t?t.toString():""}function Dt(t,e,n,r,i,o){t|=1;var a=bt(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Ct(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Ni},provider:null,text:null,query:null,ngContent:null}}function xt(t,e,n,r,i,o,a,s,u,c,l,h){void 0===a&&(a=[]),c||(c=Ni);var f=bt(n),p=f.matchedQueries,d=f.references,y=f.matchedQueryIds,g=null,v=null;o&&(g=(P=At(o))[0],v=P[1]),s=s||[];for(var m=new Array(s.length),_=0;_<s.length;_++){var b=s[_],w=b[0],E=b[2],C=At(b[1]),S=C[1],T=void 0,I=void 0;switch(15&w){case 4:I=E;break;case 1:case 8:T=E}m[_]={flags:w,ns:C[0],name:S,nonMinifiedName:S,securityContext:T,suffix:I}}u=u||[];var O=new Array(u.length);for(_=0;_<u.length;_++){var N=u[_];O[_]={type:0,target:N[0],eventName:N[1],propName:null}}var A=(a=a||[]).map(function(t){var e=t[1],n=At(t[0]);return[n[0],n[1],e]});return h=function(t){if(t&&t.id===Pi){var e=null!=t.encapsulation&&t.encapsulation!==Ln.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+ki++:Ri}return t&&t.id===Ri&&(t=null),t||null}(h),l&&(e|=33554432),e|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:y,references:d,ngContentIndex:r,childCount:i,bindings:m,bindingFlags:Pt(m),outputs:O,element:{ns:g,name:v,attrs:A,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Ni},provider:null,text:null,query:null,ngContent:null};var P}function Mt(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Et(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var c=i.attrs[u];a.setAttribute(r,c[1],c[2],c[0])}return r}function Lt(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=function(t,e,n){return function(r){return ft(t,e,n,r)}}(t,n.nodeIndex,gt(o.target,o.eventName)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var c=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=c}}function Ft(t,e,n,r){if(!ut(t,e,n,r))return!1;var i=e.bindings[n],o=Y(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,o,a){var s=i.securityContext,u=s?t.root.sanitizer.sanitize(s,a):a;u=null!=u?u.toString():null;var c=t.renderer;null!=a?c.setAttribute(n,o,u,r):c.removeAttribute(n,o,r)}(t,0,a,i.ns,s,r);break;case 2:!function(e,n,i,o){var a=t.renderer;r?a.addClass(n,i):a.removeClass(n,i)}(0,a,s);break;case 4:!function(t,e,n,i,o){var a=t.root.sanitizer.sanitize(Ti.STYLE,r);if(null!=a){a=a.toString();var s=e.suffix;null!=s&&(a+=s)}else a=null;var u=t.renderer;null!=a?u.setStyle(n,i,a):u.removeStyle(n,i)}(t,i,a,s);break;case 8:!function(t,e,n,r,o){var a=i.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,0,a,s,r)}return!0}function jt(t,e,n,r){return n=c(n),{index:-1,deps:wt(r),flags:t,token:e,value:n}}function Vt(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[it(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function Ut(t,e,n){if(void 0===n&&(n=Jn.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case Li:case Fi:return t}var i=t._def.providersByKey[r];if(i){var o=t._providers[i.index];return void 0===o&&(o=t._providers[i.index]=Bt(t,i)),o===Mi?void 0:o}return t._parent.get(e.token,n)}function Bt(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Ut(t,n[0]));case 2:return new e(Ut(t,n[0]),Ut(t,n[1]));case 3:return new e(Ut(t,n[0]),Ut(t,n[1]),Ut(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Ut(t,n[o]);return new(e.bind.apply(e,[void 0].concat(i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Ut(t,n[0]));case 2:return e(Ut(t,n[0]),Ut(t,n[1]));case 3:return e(Ut(t,n[0]),Ut(t,n[1]),Ut(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Ut(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=Ut(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?Mi:n}function qt(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Kt(n,e),Oi.dirtyParentQueries(r),Ht(r),r}function Wt(t,e,n){var r=e?yt(e,e.def.lastRenderRootNode):t.renderElement;St(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Ht(t){St(t,3,null,null,void 0)}function Gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kt(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function Qt(t,e,n,r,i,o){return new Vi(t,e,n,r,i,o)}function zt(t,e,n){return new Bi(t,e,n)}function Jt(t){return new qi(t)}function Xt(t,e){return new Wi(t,e)}function Yt(t,e){return new Hi(t,e)}function Zt(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Y(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return X(t,n.nodeIndex).renderText;if(20240&n.flags)return Z(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function $t(t){return new Gi(t.renderer)}function te(t,e,n,r){return new Ki(t,e,n,r)}function ee(t,e,n,r,i,o,a,s){var u=[];if(a)for(var c in a){var l=a[c];u[l[0]]={flags:8,name:c,nonMinifiedName:l[1],ns:null,securityContext:null,suffix:null}}var h=[];if(s)for(var f in s)h.push({type:1,propName:f,target:null,eventName:s[f]});return e|=16384,ie(t,e,n,r,i,i,o,u,h)}function ne(t,e,n){return t|=16,ie(-1,t,null,0,e,e,n)}function re(t,e,n,r,i){return ie(-1,t,e,0,n,r,i)}function ie(t,e,n,r,i,o,a,s,u){var l=bt(n),h=l.matchedQueries,f=l.references,p=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=c(o);var d=wt(a);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:p,references:f,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Pt(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function oe(t,e){return ue(t,e)}function ae(t,e){for(var n=t;n.parent&&!vt(n);)n=n.parent;return ce(n.parent,dt(n),!0,e.provider.value,e.provider.deps)}function se(t,e){var n=ce(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(function(t,e,n){return function(r){return ft(t,e,n,r)}}(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function ue(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return ce(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(le(t,e,n,i[0]));case 2:return r(le(t,e,n,i[0]),le(t,e,n,i[1]));case 3:return r(le(t,e,n,i[0]),le(t,e,n,i[1]),le(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=le(t,e,n,i[s]);return r.apply(void 0,a)}}(t,e.parent,n,r.value,r.deps);case 2048:return le(t,e.parent,n,r.deps[0]);case 256:return r.value}}function ce(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(le(t,e,n,i[0]));case 2:return new r(le(t,e,n,i[0]),le(t,e,n,i[1]));case 3:return new r(le(t,e,n,i[0]),le(t,e,n,i[1]),le(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=le(t,e,n,i[s]);return new(r.bind.apply(r,[void 0].concat(a)))}}function le(t,e,n,r,i){if(void 0===i&&(i=Jn.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;for(a===Zi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(a){case Qi:return $t(he(t,e,n));case zi:return he(t,e,n).renderer;case Ji:return new zr(Y(t,e.nodeIndex).renderElement);case Xi:return Y(t,e.nodeIndex).viewContainer;case Yi:if(e.element.template)return Y(t,e.nodeIndex).template;break;case Zi:return Jt(he(t,e,n));case $i:return Yt(t,e);default:var s=(n?e.element.allProviders:e.element.publicProviders)[a];if(s){var u=Z(t,s.nodeIndex);return u||(u={instance:ue(t,s)},t.nodes[s.nodeIndex]=u),u.instance}}n=vt(t),e=dt(t),t=t.parent}var c=o.root.injector.get(r.token,to);return c!==to||i===to?c:o.root.ngModule.injector.get(r.token,i)}function he(t,e,n){var r;if(n)r=Y(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!vt(r);)r=r.parent;return r}function fe(t,e,n,r,i,o){if(32768&n.flags){var a=Y(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=t.oldValues[n.bindingIndex+r];s instanceof ai&&(s=s.wrapped),o[n.bindings[r].nonMinifiedName]=new si(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function pe(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&de(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=function(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&de(t,i,o.flags&n,r++),i+=o.childCount}return r}(t,a,e,r)),a=a.parent}}function de(t,e,n,r){var i=Z(t,e);if(i){var o=i.instance;o&&(Oi.setCurrentNode(t,e),1048576&n&&J(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&J(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function ye(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:_t(e),bindings:r},ngContent:null}}function ge(){return new Xr}function ve(t){for(var e=t.def.nodeMatchedQueries;t.parent&&mt(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&tt(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&tt(t,i).setDirty(),i+=o.childCount}}function me(t,e){var n=tt(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=_e(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Z(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=_e(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function _e(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(be(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Y(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(_e(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],f=pt(h);f&&f===u&&_e(h,0,h.def.nodes.length-1,r,i)}var p=u.template._projectedViews;if(p)for(l=0;l<p.length;l++){var d=p[l];_e(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function be(t,e,n){if(null!=n)switch(n){case 1:return Y(t,e.nodeIndex).renderElement;case 0:return new zr(Y(t,e.nodeIndex).renderElement);case 2:return Y(t,e.nodeIndex).template;case 3:return Y(t,e.nodeIndex).viewContainer;case 4:return Z(t,e.nodeIndex).instance}}function we(t,e,n){var r=Et(t,e,n);r&&It(t,n.ngContent.index,1,r,null,void 0)}function Ee(t,e){return Se(128,t,new Array(e+1))}function Ce(t,e){return Se(32,t,new Array(e))}function Se(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Pt(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Te(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ie(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Et(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Oe(t,e){return(null!=t?t.toString():"")+e.suffix}function Ne(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,c=null,l=null,h=!1,f=!1,p=null,d=0;d<e.length;d++){var y=e[d];if(y.nodeIndex=d,y.parent=c,y.bindingIndex=i,y.outputIndex=o,y.renderParent=l,a|=y.flags,u|=y.matchedQueryIds,y.element){var g=y.element;g.publicProviders=c?c.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,f=!1,y.element.template&&(u|=y.element.template.nodeMatchedQueries)}if(function(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}(c,y,e.length),i+=y.bindings.length,o+=y.outputs.length,!l&&3&y.flags&&(p=y),20224&y.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var v=0!=(32768&y.flags);0==(8192&y.flags)||v?c.element.publicProviders[it(y.provider.token)]=y:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[it(y.provider.token)]=y),v&&(c.element.componentProvider=y)}if(c?(c.childFlags|=y.flags,c.directChildFlags|=y.flags,c.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(c.childMatchedQueries|=y.element.template.nodeMatchedQueries)):s|=y.flags,y.childCount>0)c=y,Ae(y)||(l=y);else for(;c&&d===c.nodeIndex+c.childCount;){var m=c.parent;m&&(m.childFlags|=c.childFlags,m.childMatchedQueries|=c.childMatchedQueries),l=(c=m)&&Ae(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Ni,updateRenderer:r||Ni,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function Ae(t){return 0!=(1&t.flags)&&null===t.element.name}function Pe(t,e,n,r){var i=De(t.root,t.renderer,t,e,n);return xe(i,t.component,r),Me(i),i}function Re(t,e,n){var r=De(t,t.renderer,null,null,e);return xe(r,n,n),Me(r),r}function ke(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,De(t.root,i,t,e.element.componentProvider,n)}function De(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function xe(t,e,n){t.component=e,t.context=n}function Me(t){var e;vt(t)&&(e=Y(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];Oi.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=Mt(t,e,o),u=void 0;if(33554432&o.flags){var c=Ct(o.element.componentView);u=Oi.createComponentView(t,o,c,s)}Lt(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Xt(t,o):void 0},16777216&o.flags&&(a.viewContainer=zt(t,o,a));break;case 2:a=Ie(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:oe(t,o)});break;case 16:a={instance:ae(t,o)};break;case 16384:(a=r[i])||(a={instance:se(t,o)}),32768&o.flags&&xe(Y(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=ge();break;case 8:we(t,e,o),a=void 0}r[i]=a}We(t,eo.CreateViewNodes),Qe(t,201326592,268435456,0)}function Le(t){Ve(t),Oi.updateDirectives(t,1),He(t,eo.CheckNoChanges),Oi.updateRenderer(t,1),We(t,eo.CheckNoChanges),t.state&=-97}function Fe(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,z(t,0,256),Ve(t),Oi.updateDirectives(t,0),He(t,eo.CheckAndUpdate),Qe(t,67108864,536870912,0);var e=z(t,256,512);pe(t,2097152|(e?1048576:0)),Oi.updateRenderer(t,0),We(t,eo.CheckAndUpdate),Qe(t,134217728,536870912,0),pe(t,8388608|((e=z(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,z(t,768,1024)}function je(t,e,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,r,i,o,a,s,u,c,l,h,f){var p=e.bindings.length,d=!1;return p>0&&Ft(t,e,0,n)&&(d=!0),p>1&&Ft(t,e,1,i)&&(d=!0),p>2&&Ft(t,e,2,o)&&(d=!0),p>3&&Ft(t,e,3,a)&&(d=!0),p>4&&Ft(t,e,4,s)&&(d=!0),p>5&&Ft(t,e,5,u)&&(d=!0),p>6&&Ft(t,e,6,c)&&(d=!0),p>7&&Ft(t,e,7,l)&&(d=!0),p>8&&Ft(t,e,8,h)&&(d=!0),p>9&&Ft(t,e,9,f)&&(d=!0),d}(t,e,0,r,i,o,a,s,u,c,l,h);case 2:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=!1,p=e.bindings,d=p.length;if(d>0&&ut(t,e,0,n)&&(f=!0),d>1&&ut(t,e,1,r)&&(f=!0),d>2&&ut(t,e,2,i)&&(f=!0),d>3&&ut(t,e,3,o)&&(f=!0),d>4&&ut(t,e,4,a)&&(f=!0),d>5&&ut(t,e,5,s)&&(f=!0),d>6&&ut(t,e,6,u)&&(f=!0),d>7&&ut(t,e,7,c)&&(f=!0),d>8&&ut(t,e,8,l)&&(f=!0),d>9&&ut(t,e,9,h)&&(f=!0),f){var y=e.text.prefix;d>0&&(y+=Oe(n,p[0])),d>1&&(y+=Oe(r,p[1])),d>2&&(y+=Oe(i,p[2])),d>3&&(y+=Oe(o,p[3])),d>4&&(y+=Oe(a,p[4])),d>5&&(y+=Oe(s,p[5])),d>6&&(y+=Oe(u,p[6])),d>7&&(y+=Oe(c,p[7])),d>8&&(y+=Oe(l,p[8])),d>9&&(y+=Oe(h,p[9]));var g=X(t,e.nodeIndex).renderText;t.renderer.setValue(g,y)}return f}(t,e,n,r,i,o,a,s,u,c,l,h);case 16384:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=Z(t,e.nodeIndex),p=f.instance,d=!1,y=void 0,g=e.bindings.length;return g>0&&st(t,e,0,n)&&(d=!0,y=fe(t,f,e,0,n,y)),g>1&&st(t,e,1,r)&&(d=!0,y=fe(t,f,e,1,r,y)),g>2&&st(t,e,2,i)&&(d=!0,y=fe(t,f,e,2,i,y)),g>3&&st(t,e,3,o)&&(d=!0,y=fe(t,f,e,3,o,y)),g>4&&st(t,e,4,a)&&(d=!0,y=fe(t,f,e,4,a,y)),g>5&&st(t,e,5,s)&&(d=!0,y=fe(t,f,e,5,s,y)),g>6&&st(t,e,6,u)&&(d=!0,y=fe(t,f,e,6,u,y)),g>7&&st(t,e,7,c)&&(d=!0,y=fe(t,f,e,7,c,y)),g>8&&st(t,e,8,l)&&(d=!0,y=fe(t,f,e,8,l,y)),g>9&&st(t,e,9,h)&&(d=!0,y=fe(t,f,e,9,h,y)),y&&p.ngOnChanges(y),65536&e.flags&&J(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings,p=!1,d=f.length;if(d>0&&ut(t,e,0,n)&&(p=!0),d>1&&ut(t,e,1,r)&&(p=!0),d>2&&ut(t,e,2,i)&&(p=!0),d>3&&ut(t,e,3,o)&&(p=!0),d>4&&ut(t,e,4,a)&&(p=!0),d>5&&ut(t,e,5,s)&&(p=!0),d>6&&ut(t,e,6,u)&&(p=!0),d>7&&ut(t,e,7,c)&&(p=!0),d>8&&ut(t,e,8,l)&&(p=!0),d>9&&ut(t,e,9,h)&&(p=!0),p){var y=$(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(f.length),d>0&&(g[0]=n),d>1&&(g[1]=r),d>2&&(g[2]=i),d>3&&(g[3]=o),d>4&&(g[4]=a),d>5&&(g[5]=s),d>6&&(g[6]=u),d>7&&(g[7]=c),d>8&&(g[8]=l),d>9&&(g[9]=h);break;case 64:g={},d>0&&(g[f[0].name]=n),d>1&&(g[f[1].name]=r),d>2&&(g[f[2].name]=i),d>3&&(g[f[3].name]=o),d>4&&(g[f[4].name]=a),d>5&&(g[f[5].name]=s),d>6&&(g[f[6].name]=u),d>7&&(g[f[7].name]=c),d>8&&(g[f[8].name]=l),d>9&&(g[f[9].name]=h);break;case 128:var v=n;switch(d){case 1:g=v.transform(n);break;case 2:g=v.transform(r);break;case 3:g=v.transform(r,i);break;case 4:g=v.transform(r,i,o);break;case 5:g=v.transform(r,i,o,a);break;case 6:g=v.transform(r,i,o,a,s);break;case 7:g=v.transform(r,i,o,a,s,u);break;case 8:g=v.transform(r,i,o,a,s,u,c);break;case 9:g=v.transform(r,i,o,a,s,u,c,l);break;case 10:g=v.transform(r,i,o,a,s,u,c,l,h)}}y.value=g}return p}(t,e,n,r,i,o,a,s,u,c,l,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,c,l,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Ft(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)ut(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=Oe(n[o],r[o]);a=e.text.prefix+a;var s=X(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Z(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)st(t,e,s,n[s])&&(o=!0,a=fe(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&J(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)ut(t,e,o,n[o])&&(i=!0);if(i){var a=$(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:for(s={},o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var u=n[0],c=n.slice(1);s=u.transform.apply(u,c)}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Ve(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Y(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,ht(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ue(t,e,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(t,e,n,i,o,a,s,u,c,l,h,f){var p=e.bindings.length;p>0&&ct(t,e,0,r),p>1&&ct(t,e,1,i),p>2&&ct(t,e,2,o),p>3&&ct(t,e,3,a),p>4&&ct(t,e,4,s),p>5&&ct(t,e,5,u),p>6&&ct(t,e,6,c),p>7&&ct(t,e,7,l),p>8&&ct(t,e,8,h),p>9&&ct(t,e,9,f)}(t,e,0,i,o,a,s,u,c,l,h,f):function(t,e,n){for(var r=0;r<n.length;r++)ct(t,e,r,n[r])}(t,e,r),!1}function Be(t,e){if(tt(t,e.nodeIndex).dirty)throw et(Oi.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function qe(t){if(!(128&t.state)){if(He(t,eo.Destroy),We(t,eo.Destroy),pe(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=pt(t);if(e){var n=e.template._projectedViews;n&&(Kt(n,n.indexOf(t)),Oi.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Y(t,n).renderElement):2&r.flags?t.renderer.destroyNode(X(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&tt(t,n).destroy()}}(t),vt(t)&&t.renderer.destroy(),t.state|=128}}function We(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Ge(Y(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function He(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Y(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Ge(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ge(t,e){var n=t.state;switch(e){case eo.CheckNoChanges:0==(128&n)&&(12==(12&n)?Le(t):64&n&&Ke(t,eo.CheckNoChangesProjectedViews));break;case eo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Le(t):64&n&&Ke(t,e));break;case eo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Fe(t):64&n&&Ke(t,eo.CheckAndUpdateProjectedViews));break;case eo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Fe(t):64&n&&Ke(t,e));break;case eo.Destroy:qe(t);break;case eo.CreateViewNodes:Me(t)}}function Ke(t,e){He(t,e),We(t,e)}function Qe(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Oi.setCurrentNode(t,a.nodeIndex),r){case 0:me(t,a);break;case 1:Be(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}function ze(t,e,n,r,i,o){return Re(Xe(t,i,i.injector.get(Gr),e,n),r,o)}function Je(t,e,n,r,i,o){var a=i.injector.get(Gr),s=Xe(t,i,new uo(a),e,n),u=rn(r);return _n(oo.create,Re,null,[s,u,o])}function Xe(t,e,n,r,i){var o=e.injector.get(Ii),a=e.injector.get(hr);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function Ye(t,e,n,r){var i=rn(n);return _n(oo.create,Pe,null,[t,e,i,r])}function Ze(t,e,n,r){return n=io.get(e.element.componentProvider.provider.token)||rn(n),_n(oo.create,ke,null,[t,e,n,r])}function $e(t,e,n,r){return te(t,e,n,function(t){var e=function(e){var n=!1,r=!1;return 0===ro.size?{hasOverrides:n,hasDeprecatedOverrides:r}:(t.providers.forEach(function(t){var e=ro.get(t.token);3840&t.flags&&e&&(n=!0,r=r||e.deprecatedBehavior)}),{hasOverrides:n,hasDeprecatedOverrides:r})}(),n=e.hasDeprecatedOverrides;return e.hasOverrides?(t=t.factory(function(){return Ni}),function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=ro.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=wt(i.deps),r.value=i.value)}}(t),t):t}(r))}function tn(t){ro.set(t.token,t)}function en(t,e){var n=Ct(Ct(e.viewDefFactory).nodes[0].element.componentView);io.set(t,n)}function nn(){ro.clear(),io.clear()}function rn(t){if(0===ro.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ro.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Ni});for(var n=0;n<e.length;n++)!function(t,r){for(var i=e[n]+1;i<t.nodes.length;i++){var o=t.nodes[i];if(1&o.flags)return;if(3840&o.flags){var a=o.provider,s=ro.get(a.token);s&&(o.flags=-3841&o.flags|s.flags,a.deps=wt(s.deps),a.value=s.value)}}}(t);return t}function on(t,e,n,r,i,o,a,s,u,c,l,h,f){var p=t.def.nodes[e];return je(t,p,n,r,i,o,a,s,u,c,l,h,f),224&p.flags?$(t,e).value:void 0}function an(t,e,n,r,i,o,a,s,u,c,l,h,f){var p=t.def.nodes[e];return Ue(t,p,n,r,i,o,a,s,u,c,l,h,f),224&p.flags?$(t,e).value:void 0}function sn(t){return _n(oo.detectChanges,Fe,null,[t])}function un(t){return _n(oo.checkNoChanges,Le,null,[t])}function cn(t){return _n(oo.destroy,qe,null,[t])}function ln(t,e){In=t,On=e}function hn(t,e,n,r){return ln(t,e),_n(oo.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function fn(t,e){if(128&t.state)throw rt(oo[Tn]);return ln(t,gn(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?dn(t,a,r,i):yn(t,a,r,i),16384&a.flags&&ln(t,gn(t,n)),224&a.flags?$(t,a.nodeIndex).value:void 0},t)}function pn(t,e){if(128&t.state)throw rt(oo[Tn]);return ln(t,vn(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?dn(t,a,r,i):yn(t,a,r,i),3&a.flags&&ln(t,vn(t,n)),224&a.flags?$(t,a.nodeIndex).value:void 0},t)}function dn(t,e,n,r){if(je.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[function(t){return"ng-reflect-"+(t=t.replace(/[$@]/g,"_").replace(ao,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))}(s.nonMinifiedName)]=function(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}(u))}var c=e.parent,l=Y(t,c.nodeIndex).renderElement;if(c.element.name)for(var h in o)null!=(u=o[h])?t.renderer.setAttribute(l,h,u):t.renderer.removeAttribute(l,h);else t.renderer.setValue(l,"bindings="+JSON.stringify(o,null,2))}}}function yn(t,e,n,r){Ue.apply(void 0,[t,e,n].concat(r))}function gn(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function vn(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}function mn(t,e,n){for(var r in e.references)n[r]=be(t,e,e.references[r])}function _n(t,e,n,r){var i=Tn,o=In,a=On;try{Tn=t;var s=e.apply(n,r);return In=o,On=a,Tn=i,s}catch(t){if(y(t)||!In)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),nt(t,e),t}(t,bn())}}function bn(){return In?new so(In,On):null}function wn(t,e,n){return new lo(t,e,n)}n.d(e,"g",function(){return Hr}),n.d(e,"Q",function(){return A}),n.d(e,"T",function(){return P}),n.d(e,"P",function(){return R}),n.d(e,"w",function(){return qr}),n.d(e,"c",function(){return dr}),n.d(e,"A",function(){return yr}),n.d(e,"z",function(){return gr}),n.d(e,"b",function(){return vr}),n.d(e,"d",function(){return fr}),n.d(e,"e",function(){return pr}),n.d(e,"S",function(){return V}),n.d(e,"K",function(){return Lr}),n.d(e,"V",function(){return N}),n.d(e,"s",function(){return Ci}),n.d(e,"f",function(){return Si}),n.d(e,"m",function(){return kr}),n.d(e,"l",function(){return hr}),n.d(e,"E",function(){return Ii}),n.d(e,"F",function(){return Ti}),n.d(e,"a",function(){return Mn}),n.d(e,"N",function(){return Ln}),n.d(e,"L",function(){return Fn}),n.d(e,"R",function(){return u}),n.d(e,"p",function(){return Jn}),n.d(e,"o",function(){return Dn}),n.d(e,"n",function(){return Vn}),n.d(e,"y",function(){return Un}),n.d(e,"G",function(){return qn}),n.d(e,"x",function(){return Dr}),n.d(e,"B",function(){return Qr}),n.d(e,"C",function(){return Gr}),n.d(e,"D",function(){return Kr}),n.d(e,"i",function(){return _r}),n.d(e,"j",function(){return Sr}),n.d(e,"k",function(){return zr}),n.d(e,"t",function(){return Nr}),n.d(e,"v",function(){return Or}),n.d(e,"u",function(){return Jr}),n.d(e,"H",function(){return $r}),n.d(e,"I",function(){return Yr}),n.d(e,"J",function(){return ti}),n.d(e,"M",function(){return ei}),n.d(e,"h",function(){return ni}),n.d(e,"q",function(){return vi}),n.d(e,"r",function(){return mi}),n.d(e,"O",function(){return ai}),n.d(e,"U",function(){return Ei}),n.d(e,"_7",function(){return q}),n.d(e,"X",function(){return mr}),n.d(e,"W",function(){return Tr}),n.d(e,"_5",function(){return Gn}),n.d(e,"_12",function(){return a}),n.d(e,"_22",function(){return s}),n.d(e,"_8",function(){return m}),n.d(e,"_9",function(){return v}),n.d(e,"Y",function(){return Dt}),n.d(e,"Z",function(){return Qt}),n.d(e,"_0",function(){return wn}),n.d(e,"_1",function(){return at}),n.d(e,"_2",function(){return ee}),n.d(e,"_3",function(){return xt}),n.d(e,"_6",function(){return Rt}),n.d(e,"_14",function(){return Vt}),n.d(e,"_15",function(){return jt}),n.d(e,"_16",function(){return Zt}),n.d(e,"_18",function(){return ne}),n.d(e,"_20",function(){return re}),n.d(e,"_17",function(){return Ce}),n.d(e,"_19",function(){return Ee}),n.d(e,"_21",function(){return ye}),n.d(e,"_23",function(){return Te}),n.d(e,"_24",function(){return ot}),n.d(e,"_25",function(){return Ne}),n.d(e,"_10",function(){return G}),n.d(e,"_11",function(){return K}),n.d(e,"_13",function(){return Q}),n.d(e,"_4",function(){return _});var En,Cn,Sn,Tn,In,On,Nn=n("6Xbx"),An=n("AP4T"),Pn=n("2kLc"),Rn=n("URbD"),kn=n("TO51"),Dn=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),xn="__paramaters__",Mn=new Dn("AnalyzeForEntryComponents"),Ln=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),Fn=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},jn=new Fn("5.1.1"),Vn=r("Inject",function(t){return{token:t}}),Un=r("Optional"),Bn=r("Self"),qn=r("SkipSelf"),Wn="undefined"!=typeof window&&window,Hn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gn=Wn||void 0!==t&&t||Hn,Kn=null,Qn=new Object,zn=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Qn),e===Qn)throw new Error("NullInjectorError: No provider for "+s(t)+"!");return e},t}(),Jn=function(){function t(){}return t.create=function(t,e){return new sr(t,e)},t.THROW_IF_NOT_FOUND=Qn,t.NULL=new zn,t}(),Xn=function(t){return t},Yn=[],Zn=Xn,$n=function(){return Array.prototype.slice.call(arguments)},tr={},er=tr,nr=function(t){for(var e in t)if(t[e]===tr)return e;throw Error("!prop")}({provide:String,useValue:er}),rr="ngTempTokenPath",ir=Jn.NULL,or=/\n/gm,ar="\u0275",sr=function(){function t(t,e){void 0===e&&(e=ir),this.parent=e;var n=this._records=new Map;n.set(Jn,{token:Jn,fn:Xn,deps:Yn,value:this,useNew:!1}),h(n,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return f(t,n,this._records,this.parent,e)}catch(t){var r=t[rr];throw t.message=p("\n"+t.message,r),t.ngTokenPath=r,t[rr]=null,t}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(s(n))}),"StaticInjector["+t.join(", ")+"]"},t}(),ur="ngDebugContext",cr="ngOriginalError",lr="ngErrorLogger",hr=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=t[lr]||function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)};r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?y(t)?y(t):this._findContext(g(t)):null},t.prototype._findOriginalError=function(t){for(var e=g(t);e&&g(e);)e=g(e);return e},t}(),fr=(Function,new Dn("Application Initializer")),pr=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();v(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),dr=new Dn("AppId"),yr=new Dn("Platform Initializer"),gr=new Dn("Platform ID"),vr=new Dn("appBootstrapListener"),mr=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}(),_r=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw w()},t.prototype.compileModuleAsync=function(t){throw w()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw w()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw w()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),br=function(){},wr=function(){},Er="ngComponent",Cr=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw E(t)},t}(),Sr=function(){function t(){}return t.NULL=new Cr,t}(),Tr=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw E(t);return new Ir(e,this._ngModule)},t}(),Ir=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r}return Object(Nn.b)(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(wr),Or=function(){},Nr=function(){},Ar=function(){var t=Gn.wtf;return!(!t||!(En=t.trace)||(Cn=En.events,0))}(),Pr=Ar?function(t,e){return void 0===e&&(e=null),Cn.createScope(t,e)}:function(t,e){return C},Rr=Ar?function(t,e){return En.leaveScope(t,e),e}:function(t,e){return e},kr=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(Nn.b)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,a)},e}(kn.a),Dr=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kr(!1),this.onMicrotaskEmpty=new kr(!1),this.onStable=new kr(!1),this.onError=new kr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),function(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,a){try{return I(t),e.invokeTask(r,i,o,a)}finally{O(t)}},onInvoke:function(e,n,r,i,o,a,s){try{return I(t),e.invoke(r,i,o,a,s)}finally{O(t)}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,T(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.runOutsideAngular(function(){return t.onError.emit(i)}),!1}})}(this)}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,xr,S,S);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}(),xr={},Mr=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kr,this.onMicrotaskEmpty=new kr,this.onStable=new kr,this.onError=new kr}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Lr=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Dr.assertNotInAngularZone(),o(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?o(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Fr=function(){function t(){this._applications=new Map,jr.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),jr.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}(),jr=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Vr=!0,Ur=!1,Br=new Dn("AllowMultipleToken"),qr=function(t,e){this.name=t,this.token=e},Wr=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n=this,r=function(t){return"noop"===t?new Mr:("zone.js"===t?void 0:t)||new Dr({enableLongStackTrace:P()})}(e?e.ngZone:void 0);return r.run(function(){var e=Jn.create([{provide:Dr,useValue:r}],n.injector),i=t.create(e),o=i.injector.get(hr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return x(n._modules,i)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(t){o.handleError(t)}})}),function(t,e,r){try{var o=function(){var t=i.injector.get(pr);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(i),i})}();return v(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}(o,r)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(br),i=D({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Hr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+s(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}(),Hr=function(){function t(t,e,n,r,i,a){var s=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=P(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new An.a(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),c=new An.a(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){Dr.assertNotInAngularZone(),o(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){Dr.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(Pn.a)(u,Rn.a.call(c))}return t.prototype.bootstrap=function(t,e){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=t instanceof wr?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);var i=r instanceof Ir?null:this._injector.get(Or),o=r.create(Jn.NULL,[],e||r.selector,i);o.onDestroy(function(){n._unloadComponent(o)});var a=o.injector.get(Lr,null);return a&&o.injector.get(Fr).registerApplication(o.location.nativeElement,a),this._loadComponent(o),P()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,Rr(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;x(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vr,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),x(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Pr("ApplicationRef#tick()"),t}(),Gr=function(){},Kr=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Qr=function(){},zr=function(t){this.nativeElement=t},Jr=function(){},Xr=function(){function t(){this.dirty=!0,this._results=[],this.changes=new kr}return Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[i()]=function(){return this._results[i()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=M(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Yr=function(){},Zr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},$r=function(){function t(t,e){this._compiler=t,this._config=e||Zr}return t.prototype.load=function(t){return this._compiler instanceof _r?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),i=r[0],o=r[1];return void 0===o&&(o="default"),n("YuZA")(i).then(function(t){return t[o]}).then(function(t){return L(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("YuZA")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return L(t,r,i)})},t}(),ti=function(){},ei=function(){},ni=function(){},ri=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof ii?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),ii=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(Nn.b)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,r=this.childNodes.indexOf(t);-1!==r&&((i=this.childNodes).splice.apply(i,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var i},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return F(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return j(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(ri),oi=new Map,ai=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),si=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),ui=function(){function t(){}return t.prototype.supports=function(t){return q(t)},t.prototype.create=function(t){return new li(t)},t}(),ci=function(t,e){return e},li=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ci}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<H(n,r,i)?e:n,a=H(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!q(t))throw new Error("Error trying to diff '"+s(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,o,s=this._itHead,u=!1;if(Array.isArray(t)){this.length=t.length;for(var c=0;c<this.length;c++)o=this._trackByFn(c,r=t[c]),null!==s&&a(s.trackById,o)?(u&&(s=this._verifyReinsertion(s,r,o,c)),a(s.item,r)||this._addIdentityChange(s,r)):(s=this._mismatch(s,r,o,c),u=!0),s=s._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[i()](),o=void 0;!(o=r.next()).done;)e(o.value)}(t,function(t){o=e._trackByFn(n,t),null!==s&&a(s.trackById,o)?(u&&(s=e._verifyReinsertion(s,t,o,n)),a(s.item,t)||e._addIdentityChange(s,t)):(s=e._mismatch(s,t,o,n),u=!0),s=s._next,n++}),this.length=n;return this._truncate(s),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(a(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(a(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new hi(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pi),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pi),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),hi=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},fi=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&a(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),pi=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new fi,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}(),di=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||W(t)},t.prototype.create=function(){return new yi},t}(),yi=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||W(t)))throw new Error("Error trying to diff '"+s(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new gi(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){a(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),gi=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},vi=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new qn,new Un]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+(t.name||typeof t)+"'")},t}(),mi=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new qn,new Un]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),_i=[new di],bi=new vi([new ui]),wi=new mi(_i),Ei=R(null,"core",[{provide:gr,useValue:"unknown"},{provide:Wr,deps:[Jn]},{provide:Fr,deps:[]},{provide:mr,deps:[]}]),Ci=new Dn("LocaleId"),Si=function(t){},Ti=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ii=function(){},Oi={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Ni=function(){},Ai=new Map,Pi="$$undefined",Ri="$$empty",ki=0,Di=new WeakMap,xi=/^:([^:]+):(.+)$/,Mi=new Object,Li=it(Jn),Fi=it(Or),ji=new Object,Vi=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(Nn.b)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Ct(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Oi.createRootView(t,e||[],n,i,r,ji),s=Z(a,o).instance;return n&&a.renderer.setAttribute(Y(a,0).renderElement,"ng-version",jn.full),new Ui(a,new qi(a),s)},e}(wr),Ui=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(Nn.b)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new zr(Y(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Hi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(function(){}),Bi=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new zr(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Hi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=dt(t),t=t.parent;return t?new Hi(t,e):new Hi(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=qt(this._data,t);Oi.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new qi(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Ir||(i=o.get(Or));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t;return function(t,e,n,r){var i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,Gt(i,n,r),function(t,e){var n=pt(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(e,r),Oi.dirtyParentQueries(r),Wt(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this._embeddedViews.indexOf(t._view);return function(t,e,r){var i=t.viewContainer._embeddedViews,o=i[n];Kt(i,n),null==r&&(r=i.length),Gt(i,r,o),Oi.dirtyParentQueries(o),Ht(o),Wt(t,r>0?i[r-1]:null,o)}(this._data,0,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=qt(this._data,t);e&&Oi.destroyView(e)},t.prototype.detach=function(t){var e=qt(this._data,t);return e?new qi(e):null},t}(),qi=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return function(t){var e=[];return St(t,0,void 0,void 0,e),e}(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){lt(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Oi.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Oi.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Oi.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Ht(this._view),Oi.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),Wi=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(Nn.b)(e,t),e.prototype.createEmbeddedView=function(t){return new qi(Oi.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new zr(Y(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(ti),Hi=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=Jn.THROW_IF_NOT_FOUND),Oi.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:it(t)},e)},t}(),Gi=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=At(e),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=At(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),Ki=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||(n[r]=Bt(t,i))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=Jn.THROW_IF_NOT_FOUND),Ut(this,{token:t,tokenKey:it(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Sr)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+s(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=t._providers[r];i&&i!==Mi&&i.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Qi=it(function(){}),zi=it(Qr),Ji=it(zr),Xi=it(ei),Yi=it(ti),Zi=it(ni),$i=it(Jn),to={},eo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}(),no=!1,ro=new Map,io=new Map,oo=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}(),ao=/([A-Z])/g,so=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=dt(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Y(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Yt(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){mn(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&mn(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!vt(t);)t=t.parent;return t.parent?Y(t.parent,dt(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?yt(this.view,this.nodeDef):yt(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i;2&this.nodeDef.flags?(r=this.view.def,i=this.nodeDef.nodeIndex):(r=this.elView.def,i=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(r,i),a=-1;r.factory(function(){return++a===o?(n=t.error).bind.apply(n,[t].concat(e)):Ni;var n}),a<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),uo=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new co(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),co=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){!function(t){oi.delete(t.nativeNode)}(V(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=bn();if(r){var i=new ii(n,null,r);i.name=t,U(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=bn();return n&&U(new ri(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=bn();return n&&U(new ri(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=V(t),r=V(e);n&&r&&n instanceof ii&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=V(t),i=V(e),o=V(n);r&&i&&r instanceof ii&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=V(t),r=V(e);n&&r&&n instanceof ii&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=bn();return n&&U(new ii(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=V(t);i&&i instanceof ii&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=V(t);r&&r instanceof ii&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=V(t);n&&n instanceof ii&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=V(t);n&&n instanceof ii&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=V(t);i&&i instanceof ii&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=V(t);r&&r instanceof ii&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=V(t);r&&r instanceof ii&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=V(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),lo=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(Nn.b)(e,t),e.prototype.create=function(t){!function(){if(!no){no=!0;var t=P()?{setCurrentNode:ln,createRootView:Je,createEmbeddedView:Ye,createComponentView:Ze,createNgModuleRef:$e,overrideProvider:tn,overrideComponentView:en,clearOverrides:nn,checkAndUpdateView:sn,checkNoChangesView:un,destroyView:cn,createDebugContext:function(t,e){return new so(t,e)},handleEvent:hn,updateDirectives:fn,updateRenderer:pn}:{setCurrentNode:function(){},createRootView:ze,createEmbeddedView:Pe,createComponentView:ke,createNgModuleRef:te,overrideProvider:Ni,overrideComponentView:Ni,clearOverrides:Ni,checkAndUpdateView:Fe,checkNoChangesView:Le,destroyView:qe,createDebugContext:function(t,e){return new so(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?on:an,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?on:an,t)}};Oi.setCurrentNode=t.setCurrentNode,Oi.createRootView=t.createRootView,Oi.createEmbeddedView=t.createEmbeddedView,Oi.createComponentView=t.createComponentView,Oi.createNgModuleRef=t.createNgModuleRef,Oi.overrideProvider=t.overrideProvider,Oi.overrideComponentView=t.overrideComponentView,Oi.clearOverrides=t.clearOverrides,Oi.checkAndUpdateView=t.checkAndUpdateView,Oi.checkNoChangesView=t.checkNoChangesView,Oi.destroyView=t.destroyView,Oi.resolveDep=le,Oi.createDebugContext=t.createDebugContext,Oi.handleEvent=t.handleEvent,Oi.updateDirectives=t.updateDirectives,Oi.updateRenderer=t.updateRenderer,Oi.dirtyParentQueries=ve}}();var e=Ct(this._ngModuleDefFactory);return Oi.createNgModuleRef(this.moduleType,t||Jn.NULL,this._bootstrapComponents,e)},e}(Nr)}).call(e,n("fRUx"))},NGRF:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},NYZW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("e9+7"),i=n("WH8D");e.decode=function(t){var e={},n={},o={},a="";try{var s=t.split(".");e=i.jsonEval(r.base64Decode(s[0])||""),n=i.jsonEval(r.base64Decode(s[1])||""),a=s[2],o=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:o,signature:a}},e.isValidTimestamp=function(t){var n,r,i=e.decode(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof i&&(i.hasOwnProperty("nbf")?n=i.nbf:i.hasOwnProperty("iat")&&(n=i.iat),r=i.hasOwnProperty("exp")?i.exp:n+86400),o&&n&&r&&o>=n&&o<=r},e.issuedAtTime=function(t){var n=e.decode(t).claims;return"object"==typeof n&&n.hasOwnProperty("iat")?n.iat:null},e.isValidFormat=function(t){var n=e.decode(t),r=n.claims;return!!n.signature&&!!r&&"object"==typeof r&&r.hasOwnProperty("iat")},e.isAdmin=function(t){var n=e.decode(t).claims;return"object"==typeof n&&!0===n.admin}},NeHU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/ygB");e.querystring=function(t){var e=[];return r.forEach(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e}},Nmrl:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF");var r=function(){function t(){this.isOpen=!1}return t.prototype.onClick=function(t){this.isOpen=!this.isOpen},t}()},NomC:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF");var r=function(){function t(t){this.elementRef=t}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){var e=this;console.log(this.carImgList),this.carImgList.forEach(function(t){t.file&&e.transformToDataUrl(t)})},t.prototype.ngAfterViewInit=function(){var t=this;this.carImgList.forEach(function(e){e.isDefault&&t.elementRef.nativeElement.querySelector("[src='"+e.src+"']").classList.add("default")})},t.prototype.deleteImage=function(t){var e=this.carImgList.indexOf(t);this.carImgList.splice(e,1)},t.prototype.setDefaultImage=function(t){var e=this;this.carImgList.forEach(function(n){var r=e.elementRef.nativeElement.querySelector("[src='"+n.src+"']");if(t.src===n.src)return r.classList.add("default"),void(n.isDefault=!0);r.classList.remove("default"),n.isDefault=!1})},t.prototype.transformToDataUrl=function(t){var e=this,n=this.carImgList.indexOf(t),r=new FileReader;r.readAsDataURL(t.file),r.onload=function(){e.carImgList[n].src=r.result}},t}()},Nq7v:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("GboV"),o=n("p+VM"),a=n("F1yO"),s=n("43Go"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?a.nameCompare(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return o.NamedNode.MIN},e.prototype.maxPost=function(){return o.NamedNode.MAX},e.prototype.makePost=function(t,e){var n=s.nodeFromJSON(t);return new o.NamedNode(e,n)},e.prototype.toString=function(){return".value"},e}(i.Index);e.ValueIndex=u,e.VALUE_INDEX=new u},NtEA:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("6Xbx"),n("LMZF"),n("Z0p1");var r=n("AP4T"),i=function(){function t(t){this.afs=t}return t.prototype.getCollectionRef=function(t,e){return this.afs.collection(t,e)},t.prototype.getCollection$=function(t,e){return this.getCollectionRef(t,e).snapshotChanges().map(function(t){return t.map(function(t){var e=t.payload.doc.data();return e.id=t.payload.doc.id,e})})},t.prototype.getDocRef=function(t,e){return this.afs.doc(t+"/"+(e.uid||e.id))},t.prototype.getDocById$=function(t,e){return this.afs.doc(t+"/"+e).snapshotChanges().map(function(t){var e=t.payload.data();return e.id=t.payload.id,e})},t.prototype.createDoc=function(t,e,n){return r.a.fromPromise(this.getCollectionRef(t,n).add(e))},t.prototype.createDoc1=function(t,e,n){return r.a.fromPromise(this.getCollectionRef(t,n).add(e)),this.getCollectionRef(t,n).add(e)},t.prototype.updateDoc=function(t,e,n){return this.getDocRef(t,e).set(e,n||{merge:!0})},t.prototype.deleteDoc=function(t,e){return this.getDocRef(t,e).delete()},t.prototype.queryFn=function(t,e){return function(n){return n[t].apply(n,e)}},t}()},Oryw:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6Xbx"),i=n("AP4T"),o=n("8Ut3"),a=n("Ecq+"),s=n("3iOE"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(r.b)(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];Object(s.a)(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.a(t[0],r):new a.a(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.a)},OzfH:function(t,e,n){"use strict";function r(t){t.INTERNAL.registerService("messaging",function(t){return self&&"ServiceWorkerGlobalScope"in self?new w(t):new _(t)},{Messaging:_})}Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("JEJ4"),a={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},s={codes:a,map:(i={},i[a.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",i[a.AVAILABLE_IN_SW]="This method is available in a service worker context.",i[a.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",i[a.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",i[a.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",i[a.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",i[a.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",i[a.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",i[a.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",i[a.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",i[a.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",i[a.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",i[a.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",i[a.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",i[a.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",i[a.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",i[a.USE_SW_BEFORE_GET_TOKEN]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",i[a.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",i[a.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",i[a.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",i[a.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",i[a.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",i[a.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",i[a.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",i[a.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",i[a.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",i[a.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",i[a.BAD_SCOPE]="The service worker scope must be a string with at least one character.",i[a.BAD_VAPID_KEY]="The public VAPID key must be a string with at least one character.",i[a.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",i[a.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",i[a.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",i[a.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",i)},u=function(t){return function(t){var e=new Uint8Array(t);return window.btoa(String.fromCharCode.apply(null,e))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},c=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],l={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:c,SUBSCRIPTION_OPTIONS:{userVisibleOnly:!0,applicationServerKey:new Uint8Array(c)}},h="fcm_token_object_Store",f=function(){function t(){this.errorFactory_=new o.ErrorFactory("messaging","Messaging",s.map),this.openDbPromise_=null}return t.prototype.openDatabase_=function(){return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(e,n){var r=indexedDB.open(t.DB_NAME,1);r.onerror=function(t){n(t.target.error)},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(t){var e=t.target.result.createObjectStore(h,{keyPath:"swScope"});e.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),e.createIndex("fcmToken","fcmToken",{unique:!0})}}),this.openDbPromise_)},t.prototype.closeDatabase=function(){var t=this;return this.openDbPromise_?this.openDbPromise_.then(function(e){e.close(),t.openDbPromise_=null}):Promise.resolve()},t.prototype.getTokenDetailsFromToken=function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,r){var i=e.transaction([h]).objectStore(h).index("fcmToken").get(t);i.onerror=function(t){r(t.target.error)},i.onsuccess=function(t){n(t.target.result)}})})},t.prototype.getTokenDetailsFromSWScope_=function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,r){var i=e.transaction([h]).objectStore(h).get(t);i.onerror=function(t){r(t.target.error)},i.onsuccess=function(t){n(t.target.result)}})})},t.prototype.getAllTokenDetailsForSenderId_=function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,r){var i=[],o=e.transaction([h]).objectStore(h).openCursor();o.onerror=function(t){r(t.target.error)},o.onsuccess=function(e){var r=e.target.result;r?(r.value.fcmSenderId===t&&i.push(r.value),r.continue()):n(i)}})})},t.prototype.subscribeToFCM=function(t,e,n){var r=this,i=u(e.getKey("p256dh")),o=u(e.getKey("auth")),a="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+i+"&encryption_auth="+o;n&&(a+="&pushSet="+n);var c=new Headers;c.append("Content-Type","application/x-www-form-urlencoded");var h={method:"POST",headers:c,body:a};return fetch(l.ENDPOINT+"/fcm/connect/subscribe",h).then(function(t){return t.json()}).then(function(t){var e=t;if(e.error)throw r.errorFactory_.create(s.codes.TOKEN_SUBSCRIBE_FAILED,{message:e.error.message});if(!e.token)throw r.errorFactory_.create(s.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!e.pushSet)throw r.errorFactory_.create(s.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:e.token,pushSet:e.pushSet}})},t.prototype.isSameSubscription_=function(t,e){return t.endpoint===e.endpoint&&u(t.getKey("auth"))===e.auth&&u(t.getKey("p256dh"))===e.p256dh},t.prototype.saveTokenDetails_=function(t,e,n,r,i){var o={swScope:e.scope,endpoint:n.endpoint,auth:u(n.getKey("auth")),p256dh:u(n.getKey("p256dh")),fcmToken:r,fcmPushSet:i,fcmSenderId:t};return this.openDatabase_().then(function(t){return new Promise(function(e,n){var r=t.transaction([h],"readwrite").objectStore(h).put(o);r.onerror=function(t){n(t.target.error)},r.onsuccess=function(t){e()}})})},t.prototype.getSavedToken=function(t,e){var n=this;return e instanceof ServiceWorkerRegistration?"string"!=typeof t||0===t.length?Promise.reject(this.errorFactory_.create(s.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(t).then(function(n){if(0!==n.length){var r=n.findIndex(function(n){return e.scope===n.swScope&&t===n.fcmSenderId});if(-1!==r)return n[r]}}).then(function(t){if(t)return e.pushManager.getSubscription().catch(function(t){throw n.errorFactory_.create(s.codes.GET_SUBSCRIPTION_FAILED)}).then(function(e){if(e&&n.isSameSubscription_(e,t))return t.fcmToken})}):Promise.reject(this.errorFactory_.create(s.codes.SW_REGISTRATION_EXPECTED))},t.prototype.createToken=function(t,e){var n=this;if("string"!=typeof t||0===t.length)return Promise.reject(this.errorFactory_.create(s.codes.BAD_SENDER_ID));if(!(e instanceof ServiceWorkerRegistration))return Promise.reject(this.errorFactory_.create(s.codes.SW_REGISTRATION_EXPECTED));var r,i;return e.pushManager.getSubscription().then(function(t){return t||e.pushManager.subscribe(l.SUBSCRIPTION_OPTIONS)}).then(function(e){return r=e,n.subscribeToFCM(t,r)}).then(function(o){return i=o,n.saveTokenDetails_(t,e,r,i.token,i.pushSet)}).then(function(){return i.token})},t.prototype.deleteToken=function(t){var e=this;return"string"!=typeof t||0===t.length?Promise.reject(this.errorFactory_.create(s.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(t).then(function(t){if(!t)throw e.errorFactory_.create(s.codes.DELETE_TOKEN_NOT_FOUND);return e.openDatabase_().then(function(n){return new Promise(function(r,i){var o=n.transaction([h],"readwrite").objectStore(h).delete(t.swScope);o.onerror=function(t){i(t.target.error)},o.onsuccess=function(n){0!==n.target.result?r(t):i(e.errorFactory_.create(s.codes.FAILED_TO_DELETE_TOKEN))}})})})},t}(),p="messagingSenderId",d=function(){function t(t){var e=this;if(this.errorFactory_=new o.ErrorFactory("messaging","Messaging",s.map),!t.options[p]||"string"!=typeof t.options[p])throw this.errorFactory_.create(s.codes.BAD_SENDER_ID);this.messagingSenderId_=t.options[p],this.tokenManager_=new f,this.app=t,this.INTERNAL={},this.INTERNAL.delete=function(){return e.delete}}return t.prototype.getToken=function(){var t=this,e=this.getNotificationPermission_();return"granted"!==e?"denied"===e?Promise.reject(this.errorFactory_.create(s.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then(function(e){return t.tokenManager_.getSavedToken(t.messagingSenderId_,e).then(function(n){return n||t.tokenManager_.createToken(t.messagingSenderId_,e)})})},t.prototype.deleteToken=function(t){var e=this;return this.tokenManager_.deleteToken(t).then(function(){return e.getSWRegistration_().then(function(t){if(t)return t.pushManager.getSubscription()}).then(function(t){if(t)return t.unsubscribe()})})},t.prototype.getSWRegistration_=function(){throw this.errorFactory_.create(s.codes.SHOULD_BE_INHERITED)},t.prototype.requestPermission=function(){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(t){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(t,e,n){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(t,e,n){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(t){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_SW)},t.prototype.delete=function(){return this.tokenManager_.closeDatabase()},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenManager=function(){return this.tokenManager_},t}(),y={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},g=y,v=function(t,e){return n={},n[y.TYPE_OF_MSG]=t,n[y.DATA]=e,n;var n},m=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t){function e(e){var n=t.call(this,e)||this;return n.messageObserver_=null,n.onMessage_=Object(o.createSubscribe)(function(t){n.messageObserver_=t}),n.tokenRefreshObserver_=null,n.onTokenRefresh_=Object(o.createSubscribe)(function(t){n.tokenRefreshObserver_=t}),n.setupSWMessageListener_(),n}return m(e,t),e.prototype.getToken=function(){var e=this;return this.isSupported_()?this.manifestCheck_().then(function(){return t.prototype.getToken.call(e)}):Promise.reject(this.errorFactory_.create(s.codes.UNSUPPORTED_BROWSER))},e.prototype.manifestCheck_=function(){var t=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var e=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=e?fetch(e.href).then(function(t){return t.json()}).catch(function(){return Promise.resolve()}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw t.errorFactory_.create(s.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_},e.prototype.requestPermission=function(){var t=this;return"granted"===Notification.permission?Promise.resolve():new Promise(function(e,n){var r=function(r){return"granted"===r?e():n(t.errorFactory_.create("denied"===r?s.codes.PERMISSION_BLOCKED:s.codes.PERMISSION_DEFAULT))},i=Notification.requestPermission(function(t){i||r(t)});i&&i.then(r)})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(s.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.registrationToUse_)throw this.errorFactory_.create(s.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=t},e.prototype.onMessage=function(t,e,n){return this.onMessage_(t,e,n)},e.prototype.onTokenRefresh=function(t,e,n){return this.onTokenRefresh_(t,e,n)},e.prototype.waitForRegistrationToActivate_=function(t){var e=this,n=t.installing||t.waiting||t.active;return new Promise(function(r,i){if(n)if("activated"!==n.state)if("redundant"!==n.state){var o=function(){if("activated"===n.state)r(t);else{if("redundant"!==n.state)return;i(e.errorFactory_.create(s.codes.SW_REG_REDUNDANT))}n.removeEventListener("statechange",o)};n.addEventListener("statechange",o)}else i(e.errorFactory_.create(s.codes.SW_REG_REDUNDANT));else r(t);else i(e.errorFactory_.create(s.codes.NO_SW_IN_REG))})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(e){throw t.errorFactory_.create(s.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse_=e,e.update(),e})}))},e.prototype.setupSWMessageListener_=function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[g.TYPE_OF_MSG]){var n=e.data;switch(n[g.TYPE_OF_MSG]){case"push-msg-received":case"notification-clicked":t.messageObserver_.next(n[g.DATA])}}},!1)},e.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},e}(d),b=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(t){function e(e){var n=t.call(this,e)||this;return self.addEventListener("push",function(t){return n.onPush_(t)},!1),self.addEventListener("pushsubscriptionchange",function(t){return n.onSubChange_(t)},!1),self.addEventListener("notificationclick",function(t){return n.onNotificationClick_(t)},!1),n.bgMessageHandler_=null,n}return b(e,t),e.prototype.onPush_=function(t){var e,n=this;try{e=t.data.json()}catch(t){return}var r=this.hasVisibleClients_().then(function(t){if(t){if(e.notification||n.bgMessageHandler_)return n.sendMessageToWindowClients_(e)}else{var r=n.getNotificationData_(e);if(r){var i=r.title||"";return self.registration.showNotification(i,r)}if(n.bgMessageHandler_)return n.bgMessageHandler_(e)}});t.waitUntil(r)},e.prototype.onSubChange_=function(t){var e=this,n=this.getToken().then(function(t){if(!t)throw e.errorFactory_.create(s.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var n=null,r=e.getTokenManager();return r.getTokenDetailsFromToken(t).then(function(t){if(!(n=t))throw e.errorFactory_.create(s.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(l.SUBSCRIPTION_OPTIONS)}).then(function(t){return r.subscribeToFCM(n.fcmSenderId,t,n.fcmPushSet)}).catch(function(t){return r.deleteToken(n.fcmToken).then(function(){throw e.errorFactory_.create(s.codes.UNABLE_TO_RESUBSCRIBE,{message:t})})})});t.waitUntil(n)},e.prototype.onNotificationClick_=function(t){var e=this;if(t.notification&&t.notification.data&&t.notification.data.FCM_MSG){t.stopImmediatePropagation(),t.notification.close();var n=t.notification.data.FCM_MSG,r=n.notification.click_action;if(r){var i=this.getWindowClient_(r).then(function(t){return t||self.clients.openWindow(r)}).then(function(t){if(t){delete n.notification;var r=v("notification-clicked",n);return e.attemptToMessageClient_(t,r)}});t.waitUntil(i)}}},e.prototype.getNotificationData_=function(t){if(t&&"object"==typeof t.notification){var e=Object.assign({},t.notification);return e.data=(n={},n.FCM_MSG=t,n),e;var n}},e.prototype.setBackgroundMessageHandler=function(t){if(t&&"function"!=typeof t)throw this.errorFactory_.create(s.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=t},e.prototype.getWindowClient_=function(t){var e=new URL(t).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){for(var n=null,r=0;r<t.length;r++)if(new URL(t[r].url).href===e){n=t[r];break}if(n)return n.focus(),n})},e.prototype.attemptToMessageClient_=function(t,e){var n=this;return new Promise(function(r,i){if(!t)return i(n.errorFactory_.create(s.codes.NO_WINDOW_CLIENT_TO_MSG));t.postMessage(e),r()})},e.prototype.hasVisibleClients_=function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){return t.some(function(t){return"visible"===t.visibilityState})})},e.prototype.sendMessageToWindowClients_=function(t){var e=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var r=v("push-msg-received",t);return Promise.all(n.map(function(t){return e.attemptToMessageClient_(t,r)}))})},e.prototype.getSWRegistration_=function(){return Promise.resolve(self.registration)},e}(d),E=n("XtH8");e.registerMessaging=r,r(E.default)},P9wo:function(module,exports,__webpack_require__){(function(global){(function(){function l(t){return"string"==typeof t}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function n(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function fa(t,e,n){return t.call.apply(t.bind,arguments)}function ha(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ha).apply(null,arguments)}function ia(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function n(){}n.prototype=e.prototype,t.L=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ab=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ja(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function ka(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ma(t,e){return t<e?-1:t>e?1:0}function na(t,e){e.unshift(t),ja.call(this,ka.apply(null,e)),e.shift()}function oa(t,e){throw new na("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=qa&&(ra[this[q]||(this[q]=++ea)]=this),this.i=this.i,this.w=this.w}function ua(t){t:{for(var e=va,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function wa(t){if(!n(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function xa(t){return Array.prototype.concat.apply([],arguments)}function ya(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function y(t){return-1!=x.indexOf(t)}function Ba(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ca(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Ea(t){var e,n={};for(e in t)n[e]=t[e];return n}function Ga(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<Fa.length;o++)n=Fa[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ha(t){return Ha[" "](t),t}function Ia(t,e){var n=Ja;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function Oa(){var t=k.document;return t?t.documentMode:void 0}function Ta(t){return Ia(t,function(){for(var e=0,n=la(String(Pa)).split("."),r=la(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ma(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ma(0==a[2].length,0==s[2].length)||ma(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function A(t,e){this.type=t,this.a=this.target=e,this.Pa=!0}function $a(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ma){t:{try{Ha(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:ab[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function cb(t){return!(!t||!t[bb])}function eb(t,e,n,r,i){this.listener=t,this.a=null,this.src=e,this.type=n,this.capture=!!r,this.ga=i,this.key=++db,this.Y=this.ca=!1}function fb(t){t.Y=!0,t.listener=null,t.a=null,t.src=null,t.ga=null}function gb(t){this.src=t,this.a={},this.b=0}function ib(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=sa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(fb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function jb(t,e,n,r,i){return t=t.a[e.toString()],e=-1,t&&(e=hb(t,n,r,i)),-1<e?t[e]:null}function hb(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ga==r)return i}return-1}function nb(t,e,r,i,o){if(i&&i.once)return ob(t,e,r,i,o);if(n(e)){for(var a=0;a<e.length;a++)nb(t,e[a],r,i,o);return null}return r=pb(r),cb(t)?t.aa(e,r,p(i)?!!i.capture:!!i,o):qb(t,e,r,!1,i,o)}function qb(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=rb(t);if(s||(t[kb]=s=new gb(t)),(n=s.add(e,n,r,a,o)).a)return n;if(r=sb(),n.a=r,r.src=t,r.listener=n,t.addEventListener)Za||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tb(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return mb++,n}function sb(){var t=ub,e=Xa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ob(t,e,r,i,o){if(n(e)){for(var a=0;a<e.length;a++)ob(t,e[a],r,i,o);return null}return r=pb(r),cb(t)?t.Ha(e,r,p(i)?!!i.capture:!!i,o):qb(t,e,r,!0,i,o)}function vb(t,e,r,i,o){if(n(e))for(var a=0;a<e.length;a++)vb(t,e[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=pb(r),cb(t)?t.va(e,r,i,o):t&&(t=rb(t))&&(e=jb(t,e,r,i,o))&&wb(e)}function wb(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(cb(e))ib(e.c,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),mb--,(n=rb(e))?(ib(n,t),0==n.b&&(n.src=null,e[kb]=null)):fb(t)}}}function tb(t){return t in lb?lb[t]:lb[t]="on"+t}function xb(t,e,n,r){var i=!0;if((t=rb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Y&&(o=yb(o,r),i=i&&!1!==o)}return i}function yb(t,e){var n=t.listener,r=t.ga||t.src;return t.ca&&wb(t),n.call(r,e)}function ub(t,e){if(t.Y)return!0;if(!Xa){if(!e)t:{e=["window","event"];for(var n=k,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new $a(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.a;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.a=r[i];var o=xb(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.a=r[i],o=xb(r[i],t,!1,e),n=n&&o}return n}return yb(t,new $a(e,this))}function rb(t){return(t=t[kb])instanceof gb?t:null}function pb(t){return da(t)?t:(t[zb]||(t[zb]=function(e){return t.handleEvent(e)}),t[zb])}function B(){w.call(this),this.c=new gb(this),this.P=this,this.J=null}function Ab(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ga||a.src;a.ca&&ib(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Pa}function Bb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Cb(a){if(a=String(a),Bb(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Db(t){var e=[];return Eb(new Fb,t,e),e.join("")}function Fb(){}function Eb(t,e,r){if(null==e)r.push("null");else{if("object"==typeof e){if(n(e)){var i=e;e=i.length,r.push("[");for(var o="",a=0;a<e;a++)r.push(o),Eb(t,i[a],r),o=",";return void r.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){r.push("{"),o="";for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(a=e[i])&&(r.push(o),Gb(i,r),r.push(":"),Eb(t,a,r),o=",");return void r.push("}")}e=e.valueOf()}switch(typeof e){case"string":Gb(e,r);break;case"number":r.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":r.push(String(e));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function Gb(t,e){e.push('"',t.replace(Ib,function(t){var e=Hb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hb[t]=e),e}),'"')}function Jb(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Kb(){this.b=this.a=null}function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).za;n.za=null,t()}},function(t){i.next={za:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}var e=Nb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.f=r(this.ib,this),this.g=t()}function Yb(t){t.$=!1,t.K&&(t.a.clearTimeout(t.K),t.K=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.bb,this),this.a=[]}function ac(t){t.X=Zb(t.b,t.c),t.f.apply(null,t.a)}function C(t){w.call(this),this.b=t,this.a={}}function cc(t){Ba(t.a,function(t,e){this.a.hasOwnProperty(e)&&wb(t)},t),t.a={}}function dc(t,e,n){this.reset(t,e,n,void 0,void 0)}function fc(t){this.f=t,this.b=this.c=this.a=null}function D(t,e){this.name=t,this.value=e}function lc(t){return t.c?t.c:t.a?lc(t.a):(oa("Root logger has no level set."),null)}function oc(t){nc||(nc=new fc(""),mc[""]=nc,nc.c=jc);var e;if(!(e=mc[t])){e=new fc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=oc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,mc[t]=e}return e}function E(t,e){t&&t.log(hc,e,void 0)}function pc(t,e){t&&t.log(ic,e,void 0)}function F(t,e){t&&t.log(kc,e,void 0)}function qc(){this.a=oc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function rc(t,e,n,r,i,o){H(t,function(){if(t.b)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}function sc(t,e,n,r,i,o,a){H(t,function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}function tc(t,e,n,r){H(t,function(){return"XMLHTTP TEXT ("+e+"): "+uc(t,n)+(r?" "+r:"")})}function vc(t,e){H(t,function(){return"TIMEOUT: "+e})}function I(t,e){F(t.a,e)}function wc(t,e,n){(t=t.a)&&t.log(gc,n||"Exception",e)}function H(t,e){pc(t.a,e)}function xc(t,e){(t=t.a)&&t.log(gc,e,void 0)}function uc(t,e){if(!t.b)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(var i=0;i<r.length;i++)if(n(r[i])){var o=r[i];if(!(2>o.length)){var a=o[1];if(n(a)&&!(1>a.length)){var s=a[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<a.length;u++)a[u]=""}}}return Db(r)}catch(n){return I(t,"Exception parsing expected JS array - probably was not JS"),e}}function zc(t){A.call(this,"serverreachability",t)}function Ac(t){yc.dispatchEvent(new zc(yc,t))}function Bc(t){A.call(this,"statevent",t)}function J(t){yc.dispatchEvent(new Bc(yc,t))}function Cc(t){A.call(this,"timingevent",t)}function Dc(t,e,n){yc.dispatchEvent(new Cc(yc,t,e,n))}function Ec(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Lc(){}function Mc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function K(t,e,n,r){this.i=t,this.b=e,this.f=n,this.T=r||1,this.N=new C(this),this.S=Nc,(t=this.H=new Xb).b=Oc,t.K&&t.$?(Yb(t),t.start()):t.K&&Yb(t),this.j=null,this.c=!1,this.m=this.g=this.h=this.J=this.D=this.U=this.w=null,this.s=[],this.a=null,this.F=0,this.l=this.o=null,this.C=-1,this.B=!1,this.P=0,this.I=null,this.M=!1}function Pc(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}function Sc(t,e,n){t.J=1,t.h=Tc(L(e)),t.m=n,t.M=!0,Uc(t,null)}function Vc(t,e,n,r){t.J=1,t.h=Tc(L(e)),t.m=null,t.M=n,Uc(t,r)}function Uc(e,n){e.D=t(),Wc(e),e.g=L(e.h),Xc(e.g,"t",e.T),e.F=0,e.a=e.i.da(e.i.ia()?n:null),0<e.P&&(e.I=new $b(r(e.Qa,e,e.a),e.P)),e.N.aa(e.a,"readystatechange",e.fb),n=e.j?Ea(e.j):{},e.m?(e.o||(e.o="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.m,n)):(e.o="GET",e.a.fa(e.g,e.o,null,n)),Ac(1),rc(e.b,e.o,e.g,e.f,e.T,e.m)}function Yc(t){var e=M(t.a),n=t.a.Fa(),r=t.a.W();if(!(3>e||3==e&&!Ka&&!t.a.V())){t.B||4!=e||7==n||Ac(8==n||0>=r?3:2),Zc(t);var i=t.a.W();t.C=i,(n=t.a.V())||I(t.b,function(){return"No response text for uri "+t.g+" status "+i}),t.c=200==i,sc(t.b,t.o,t.g,t.f,t.T,e,i),t.c?(t.M?($c(t,e,n),Ka&&t.c&&3==e&&ad(t)):(tc(t.b,t.f,n,null),bd(t,n)),4==e&&cd(t),t.c&&!t.B&&(4==e?t.i.ua(t):(t.c=!1,Wc(t)))):(400==i&&0<n.indexOf("Unknown SID")?(t.l=3,J(12),E(t.b.a,"XMLHTTP Unknown SID ("+t.f+")")):(t.l=0,J(13),E(t.b.a,"XMLHTTP Bad status "+i+" ("+t.f+")")),cd(t),dd(t))}}function $c(t,e,n){for(var r=!0;!t.B&&t.F<n.length;){var i=ed(t,n);if(i==Rc){4==e&&(t.l=4,J(14),r=!1),tc(t.b,t.f,null,"[Incomplete Response]");break}if(i==Qc){t.l=4,J(15),tc(t.b,t.f,n,"[Invalid Chunk]"),r=!1;break}tc(t.b,t.f,i,null),bd(t,i)}4==e&&0==n.length&&(t.l=1,J(16),r=!1),t.c=t.c&&r,r||(tc(t.b,t.f,n,"[Invalid Chunked Response]"),cd(t),dd(t))}function ad(t){t.N.aa(t.H,"tick",t.eb),t.H.start()}function ed(t,e){var n=t.F,r=e.indexOf("\n",n);return-1==r?Rc:(n=Number(e.substring(n,r)),isNaN(n)?Qc:(r+=1)+n>e.length?Rc:(e=e.substr(r,n),t.F=r+n,e))}function Wc(e){e.U=t()+e.S,fd(e,e.S)}function fd(t,e){if(null!=t.w)throw Error("WatchDog timer not null");t.w=Ec(r(t.cb,t),e)}function Zc(t){t.w&&(k.clearTimeout(t.w),t.w=null)}function dd(t){t.i.Ja()||t.B||t.i.ua(t)}function cd(t){Zc(t);var e=t.I;e&&"function"==typeof e.Z&&e.Z(),t.I=null,Yb(t.H),cc(t.N),t.a&&(e=t.a,t.a=null,e.abort(),e.Z())}function bd(t,e){try{t.i.Ma(t,e),Ac(4)}catch(e){wc(t.b,e,"Error in httprequest callback")}}function gd(t){if(t.v&&"function"==typeof t.v)return t.v();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Ca(t)}function hd(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ta(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.v&&"function"==typeof t.v)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else n=Da(t);i=(r=gd(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function N(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof N?(n=t.O(),r=t.v()):(n=Da(t),r=Ca(t));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function jd(t){t.b={},t.a.length=0,t.c=0}function kd(t,e){return!!O(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&id(t),!0)}function id(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];O(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],O(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function md(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function P(t,e){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;t instanceof P?(this.h=void 0!==e?e:t.h,nd(this,t.f),this.j=t.j,od(this,t.b),pd(this,t.i),this.a=t.a,qd(this,rd(t.c)),this.g=t.g):t&&(n=String(t).match(ld))?(this.h=!!e,nd(this,n[1]||"",!0),this.j=sd(n[2]||""),od(this,n[3]||"",!0),pd(this,n[4]),this.a=sd(n[5]||"",!0),qd(this,n[6]||"",!0),this.g=sd(n[7]||"")):(this.h=!!e,this.c=new td(null,this.h))}function L(t){return new P(t)}function nd(t,e,n){t.f=n?sd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function od(t,e,n){t.b=n?sd(e,!0):e}function pd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function qd(t,e,n){e instanceof td?(t.c=e,zd(t.c,t.h)):(n||(e=ud(e,Ad)),t.c=new td(e,t.h))}function Q(t,e,n){t.c.set(e,n)}function Xc(t,e,r){n(r)||(r=[String(r)]),Bd(t.c,e,r)}function Tc(e){return Q(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Cd(t){return t instanceof P?L(t):new P(t,void 0)}function Dd(t,e,n,r){var i=new P(null,void 0);return t&&nd(i,t),e&&od(i,e),n&&pd(i,n),r&&(i.a=r),i}function sd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ud(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Ed),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ed(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}function td(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function R(t){t.a||(t.a=new N,t.b=0,t.c&&md(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Gd(t,e){R(t),e=Fd(t,e),O(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kd(t.a,e))}function Hd(t,e){return R(t),e=Fd(t,e),O(t.a.b,e)}function Bd(t,e,n){Gd(t,e),0<n.length&&(t.c=null,t.a.set(Fd(t,e),ya(n)),t.b+=n.length)}function rd(t){var e=new td;return e.c=t.c,t.a&&(e.a=new N(t.a),e.b=t.b),e}function Fd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function zd(t,e){e&&!t.f&&(R(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Gd(this,e),Bd(this,n,t))},t)),t.f=e}function Id(){this.a=t()}function Kd(){Jd||(Jd=new Id)}function Ld(){Jd||(Jd=new Id)}function Md(){}function Od(){A.call(this,"d")}function Pd(){A.call(this,"c")}function Qd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.l=null,this.f=-1,this.m=this.g=null}function Rd(t){I(t.b,"TestConnection: starting stage 2");var e=t.a.H.a;if(null!=e)I(t.b,function(){return"Buffered"}),J(4),e?(J(10),Sd(t.a,t,!1)):(J(11),Sd(t.a,t,!0));else{t.c=new K(t,t.b,void 0,void 0),t.c.j=t.i;var n=Td(t.a,t.g,t.l);J(4),Xc(n,"TYPE","xmlhttp");var r=t.a.j,i=t.a.J;r&&i&&Q(n,r,i),Vc(t.c,n,!1,t.g)}}function Vd(){this.a=this.b=null}function S(){this.a=new N}function Wd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++ea)):e.charAt(0)+t}function Xd(t,e){this.a=t,this.b=e}function Yd(t){this.g=t||Zd,this.f=k.pa&&k.pa.Ka&&k.pa.Ka()&&k.pa.Ka().Bb?this.g:1,this.a=null,1<this.f&&(this.a=new S),this.b=null,this.c=[]}function $d(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.f=t.g,t.a=new S,t.b&&(ae(t,t.b),t.b=null))}function be(t){return!!t.b||!!t.a&&t.a.u()>=t.f}function ce(t,e){return t.b?t.b==e:!!t.a&&t.a.contains(e)}function ae(t,e){t.a?t.a.add(e):t.b=e}function de(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.contains(e)&&kd(t.a.a,Wd(e))}function ee(t){if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ta(t.a.v(),function(t){e=e.concat(t.s)}),e}return ya(t.c)}function fe(t,e){t.c=t.c.concat(e)}function ge(){}function he(){this.a=new ge}function ie(t,e,n){var r=n||"";try{hd(t,function(t,n){var i=t;p(t)&&(i=Db(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function je(t,e){var n=new qc;I(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ia(ke,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ia(ke,n,r,"TestLoadImage: error",!1,e),r.onabort=ia(ke,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ia(ke,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function ke(t,e,n,r,i){try{I(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){wc(t,e)}}function T(t){B.call(this),this.headers=new N,this.F=t||null,this.f=!1,this.D=this.a=null,this.M=this.s="",this.j=0,this.g="",this.h=this.I=this.o=this.H=!1,this.l=0,this.B=null,this.N=le,this.C=this.m=!1}function qe(t){return z&&Ta(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function va(t){return"content-type"==t.toLowerCase()}function oe(t,e){t.f=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,re(t),se(t)}function re(t){t.H||(t.H=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function te(t){if(t.f&&void 0!==goog)if(t.D[1]&&4==M(t)&&2==t.W())F(t.b,U(t,"Local request error detected and ignored"));else if(t.o&&4==M(t))Zb(t.La,0,t);else if(t.dispatchEvent("readystatechange"),4==M(t)){F(t.b,U(t,"Request complete")),t.f=!1;try{var e=t.W();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.s).match(ld)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!me.test(o?o.toLowerCase():"")}r=i}r?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ga()+" ["+t.W()+"]",re(t))}finally{se(t)}}}function se(t,e){if(t.a){pe(t);var n=t.a,r=t.D[0]?aa:null;t.a=null,t.D=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(gc,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function pe(t){t.a&&t.C&&(t.a.ontimeout=null),t.B&&(k.clearTimeout(t.B),t.B=null)}function M(t){return t.a?t.a.readyState:0}function U(t,e){return e+" ["+t.M+" "+t.s+" "+t.W()+"]"}function ue(t){var e="";return Ba(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function ve(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=ue(n),l(t)){if(e=encodeURIComponent(String(e)),n=null!=n?"="+encodeURIComponent(String(n)):"",e+=n){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Q(t,e,n),t}function we(t){this.ya=0,this.g=[],this.a=new qc,this.H=new Vd,this.ja=this.wa=this.F=this.ka=this.b=this.J=this.j=this.U=this.h=this.M=this.i=null,this.Ua=this.P=0,this.la=this.B=this.o=this.m=this.l=this.f=null,this.s=this.xa=this.N=-1,this.T=this.w=this.C=0,this.S=t&&t.supportsCrossDomainXhr||!1,this.I="",this.c=new Yd(t&&t.concurrentRequestLimit),this.ma=new he,this.D=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,this.Ta=t&&t.fastHandshake||!1,t&&t.Ea&&this.a.Ea()}function xe(e){if(I(e.a,"disconnect()"),ye(e),3==e.G){var n=e.P++,r=L(e.F);Q(r,"SID",e.I),Q(r,"RID",n),Q(r,"TYPE","terminate"),ze(e,r),(n=new K(e,e.a,n,void 0)).J=2,n.h=Tc(L(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),"")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.da(null),n.a.fa(n.h)),n.D=t(),Wc(n)}Ae(e)}function ye(t){t.B&&(t.B.abort(),t.B=null),t.b&&(t.b.cancel(),t.b=null),t.m&&(k.clearTimeout(t.m),t.m=null),Be(t),t.c.cancel(),t.l&&(k.clearTimeout(t.l),t.l=null)}function Ce(t,e){1e3==t.g.length&&xc(t.a,function(){return"Already have 1000 queued maps upon queueing "+Db(e)}),t.g.push(new Xd(t.Ua++,e)),3==t.G&&De(t)}function De(t){be(t.c)||t.l||(t.l=Ec(r(t.Oa,t),0),t.C=0)}function Ee(t,e){var n=t.c;return(n.b?1:n.a?n.a.u():0)>=t.c.f-(t.l?1:0)?(xc(t.a,"Unexpected retry request is scheduled."),!1):t.l?(I(t.a,"Use the retry request that is already scheduled."),t.g=e.s.concat(t.g),!0):!(1==t.G||2==t.G||2<=t.C||(I(t.a,"Going to retry POST"),t.l=Ec(r(t.Oa,t,e),Fe(t,t.C)),t.C++,0))}function He(t,e){var n;n=e?e.f:t.P++;var r=L(t.F);Q(r,"SID",t.I),Q(r,"RID",n),Q(r,"AID",t.N),ze(t,r),t.h&&t.i&&ve(r,t.h,t.i),n=new K(t,t.a,n,t.C+1),null===t.h&&(n.j=t.i),e&&(t.g=e.s.concat(t.g)),e=Ge(t,n),n.setTimeout(Math.round(1e4)+Math.round(1e4*Math.random())),ae(t.c,n),Sc(n,r,e)}function ze(t,e){t.f&&hd({},function(t,n){Q(e,n,t)})}function Ge(t,e){var n=Math.min(t.g.length,1e3),i=t.f?r(t.f.Va,t.f,t):null;t:for(var o=t.g,a=-1;;){var s=["count="+n];-1==a?0<n?(a=o[0].a,s.push("ofs="+a)):a=0:s.push("ofs="+a);for(var u=!0,c=0;c<n;c++){var l=o[c].a,h=o[c].b;if(0>(l-=a))a=Math.max(0,o[c].a-100),u=!1;else try{ie(h,s,"req"+l+"_")}catch(t){i&&i(h)}}if(u){i=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function Ie(t){if(!t.b&&!t.m){t.T=1;var e=t.Na;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.w=0}}function Je(t){return t.b||t.m?(xc(t.a,"Request already in progress"),!1):!(3<=t.w||(I(t.a,"Going to retry GET"),t.T++,t.m=Ec(r(t.Na,t),Fe(t,t.w)),t.w++,0))}function Sd(t,e,n){I(t.a,"Test Connection Finished");var r=e.m;r&&$d(t.c,r),t.la=n,t.s=e.f,I(t.a,"connectChannel_()"),t.F=Ke(t,t.ka),De(t)}function Ud(t,e){I(t.a,"Test Connection Failed"),t.s=e.f,V(t,2)}function Be(t){null!=t.o&&(k.clearTimeout(t.o),t.o=null)}function Fe(t,e){var n=5e3+Math.floor(1e4*Math.random());return t.ra()||(I(t.a,"Inactive channel"),n*=2),n*e}function V(t,e){if(H(t.a,"Error code "+e),2==e){var n=null;t.f&&(n=null);var i=r(t.hb,t);n||(n=new P("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||nd(n,"https"),Tc(n)),je(n.toString(),i)}else J(2);I(t.a,"HttpChannel: error - "+e),t.G=0,t.f&&t.f.Ba(e),Ae(t),ye(t)}function Ae(t){if(t.G=0,t.s=-1,t.f){var e=ee(t.c);0==e.length&&0==t.g.length||(I(t.a,function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.g.length}),t.c.c.length=0,ya(t.g),t.g.length=0),t.f.Aa()}}function Ke(t,e){return e=Le(t,null,e),I(t.a,"GetForwardChannelUri: "+e),e}function Td(t,e,n){return e=Le(t,t.ia()?e:null,n),I(t.a,"GetBackChannelUri: "+e),e}function Le(t,e,n){var r=Cd(n);if(""!=r.b)e&&od(r,e+"."+r.b),pd(r,r.i);else{var i=k.location;r=Dd(i.protocol,e?e+"."+i.hostname:i.hostname,i.port,n)}return t.U&&Ba(t.U,function(t,e){Q(r,e,t)}),e=t.j,n=t.J,e&&n&&Q(r,e,n),Q(r,"VER",t.oa),ze(t,r),r}function Me(){}function Ne(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];if(0==r.lastIndexOf("/",0))e=r;else{var i;(i=""==e)||(i=e.length-1,i=0<=i&&e.indexOf("/",i)==i),e+=i?r:"/"+r}}return e}function Oe(){if(z&&!(10<=Number(Ua)))throw Error("Environmental error: no available transport.")}function W(t,e){B.call(this),this.a=new we(e),this.b=t,this.s=e&&e.testUrl?e.testUrl:Ne(this.b,"test"),this.f=oc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),this.a.M=t,(t=e&&e.httpHeadersOverwriteParam)&&!/^[\s\xa0]*$/.test(t)&&(this.a.h=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!/^[\s\xa0]*$/.test(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(t=this.g,e in t&&delete t[e],E(this.f,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Pe(this)}function Qe(t){Od.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Re(){Pd.call(this),this.status=1}function Pe(t){this.a=t}function Te(){this.b=[],this.a=[]}function Ue(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Ve(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(We);this.a=new Te,this.b=new S,this.g=null,this.ba()}function Xe(t){if("function"==typeof t.Z)t.Z();else for(var e in t)t[e]=null}function Ye(t,e){this.a=t,this.b=e}function Ze(t){if(this.a=[],t)t:{if(t instanceof Ze){var e=t.O();if(t=t.v(),0>=this.u()){for(var n=this.a,r=0;r<e.length;r++)n.push(new Ye(e[r],t[r]));break t}}else e=Da(t),t=Ca(t);for(r=0;r<e.length;r++)$e(this,e[r],t[r])}}function $e(t,e,n){var r=t.a;for(r.push(new Ye(e,n)),n=(t=t.a)[e=r.length-1];0<e&&(r=e-1>>1,t[r].a>n.a);)t[e]=t[r],e=r;t[e]=n}function af(){Ze.call(this)}function X(t,e){this.f=new af,Ve.call(this,t,e)}function Y(t,e,n,r){this.l=t,this.j=!!r,X.call(this,e,n)}var g,goog=goog||{},k=this,q="closure_uid_"+(1e9*Math.random()>>>0),ea=0,t=Date.now||function(){return+new Date};u(ja,Error),ja.prototype.name="CustomError";var la=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};u(na,ja),na.prototype.name="AssertionError";var qa=0,ra={};w.prototype.i=!1,w.prototype.Z=function(){if(!this.i&&(this.i=!0,this.A(),0!=qa)){var t=this[q]||(this[q]=++ea);delete ra[t]}},w.prototype.A=function(){if(this.w)for(;this.w.length;)this.w.shift()()};var sa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ta=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},x;t:{var za=k.navigator;if(za){var Aa=za.userAgent;if(Aa){x=Aa;break t}}x=""}var Fa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Ha[" "]=aa;var Ka=y("Opera"),z=y("Trident")||y("MSIE"),La=y("Edge"),Ma=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Na=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Pa;t:{var Qa="",Ra=function(){var t=x;return Ma?/rv:([^\);]+)(\)|;)/.exec(t):La?/Edge\/([\d\.]+)/.exec(t):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Na?/WebKit\/(\S+)/.exec(t):Ka?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Ra&&(Qa=Ra?Ra[1]:""),z){var Sa=Oa();if(null!=Sa&&Sa>parseFloat(Qa)){Pa=String(Sa);break t}}Pa=Qa}var Ja={},Ua,Va=k.document;Ua=Va&&z?Oa()||("CSS1Compat"==Va.compatMode?parseInt(Pa,10):5):void 0;var Wa=Object.freeze||function(t){return t},Xa=!z||9<=Number(Ua),Ya=z&&!Ta("9"),Za=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();A.prototype.b=function(){this.Pa=!1},u($a,A);var ab=Wa({2:"touch",3:"pen",4:"mouse"});$a.prototype.b=function(){$a.L.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ya)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var bb="closure_listenable_"+(1e6*Math.random()|0),db=0;gb.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=hb(t,e,r,i);return-1<a?(e=t[a],n||(e.ca=!1)):(e=new eb(e,this.src,o,!!r,i),e.ca=n,t.push(e)),e};var kb="closure_lm_"+(1e6*Math.random()|0),lb={},mb=0,zb="__closure_events_fn_"+(1e9*Math.random()>>>0);u(B,w),B.prototype[bb]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){nb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){vb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.P;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var i=t;Ga(t=new A(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ab(a,r,!0,t)&&i}if(a=t.a=n,i=Ab(a,r,!0,t)&&i,i=Ab(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)a=t.a=e[o],i=Ab(a,r,!1,t)&&i;return i},g.A=function(){if(B.L.A.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)fb(n[r]);delete e.a[t],e.b--}}this.J=null},g.aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},g.Ha=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)},g.va=function(t,e,n,r){var i=this.c;if((t=String(t).toString())in i.a){var o=i.a[t];-1<(e=hb(o,e,n,r))&&(fb(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete i.a[t],i.b--))}};var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ib=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;Jb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nb=new Jb(function(){return new Lb},function(t){t.reset()});Kb.prototype.add=function(t,e){var n=Nb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Rb,Tb,Wb=!1,Pb=new Kb;u(Xb,B),g=Xb.prototype,g.$=!1,g.K=null,g.ib=function(){if(this.$){var e=t()-this.g;0<e&&e<.8*this.b?this.K=this.a.setTimeout(this.f,this.b-e):(this.K&&(this.a.clearTimeout(this.K),this.K=null),this.dispatchEvent("tick"),this.$&&(this.K=this.a.setTimeout(this.f,this.b),this.g=t()))}},g.start=function(){this.$=!0,this.K||(this.K=this.a.setTimeout(this.f,this.b),this.g=t())},g.A=function(){Xb.L.A.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.X=null,g.Xa=function(t){this.a=arguments,this.X?this.ha=!0:ac(this)},g.A=function(){$b.L.A.call(this),this.X&&(k.clearTimeout(this.X),this.X=null,this.ha=!1,this.a=[])},g.bb=function(){this.X=null,this.ha&&(this.ha=!1,ac(this))},u(C,w);var bc=[];C.prototype.aa=function(t,e,r,i){n(e)||(e&&(bc[0]=e.toString()),e=bc);for(var o=0;o<e.length;o++){var a=nb(t,e[o],r||this.handleEvent,i||!1,this.b||this);if(!a)break;this.a[a.key]=a}return this},C.prototype.va=function(t,e,r,i,o){if(n(e))for(var a=0;a<e.length;a++)this.va(t,e[a],r,i,o);else r=r||this.handleEvent,i=p(i)?!!i.capture:!!i,o=o||this.b||this,r=pb(r),i=!!i,(e=cb(t)?jb(t.c,String(e),r,i,o):t&&(t=rb(t))?jb(t,e,r,i,o):null)&&(wb(e),delete this.a[e.key])},C.prototype.A=function(){C.L.A.call(this),cc(this)},C.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.a=null;var ec=0;dc.prototype.reset=function(e,n,r,i,o){"number"==typeof o||ec++,i||t(),delete this.a},D.prototype.toString=function(){return this.name};var gc=new D("SEVERE",1e3),hc=new D("WARNING",900),ic=new D("INFO",800),jc=new D("CONFIG",700),kc=new D("FINE",500);fc.prototype.log=function(t,e,n){if(t.value>=lc(this).value)for(da(e)&&(e=e()),t=new dc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var mc={},nc=null;qc.prototype.Ea=function(){this.b=!1};var yc=new B;u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,jb:1,qb:2,pb:3,mb:4,ob:5,rb:6,Ra:7,TIMEOUT:8,ub:9},Gc={lb:"complete",yb:"success",Sa:"error",Ra:"abort",wb:"ready",xb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",vb:"progress",nb:"downloadprogress",zb:"uploadprogress"};Hc.prototype.a=null;var Kc;u(Lc,Hc),Kc=new Lc;var Nc=45e3,Oc=250,Qc={},Rc={};g=K.prototype,g.setTimeout=function(t){this.S=t},g.fb=function(t){t=t.target;var e=this.I;e&&3==M(t)?(I(this.b,"Throttling readystatechange."),e.Xa()):this.Qa(t)},g.Qa=function(t){try{t==this.a?Yc(this):E(this.b.a,"Called back with an unexpected xmlhttp")}catch(t){if(I(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var e=this;wc(this.b,t,function(){return"ResponseText: "+e.a.V()})}else wc(this.b,t,"No response text")}},g.eb=function(){var t=M(this.a),e=this.a.V();this.F<e.length&&(Zc(this),$c(this,t,e),this.c&&4!=t&&Wc(this))},g.cancel=function(){this.B=!0,cd(this)},g.cb=function(){this.w=null;var e=t();0<=e-this.U?(this.c&&xc(this.b,"Received watchdog timeout even though request loaded successfully"),vc(this.b,this.g),2!=this.J&&(Ac(3),J(17)),cd(this),this.l=2,dd(this)):(E(this.b.a,"WatchDog timer called too early"),fd(this,this.U-e))},g=N.prototype,g.u=function(){return this.c},g.v=function(){id(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.O=function(){return id(this),this.a.concat()},g.get=function(t,e){return O(this.b,t)?this.b[t]:e},g.set=function(t,e){O(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ld=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;P.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ud(e,vd,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ud(e,vd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ud(n,"/"==n.charAt(0)?wd:xd,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ud(n,yd)),t.join("")},P.prototype.resolve=function(t){var e=L(this),n=!!t.f;n?nd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?od(e,t.b):n=null!=t.i;var r=t.a;if(n)pd(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?qd(e,rd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var vd=/[#\/\?@]/g,xd=/[#\?:]/g,wd=/[#\?]/g,Ad=/[#\?@]/g,yd=/#/g;g=td.prototype,g.u=function(){return R(this),this.b},g.add=function(t,e){R(this),this.c=null,t=Fd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){R(this),this.a.forEach(function(n,r){ta(n,function(n){t.call(e,n,r,this)},this)},this)},g.O=function(){R(this);for(var t=this.a.v(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},g.v=function(t){R(this);var e=[];if(l(t))Hd(this,t)&&(e=xa(e,this.a.get(Fd(this,t))));else{t=this.a.v();for(var n=0;n<t.length;n++)e=xa(e,t[n])}return e},g.set=function(t,e){return R(this),this.c=null,t=Fd(this,t),Hd(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.v(t):[]).length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.v(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Jd=null;Id.prototype.set=function(t){this.a=t},Id.prototype.reset=function(){this.set(t())},Id.prototype.get=function(){return this.a},u(Ld,Kd);var Nd={OPEN:"a",kb:"b",Sa:"c",tb:"d"};u(Od,A),u(Pd,A),g=Qd.prototype,g.R=null,g.da=function(t){return this.a.da(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.Ja=function(){return!1},g.Ma=function(t,e){if(this.f=t.C,0==this.R){if(I(this.b,"TestConnection: Got data for stage 1"),!this.a.D&&(t=t.a)){var n=t.a?t.a.getResponseHeader("X-Client-Wire-Protocol"):null;this.m=n||null,this.a.j&&((t=t.a?t.a.getResponseHeader("X-HTTP-Session-Id"):null)?this.a.J=t:E(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.ma.a.parse(e)}catch(t){return wc(this.b,t),void Ud(this.a,this)}this.g=r[0]}else I(this.b,"TestConnection: Null responseText"),Ud(this.a,this)}else 1==this.R&&(this.h?J(6):"11111"==e?(J(5),this.h=!0,(!z||10<=Number(Ua))&&(this.f=200,this.c.cancel(),I(this.b,"Test connection succeeded; using streaming connection"),J(11),Sd(this.a,this,!0))):(J(7),this.h=!1))},g.ua=function(){this.f=this.c.C,this.c.c?0==this.R?(this.R=1,I(this.b,"TestConnection: request complete for initial check"),Rd(this)):1==this.R&&(I(this.b,"TestConnection: request complete for stage 2"),this.h?(I(this.b,"Test connection succeeded; using streaming connection"),J(11),Sd(this.a,this,!0)):(I(this.b,"Test connection failed; not using streaming"),J(10),Sd(this.a,this,!1))):(I(this.b,"TestConnection: request failed, in state "+this.R),0==this.R?J(8):1==this.R&&J(9),Ud(this.a,this))},g.ia=function(){return this.a.ia()},g.ra=function(){return this.a.ra()},S.prototype.u=function(){return this.a.u()},S.prototype.add=function(t){this.a.set(Wd(t),t)},S.prototype.contains=function(t){return t=Wd(t),O(this.a.b,t)},S.prototype.v=function(){return this.a.v()};var Zd=10;Yd.prototype.cancel=function(){this.c=ee(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ta(this.a.v(),function(t){t.cancel()}),jd(this.a.a))},ge.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},ge.prototype.parse=function(t){return k.JSON.parse(t,void 0)},u(T,B);var le="";T.prototype.b=oc("goog.net.XhrIo");var me=/^https?$/i,ne=["POST","PUT"];g=T.prototype,g.fa=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.s+"; newUri="+t);e=e?e.toUpperCase():"GET",this.s=t,this.g="",this.j=0,this.M=e,this.H=!1,this.f=!0,this.a=Mc(this.F?this.F:Kc),this.D=Ic(this.F?this.F:Kc),this.a.onreadystatechange=r(this.La,this);try{F(this.b,U(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return F(this.b,U(this,"Error opening Xhr: "+t.message)),void oe(this,t)}t=n||"";var o=new N(this.headers);i&&hd(i,function(t,e){o.set(e,t)}),i=ua(o.O()),n=k.FormData&&t instanceof k.FormData,!(0<=sa(ne,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.N&&(this.a.responseType=this.N),"withCredentials"in this.a&&this.a.withCredentials!==this.m&&(this.a.withCredentials=this.m);try{pe(this),0<this.l&&(this.C=qe(this.a),F(this.b,U(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.C)),this.C?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ia,this)):this.B=Zb(this.Ia,this.l,this)),F(this.b,U(this,"Sending request")),this.o=!0,this.a.send(t),this.o=!1}catch(t){F(this.b,U(this,"Send error: "+t.message)),oe(this,t)}},g.Ia=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,F(this.b,U(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.f&&(F(this.b,U(this,"Aborting")),this.f=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),se(this))},g.A=function(){this.a&&(this.f&&(this.f=!1,this.h=!0,this.a.abort(),this.h=!1),se(this,!0)),T.L.A.call(this)},g.La=function(){this.i||(this.I||this.o||this.h?te(this):this.ab())},g.ab=function(){te(this)},g.W=function(){try{return 2<M(this)?this.a.status:-1}catch(t){return-1}},g.Ga=function(){try{return 2<M(this)?this.a.statusText:""}catch(t){return F(this.b,"Can not get status: "+t.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(t){return F(this.b,"Can not get responseText: "+t.message),""}},g.Ya=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Cb(t)}return n}},g.Fa=function(){return this.j},g.Za=function(){return l(this.g)?this.g:String(this.g)},g=we.prototype,g.oa=8,g.G=1,g.Ja=function(){return 0==this.G},g.Oa=function(t){if(this.l=null,I(this.a,"startForwardChannel_"),1==this.G)if(t)xc(this.a,"Not supposed to retry the open");else{I(this.a,"open_()"),this.P=Math.floor(1e5*Math.random()),t=this.P++;var e=new K(this,this.a,t,void 0),n=this.i;this.M&&(n?(n=Ea(n),Ga(n,this.M)):n=this.M),null===this.h&&(e.j=n);var r=Ge(this,e),i=L(this.F);Q(i,"RID",t),Q(i,"CVER",21),this.D&&this.j&&Q(i,"X-HTTP-Session-Id",this.j),ze(this,i),this.h&&n&&ve(i,this.h,n),ae(this.c,e),this.Ta?(Q(i,"$req",r),Sc(e,i,null)):Sc(e,i,r),this.G=2}else 3==this.G&&(t?He(this,t):0==this.g.length?I(this.a,"startForwardChannel_ returned: nothing to send"):be(this.c)?xc(this.a,"startForwardChannel_ returned: connection already in progress"):(He(this),I(this.a,"startForwardChannel_ finished, sent request")))},g.Na=function(){this.m=null,I(this.a,"Creating new HttpRequest"),this.b=new K(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.P=0;var t=L(this.wa);Q(t,"RID","rpc"),Q(t,"SID",this.I),Q(t,"CI",this.la?"0":"1"),Q(t,"AID",this.N),ze(this,t),Q(t,"TYPE","xmlhttp"),this.h&&this.i&&ve(t,this.h,this.i),Vc(this.b,t,!0,this.ja),I(this.a,"New Request created")},g.Ma=function(t,e){if(0!=this.G&&(this.b==t||ce(this.c,t)))if(this.s=t.C,ce(this.c,t)&&3==this.G){try{var i=this.ma.a.parse(e)}catch(t){i=null}if(n(i)&&3==i.length)if(0==(e=i)[0])t:if(I(this.a,"Server claims our backchannel is missing."),this.m)I(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.D+3e3<t.D))break t;Be(this),this.b.cancel(),this.b=null}else E(this.a.a,"We do not have a BackChannel established");Je(this),J(18)}else this.xa=e[1],0<(t=this.xa-this.N)&&(e=e[2],I(this.a,e+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.la&&0==this.w&&!this.o&&(this.o=Ec(r(this.$a,this),6e3)));else I(this.a,"Bad POST response data returned"),V(this,11)}else if(this.b==t&&Be(this),!/^[\s\xa0]*$/.test(e))for(e=i=this.ma.a.parse(e),i=0;i<e.length;i++){var o=e[i];if(this.N=o[0],o=o[1],2==this.G)if("c"==o[0]){this.I=o[1],this.ja=o[2];var a=o[3];null!=a&&(this.oa=a,H(this.a,"VER="+this.oa)),null!=(o=o[4])&&(this.ya=o,H(this.a,"SVER="+this.ya)),this.D&&(o=t.a)&&((a=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)&&$d(this.c,a),this.j&&((o=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)?(this.J=o,Q(this.F,this.j,o)):E(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.G=3,this.f&&this.f.Da(),this.wa=Td(this,this.ja,this.ka),Ie(this)}else"stop"!=o[0]&&"close"!=o[0]||V(this,7);else 3==this.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?V(this,7):xe(this):"noop"!=o[0]&&this.f&&this.f.Ca(o),this.w=0)}},g.$a=function(){null!=this.o&&(this.o=null,this.b.cancel(),this.b=null,Je(this),J(19))},g.ua=function(e){I(this.a,"Request complete");var n=null;if(this.b==e){Be(this),this.b=null;var r=2}else{if(!ce(this.c,e))return;n=e.s,de(this.c,e),r=1}if(this.s=e.C,0!=this.G)if(e.c)1==r?(Dc(e.m?e.m.length:0,t()-e.D,this.C),De(this)):Ie(this);else{var i=e.l;if(3==i||0==i&&0<this.s)I(this.a,"Not retrying due to error type");else{var o=this;if(I(this.a,function(){return"Maybe retrying, last error: "+Pc(i,o.s)}),1==r&&Ee(this,e)||2==r&&Je(this))return;I(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&fe(this.c,n),I(this.a,"Error: HTTP request failed"),i){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.hb=function(t){t?(H(this.a,"Successfully pinged google.com"),J(2)):(H(this.a,"Failed to ping google.com"),J(1))},g.da=function(t){if(t&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return t=new T,t.m=this.S,t},g.ra=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Ld,g=Me.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.Va=function(){},Oe.prototype.a=function(t,e){return new W(t,e)},u(W,B),W.prototype.j=function(){this.a.f=this.h,this.o&&(this.a.S=!0);var t=this.a,e=this.s,n=this.b,r=this.g||void 0;I(t.a,"connect()"),J(0),t.ka=n,t.U=r||{},t.D&&(I(t.a,"connect() bypassed channel-test."),t.H.b=[],t.H.a=!1),I(t.a,"connectTest_()"),t.B=new Qd(t,t.a),null===t.h&&(t.B.i=t.i),n=e,t.h&&t.i&&(n=ve(e,t.h,t.i)),(t=t.B).l=n,e=Ke(t.a,t.l),J(3),null!=(n=t.a.H.b)?(t.g=n[0],t.R=1,Rd(t)):(Xc(e,"MODE","init"),!t.a.D&&t.a.j&&Xc(e,"X-HTTP-Session-Id",t.a.j),t.c=new K(t,t.b,void 0,void 0),t.c.j=t.i,Vc(t.c,e,!1,null),t.R=0)},W.prototype.close=function(){xe(this.a)},W.prototype.l=function(t){if(l(t)){var e={};e.__data__=t,Ce(this.a,e)}else this.m?(e={},e.__data__=Db(t),Ce(this.a,e)):Ce(this.a,t)},W.prototype.A=function(){this.a.f=null,delete this.h,xe(this.a),delete this.a,W.L.A.call(this)},u(Qe,Od),u(Re,Pd),u(Pe,Me),Pe.prototype.Da=function(){pc(this.a.f,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Pe.prototype.Ca=function(t){this.a.dispatchEvent(new Qe(t))},Pe.prototype.Ba=function(t){pc(this.a.f,"WebChannel aborted on "+this.a.b+" due to channel error: "+t),this.a.dispatchEvent(new Re(t))},Pe.prototype.Aa=function(){pc(this.a.f,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Se=ia(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Oe);Te.prototype.u=function(){return this.b.length+this.a.length},Te.prototype.contains=function(t){return 0<=sa(this.b,t)||0<=sa(this.a,t)},Te.prototype.v=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ve,w);var We="[goog.structs.Pool] Min can not be greater than max";g=Ve.prototype,g.ea=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<this.a.u()&&(n=Ue(this.a),!this.ta(n));)this.ba();return!n&&this.u()<this.c&&(n=this.qa()),n&&(this.g=e,this.b.add(n)),n}},g.gb=function(t){return!!kd(this.b.a,Wd(t))&&(this.na(t),!0)},g.na=function(t){kd(this.b.a,Wd(t)),this.ta(t)&&this.u()<this.c?this.a.a.push(t):Xe(t)},g.ba=function(){for(var t=this.a;this.u()<this.h;){var e=this.qa();t.a.push(e)}for(;this.u()>this.c&&0<this.a.u();)Xe(Ue(t))},g.qa=function(){return{}},g.ta=function(t){return"function"!=typeof t.Wa||t.Wa()},g.contains=function(t){return this.a.contains(t)||this.b.contains(t)},g.u=function(){return this.a.u()+this.b.u()},g.A=function(){if(Ve.L.A.call(this),0<this.b.u())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)Xe(Ue(t));delete this.a},Ze.prototype.v=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},Ze.prototype.O=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},Ze.prototype.u=function(){return this.a.length},u(af,Ze),u(X,Ve),g=X.prototype,g.ea=function(t,e){if(!t)return X.L.ea.call(this);$e(this.f,void 0!==e?e:100,t),this.sa()},g.sa=function(){for(var t=this.f;0<t.u();){var e=this.ea();if(!e)break;var n=t,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)wa(r);else{r[0]=r.pop(),i=(n=n.a).length;for(var a=n[r=0];r<i>>1;){var s=2*r+1,u=2*r+2;if(s=u<i&&n[u].a<n[s].a?u:s,n[s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[e])}},g.na=function(t){X.L.na.call(this,t),this.sa()},g.ba=function(){X.L.ba.call(this),this.sa()},g.A=function(){X.L.A.call(this),k.clearTimeout(void 0),wa(this.f.a),this.f=null},u(Y,X),Y.prototype.qa=function(){var t=new T,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.m=!0),t},Y.prototype.ta=function(t){return!t.i&&!t.a},Oe.prototype.createWebChannel=Oe.prototype.a,W.prototype.send=W.prototype.l,W.prototype.open=W.prototype.j,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Md.EventType=Nd,Nd.OPEN="a",Nd.CLOSE="b",Nd.ERROR="c",Nd.MESSAGE="d",B.prototype.listen=B.prototype.aa,Y.prototype.getObject=Y.prototype.ea,Y.prototype.releaseObject=Y.prototype.gb,T.prototype.listenOnce=T.prototype.Ha,T.prototype.getLastError=T.prototype.Za,T.prototype.getLastErrorCode=T.prototype.Fa,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ga,T.prototype.getResponseJson=T.prototype.Ya,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Se,ErrorCode:Fc,EventType:Gc,WebChannel:Md,XhrIoPool:Y}}).call(void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(exports,__webpack_require__("fRUx"))},PAZ8:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("AP4T"),i=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return r.a.of(this.value);case"E":return r.a.throw(this.error);case"C":return r.a.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},PKQO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),i=n("mZoP"),o=n("F1yO");e.parseRepoInfo=function(t){var n=e.parseURL(t),a=n.subdomain;return"firebase"===n.domain&&o.fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),a&&"undefined"!=a||o.fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||o.warnIfPageIsSecure(),{repoInfo:new i.RepoInfo(n.host,n.secure,a,"ws"===n.scheme||"wss"===n.scheme),path:new r.Path(n.pathString)}},e.parseURL=function(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var c=t.indexOf("/");-1===c&&(c=t.length),e=t.substring(0,c),i=function(e){for(var n="",r=t.substring(c).split("/"),i=0;i<r.length;i++)if(r[i].length>0){var o=r[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(t){}n+="/"+o}return n}();var l=e.split(".");3===l.length?(n=l[1],r=l[0].toLowerCase()):2===l.length&&(n=l[0]),(u=e.indexOf(":"))>=0&&(o="https"===a||"wss"===a,s=parseInt(e.substring(u+1),10))}return{host:e,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}}},R3TC:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("JEJ4"),a=n("F1yO"),s=n("isNy"),u=n("p+VM"),c=n("3FiG"),l=n("/fob"),h=n("stu6"),f=n("b5Wm"),p=n("04zk"),d=n("zFzr"),y=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&c.validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return i||(i=new t(new s.SortedMap(d.NAME_COMPARATOR),null,f.IndexMap.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||i},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?i:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new u.NamedNode(e,n),a=void 0,s=void 0,c=void 0;return n.isEmpty()?(a=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_)),c=a.isEmpty()?i:this.priorityNode_,new t(a,c,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;o.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(l.PRIORITY_INDEX,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+c.priorityHashText(this.getPriority().val())+":"),this.forEachChild(l.PRIORITY_INDEX,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":a.sha1(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new u.NamedNode(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new u.NamedNode(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new u.NamedNode(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,u.NamedNode.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,u.NamedNode.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===e.MAX_NODE?-1:0},t.prototype.withIndex=function(e){if(e===h.KEY_INDEX||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===h.KEY_INDEX||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(l.PRIORITY_INDEX),r=e.getIterator(l.PRIORITY_INDEX),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===h.KEY_INDEX?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}();e.ChildrenNode=y;var g=function(t){function e(){return t.call(this,new s.SortedMap(d.NAME_COMPARATOR),y.EMPTY_NODE,f.IndexMap.Default)||this}return r(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return y.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(y);e.MaxNode=g,e.MAX_NODE=new g,Object.defineProperties(u.NamedNode,{MIN:{value:new u.NamedNode(a.MIN_NAME,y.EMPTY_NODE)},MAX:{value:new u.NamedNode(a.MAX_NAME,e.MAX_NODE)}}),h.KeyIndex.__EMPTY_NODE=y.EMPTY_NODE,p.LeafNode.__childrenNodeConstructor=y,c.setMaxNode(e.MAX_NODE),l.setMaxNode(e.MAX_NODE)},RSzd:function(t,e,n){"use strict";var r=n("AP4T"),i=n("6Xbx"),o=n("lI6h"),a=n("qgI0"),s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return Object(i.b)(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=Object(a.a)(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(o.a);r.a.prototype.switchMap=function(t,e){return function(t,e){return function(n){return n.lift(new s(t,e))}}(t,e)(this)}},Rgd9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("1zSO"),i=n("Fwmd"),o=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new r.DOMStorageWrapper(e)}}catch(t){}return new i.MemoryStorage};e.PersistentStorage=o("localStorage"),e.SessionStorage=o("sessionStorage")},Rv9P:function(t,e,n){n("TL6u")},RyBE:function(t,e,n){"use strict";function r(){return E}function i(){return!!window.history.pushState}function o(t,e){"undefined"!=typeof COMPILED&&COMPILED||((b._5.ng=b._5.ng||{})[t]=e)}function a(t){return Object(b.S)(t)}function s(t){return o(j,a),o(V,Object(w.a)({},F,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return a}}function u(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?u(t,i,n):(i=i.replace(K,t),n.push(i))}return n}function c(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}function l(t,e){if(t.charCodeAt(0)===Y)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function h(t){return(t=String(t)).match(vt)||t.match(mt)?t:(Object(b.T)()&&r().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function f(t){for(var e={},n=0,r=t.split(",");n<r.length;n++)e[r[n]]=!0;return e}function p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty(a)&&(n[a]=!0)}return n}function d(t,e){if(e&&bt.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+bt.getOuterHTML(t));return e}function y(t){return t.replace(/&/g,"&amp;").replace(Pt,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Rt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(t){bt.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||bt.removeAttribute(t,n)});for(var e=0,n=bt.childNodesAsList(t);e<n.length;e++){var r=n[e];bt.isElementNode(r)&&g(r)}}function v(){return new b.l}n.d(e,"a",function(){return Ht}),n.d(e,"i",function(){return Wt}),n.d(e,"g",function(){return k}),n.d(e,"h",function(){return L}),n.d(e,"c",function(){return U}),n.d(e,"d",function(){return B}),n.d(e,"e",function(){return ht}),n.d(e,"f",function(){return ft}),n.d(e,"b",function(){return xt}),n.d(e,"r",function(){return r}),n.d(e,"k",function(){return J}),n.d(e,"j",function(){return ct}),n.d(e,"m",function(){return pt}),n.d(e,"n",function(){return gt}),n.d(e,"l",function(){return H}),n.d(e,"o",function(){return W}),n.d(e,"p",function(){return v}),n.d(e,"s",function(){return s}),n.d(e,"q",function(){return Mt});var m,_=n("Un6q"),b=n("LMZF"),w=n("6Xbx"),E=null,C={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},S={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};b._5.Node&&(m=b._5.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var I,O,N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.b)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){!function(t){E||(E=t)}(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){(r=t)[e].apply(r,n);var r},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return C},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return m.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&T.hasOwnProperty(e)&&(e=T[e]))}return S[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=A||(A=document.querySelector("base"))?A.getAttribute("href"):null;return null==e?null:function(t){return I||(I=document.createElement("a")),I.setAttribute("href",t),"/"===I.pathname.charAt(0)?I.pathname:"/"+I.pathname}(e)},e.prototype.resetBaseElement=function(){A=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(_.s)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(w.b)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),A=null,P=_.d,R=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(w.b)(e,t),e.prototype._init=function(){this.location=r().getLocation(),this._history=r().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return r().getBaseHref(this._doc)},e.prototype.onPopState=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){i()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){i()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:b.n,args:[P]}]}]},e}(_.p),k=function(){function t(t){this._doc=t,this._dom=r()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]")||null:null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),D=new b.o("TRANSITION_ID"),x=[{provide:b.d,useFactory:function(t,e,n){return function(){n.get(b.e).donePromise.then(function(){var n=r();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[D,P,b.p],multi:!0}],M=function(){function t(){}return t.init=function(){Object(b.V)(new t)},t.prototype.addToWindow=function(t){b._5.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},b._5.getAllAngularTestabilities=function(){return t.getAllTestabilities()},b._5.getAllAngularRootElements=function(){return t.getAllRootElements()},b._5.frameworkStabilizers||(b._5.frameworkStabilizers=[]),b._5.frameworkStabilizers.push(function(t){var e=b._5.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?r().isShadowRoot(e)?this.findTestabilityInTree(t,r().getHost(e),!0):this.findTestabilityInTree(t,r().parentElement(e),!0):null},t}(),L=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return r().getTitle(this._doc)},t.prototype.setTitle=function(t){r().setTitle(this._doc,t)},t}(),F={ApplicationRef:b.g,NgZone:b.x},j="probe",V="coreTokens",U=new b.o("EventManagerPlugins"),B=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),q=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var i=r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),W=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),H=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(w.b)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return r().remove(t)})},e}(W),G={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},K=/%COMP%/g,Q="_nghost-%COMP%",z="_ngcontent-%COMP%",J=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new X(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case b.N.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Z(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case b.N.Native:return new $(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=u(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),X=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(G[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=G[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=G[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&b.D.DashCase?t.style.setProperty(e,n,r&b.D.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&b.D.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){l(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return l(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,c(n)):this.eventManager.addEventListener(t,e,c(n))},t}(),Y="@".charCodeAt(0),Z=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=u(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=z.replace(K,r.id),i.hostAttr=Q.replace(K,r.id),i}return Object(w.b)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(X),$=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=u(i.id,i.styles,[]),s=0;s<a.length;s++){var c=document.createElement("style");c.textContent=a[s],o.shadowRoot.appendChild(c)}return o}return Object(w.b)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(X),tt="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},et=tt("addEventListener"),nt=tt("removeEventListener"),rt={},it="removeEventListener",ot="__zone_symbol__propagationStopped",at="__zone_symbol__stopImmediatePropagation";"undefined"!=typeof Zone&&Zone[tt("BLACK_LISTED_EVENTS")]&&(O={});var st=function(t){return!!O&&O.hasOwnProperty(t)},ut=function(t){var e=rt[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[ot];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},ct=function(t){function e(e,n){var r=t.call(this,e)||this;return r.ngZone=n,r.patchEvent(),r}return Object(w.b)(e,t),e.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype[at]){var t=Event.prototype[at]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ot]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[et]||b.x.isInAngularZone()&&!st(e))t.addEventListener(e,i,!1);else{var o=rt[e];o||(o=rt[e]=tt("ANGULAR"+e+"FALSE"));var a=t[o],s=a&&a.length>0;a||(a=t[o]=[]);var u=st(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var c=!1,l=0;l<a.length;l++)if(a[l].handler===i){c=!0;break}c||a.push({zone:u,handler:i})}s||t[et](e,ut,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[nt];if(!r)return t[it].apply(t,[e,n,!1]);var i=rt[e],o=i&&t[i];if(!o)return t[it].apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,ut,!1]):t[it].apply(t,[e,n,!1])},e}(q),lt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ht=new b.o("HammerGestureConfig"),ft=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),pt=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return Object(w.b)(e,t),e.prototype.supports=function(t){if(!lt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(q),dt=["alt","control","meta","shift"],yt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},gt=function(t){function e(e){return t.call(this,e)||this}return Object(w.b)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,i){var o=e.parseEventName(n),a=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return r().onAndCancel(t,o.domEventName,a)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(dt.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=r().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),dt.forEach(function(r){r!=n&&(0,yt[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(q),vt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,mt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,_t=null,bt=null,wt=f("area,br,col,hr,img,wbr"),Et=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ct=f("rp,rt"),St=p(Ct,Et),Tt=p(wt,p(Et,f("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),p(Ct,f("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),St),It=f("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ot=f("srcset"),Nt=p(It,Ot,f("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),At=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(bt.isElementNode(e)?this.startElement(e):bt.isTextNode(e)?this.chars(bt.nodeValue(e)):this.sanitizedSomething=!0,bt.firstChild(e))e=bt.firstChild(e);else for(;e;){bt.isElementNode(e)&&this.endElement(e);var n=d(e,bt.nextSibling(e));if(n){e=n;break}e=d(e,bt.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=bt.nodeName(t).toLowerCase();Tt.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),bt.attributeMap(t).forEach(function(t,n){var r=n.toLowerCase();Nt.hasOwnProperty(r)?(It[r]&&(t=h(t)),Ot[r]&&(t=function(t){return(t=String(t)).split(",").map(function(t){return h(t.trim())}).join(", ")}(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(y(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=bt.nodeName(t).toLowerCase();Tt.hasOwnProperty(e)&&!wt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(y(t))},t}(),Pt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rt=/([^\#-~ |!])/g,kt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Dt=/^url\(([^)]+)\)$/,xt=function(){},Mt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(w.b)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case b.F.NONE:return e;case b.F.HTML:return e instanceof Ft?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){try{var n=function(){if(_t)return _t;var t=(bt=r()).createElement("template");if("content"in t)return t;var e=bt.createHtmlDocument();if(null==(_t=bt.querySelector(e,"body"))){var n=bt.createElement("html",e);_t=bt.createElement("body",e),bt.appendChild(n,_t),bt.appendChild(e,n)}return _t}(),i=e?String(e):"",o=5,a=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,bt.setInnerHTML(n,i=a),t.documentMode&&g(n),a=bt.getInnerHTML(n)}while(i!==a);for(var s=new At,u=s.sanitizeChildren(bt.getTemplateContent(n)||n),c=bt.getTemplateContent(n)||n,l=0,h=bt.childNodesAsList(c);l<h.length;l++)bt.removeChild(c,h[l]);return Object(b.T)()&&s.sanitizedSomething&&bt.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),u}catch(t){throw _t=null,t}}(this._doc,String(e)));case b.F.STYLE:return e instanceof jt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Dt);return e&&h(e[1])===e[1]||t.match(kt)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Object(b.T)()&&r().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case b.F.SCRIPT:if(e instanceof Vt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case b.F.URL:return e instanceof Bt||e instanceof Ut?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),h(String(e)));case b.F.RESOURCE_URL:if(e instanceof Bt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Lt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Ft(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new jt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Vt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Ut(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Bt(t)},e}(xt),Lt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.b)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Lt),jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.b)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Lt),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.b)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Lt),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.b)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Lt),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.b)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Lt),qt=[{provide:b.z,useValue:_.q},{provide:b.A,useValue:function(){N.makeCurrent(),M.init()},multi:!0},{provide:_.p,useClass:R,deps:[P]},{provide:P,useFactory:function(){return document},deps:[]}],Wt=Object(b.P)(b.U,"browser",qt),Ht=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:b.c,useValue:e.appId},{provide:D,useExisting:b.c},x]}},t}();"undefined"!=typeof window&&window},T2Au:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF"),n("0nO6"),n("Z0p1"),n("2LMR"),n("Nmrl"),n("NtEA"),n("blHQ"),n("gcLq"),n("mGH2"),n("wnwn");var r=function(){}},T7WB:function(t,e,n){"use strict";var r=n("6Xbx"),i=(n("LMZF"),n("gcLq")),o=(n("NtEA"),n("wnwn"),n("AP4T")),a=n("Oryw"),s=n("1j/l"),u=n("E9/g"),c=n("lI6h"),l=n("qgI0"),h=n("X3fp"),f=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.project))},t}(),p=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=r}return Object(r.b)(e,t),e.prototype._next=function(t){var e=this.iterators;Object(s.a)(t)?e.push(new y(t)):e.push("function"==typeof t[h.a]?new d(t[h.a]()):new g(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++)if("function"==typeof(a=t[r]).hasValue&&!a.hasValue())return;var i=!1,o=[];for(r=0;r<e;r++){var a,s=(a=t[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.project?this._tryProject(o):n.next(o),i&&n.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.a),d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),y=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[h.a]=function(){return this},t.prototype.next=function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),g=function(t){function e(e,n,r){t.call(this,e),this.parent=n,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return Object(r.b)(e,t),e.prototype[h.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(l.a)(this,this.observable,this,e)},e}(c.a);n.d(e,"a",function(){return v});var v=function(t){function e(e,n){var r=t.call(this,e)||this;return r.fbs=e,r.uploadService=n,r}return Object(r.b)(e,t),e.prototype.uploadCarImage=function(t,e){return this.uploadService.pushUpload("/cars-images/"+t,e).map(function(t){return{src:t.downloadURL,name:e.name}})},e.prototype.updateCar=function(t){return this.fbs.updateDoc("cars",t,this.carQueryFn)},e.prototype.createCar=function(t,e){var n=this;console.log(e);var r,i=e.find(function(t){return t.isDefault}).name,s=[];return this.fbs.createDoc("cars",t,this.carQueryFn).mergeMap(function(t){return r=t.id,e.forEach(function(t){s.push(n.uploadCarImage(r,t))}),function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),new a.a(t).lift(new f(n))}.apply(void 0,s)}).mergeMap(function(t){var e={defaultImage:t.find(function(t){return t.name===i}),images:t},a=n.fbs.getCollectionRef("cars",n.carQueryFn).doc(r);return o.a.fromPromise(a.update(e))})},e.prototype.createImage=function(t,e){return this.fbs.createDoc("cars/"+e+"/images",t,this.carQueryFn).map(function(t){return t})},e.prototype.deleteCar=function(t){var e=this;console.log(t);var n="/cars-images/"+t.id;t.images.forEach(function(t){e.uploadService.deleteUpload(n,t.name).then(function(){console.log("delete",t.name)})}),this.fbs.deleteDoc("cars",t)},e}(i.a)},TL6u:function(t,e,n){(function(t){(function(){function t(t){return"string"==typeof t}function e(t){return"boolean"==typeof t}function r(){}function i(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function o(t){return null===t}function a(t){return"array"==i(t)}function s(t){var e=i(t);return"array"==e||"object"==e&&"number"==typeof t.length}function u(t){return"function"==i(t)}function c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function l(t,e,n){return t.call.apply(t.bind,arguments)}function h(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function f(t,e,n){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h).apply(null,arguments)}function p(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function d(t,e){function n(){}n.prototype=e.prototype,t.ib=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Rc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function y(t){if(Error.captureStackTrace)Error.captureStackTrace(this,y);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function g(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function v(t){return Ca.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(va,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ma,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(_a,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ba,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(wa,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Ea,"&#0;")),t):t}function m(t,e){return-1!=t.indexOf(e)}function _(t,e){return t<e?-1:t>e?1:0}function b(t,e){e.unshift(t),y.call(this,g.apply(null,e)),e.shift()}function w(t,e){throw new b("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function E(t,e){return 0<=Ta(t,e)}function C(t,e){var n;return(n=0<=(e=Ta(t,e)))&&Array.prototype.splice.call(t,e,1),n}function S(e,n){!function(e,n){var r=e.length,i=t(e)?e.split(""):e;for(--r;0<=r;--r)r in i&&n.call(void 0,i[r],r,e)}(e,function(t,r){n.call(void 0,t,r,e)&&Array.prototype.splice.call(e,r,1)})}function T(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function O(t){return m(Sa,t)}function N(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function A(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function P(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function R(t){for(var e in t)return!1;return!0}function k(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0}function D(t){var e,n={};for(e in t)n[e]=t[e];return n}function x(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<Ra.length;o++)n=Ra[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function M(t){return M[" "](t),t}function L(){var t=fa.document;return t?t.documentMode:void 0}function F(t){return function(e,n){var r=Wa;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=function(){for(var e=0,n=ga(String(ka)).split("."),r=ga(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=_(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||_(0==a[2].length,0==s[2].length)||_(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}()}(t)}function j(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function V(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function U(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function B(t,e){t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}function q(){var t=Ja,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function W(){this.next=this.b=this.a=null}function H(t){fa.setTimeout(function(){throw t},0)}function G(t,e){Qa||function(){if(-1!=String(fa.Promise).indexOf("[native code]")){var t=fa.Promise.resolve(void 0);Qa=function(){t.then(K)}}else Qa=function(){var t=K;!u(fa.setImmediate)||fa.Window&&fa.Window.prototype&&!O("Edge")&&fa.Window.prototype.setImmediate==fa.setImmediate?(Ka||(Ka=function(){var t=fa.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!O("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=f(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!O("Trident")&&!O("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).pb;n.pb=null,t()}},function(t){r.next={pb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){fa.setTimeout(t,0)}}()),Ka(t)):fa.setImmediate(t)}}(),za||(Qa(),za=!0);var n=Ja,r=Ga.get();r.set(t,e),n.b?n.b.next=r:n.a=r,n.b=r}function K(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){H(t)}B(Ga,t)}za=!1}function Q(t,e){if(this.a=Xa,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=r)try{var n=this;t.call(e,function(t){rt(n,Ya,t)},function(t){if(!(t instanceof ct))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}rt(n,Za,t)})}catch(t){rt(this,Za,t)}}function z(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function J(t,e,n){var r=$a.get();return r.g=t,r.b=e,r.f=n,r}function X(t){if(t instanceof Q)return t;var e=new Q(r);return rt(e,Ya,t),e}function Y(t){return new Q(function(e,n){n(t)})}function Z(t,e,n){it(t,e,n,null)||G(p(e,t))}function $(t,e){return e=J(e,e,void 0),e.c=!0,et(t,e),t}function tt(t,e){if(t.a==Xa)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Xa&&1==r?tt(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):at(n),st(n,i,Za,e)))}t.c=null}else rt(t,Za,e)}function et(t,e){t.b||t.a!=Ya&&t.a!=Za||ot(t),t.f?t.f.next=e:t.b=e,t.f=e}function nt(t,e,n,r){var i=J(null,null,null);return i.a=new Q(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ct?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,et(t,i),i.a}function rt(t,e,n){t.a==Xa&&(t===n&&(e=Za,n=new TypeError("Promise cannot resolve to itself")),t.a=1,it(n,t.Ac,t.Bc,t)||(t.i=n,t.a=e,t.c=null,ot(t),e!=Za||n instanceof ct||function(t,e){t.g=!0,G(function(){t.g&&ts.call(null,e)})}(t,n)))}function it(t,e,n,i){if(t instanceof Q)return et(t,J(e||r,n||null,i)),!0;if(V(t))return t.then(e,n,i),!0;if(c(t))try{var o=t.then;if(u(o))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}(t,o,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function ot(t){t.h||(t.h=!0,G(t.Qb,t))}function at(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function st(t,e,n,r){if(n==Za&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ut(e,n,r);else try{e.c?e.g.call(e.f):ut(e,n,r)}catch(t){ts.call(null,t)}B($a,e)}function ut(t,e,n){e==Ya?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function ct(t){y.call(this,t)}function lt(){this.a="",this.b=ns}function ht(t){return t instanceof lt&&t.constructor===lt&&t.b===ns?t.a:(w("expected object of type Const, got '"+t+"'"),"type_error:Const")}function ft(t){var e=new lt;return e.a=t,e}function pt(){this.a="",this.b=os}function dt(t){return t instanceof pt&&t.constructor===pt&&t.b===os?t.a:(w("expected object of type TrustedResourceUrl, got '"+t+"' of type "+i(t)),"type_error:TrustedResourceUrl")}function yt(t,e){return t=function(e,n){var r=ht(t);if(!is.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return r.replace(rs,function(t,e){if(!Object.prototype.hasOwnProperty.call(n,e))throw Error('Found marker, "'+e+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(n));return(t=n[e])instanceof lt?ht(t):encodeURIComponent(String(t))})}(0,e),e=new pt,e.a=t,e}function gt(){this.a="",this.b=ss}function vt(t){return t instanceof gt&&t.constructor===gt&&t.b===ss?t.a:(w("expected object of type SafeUrl, got '"+t+"' of type "+i(t)),"type_error:SafeUrl")}function mt(t){return t instanceof gt?t:(t=t.la?t.ja():String(t),as.test(t)||(t="about:invalid#zClosurez"),_t(t))}function _t(t){var e=new gt;return e.a=t,e}function bt(){this.a="",this.b=us}function wt(t){var e=new bt;return e.a=t,e}function Et(e){var n=document;return t(e)?n.getElementById(e):e}function Ct(t,e){N(e,function(e,n){e&&e.la&&(e=e.ja()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:cs.hasOwnProperty(n)?t.setAttribute(cs[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function St(t){var e=[];return Tt(new function(){},t,e),e.join("")}function Tt(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(a(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Tt(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),It(r,n),n.push(":"),Tt(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":It(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function It(t,e){e.push('"',t.replace(hs,function(t){var e=ls[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ls[t]=e),e}),'"')}function Ot(){0!=fs&&(ps[this[pa]||(this[pa]=++da)]=this),this.oa=this.oa,this.Fa=this.Fa}function Nt(t){t.oa||(t.oa=!0,t.ta(),0!=fs&&(t=t[pa]||(t[pa]=++da),delete ps[t]))}function At(t,e){this.type=t,this.b=this.target=e,this.Bb=!0}function Pt(e,n){if(At.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var r=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if(Fa){t:{try{M(n.nodeName);var o=!0;break t}catch(t){}o=!1}o||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,null===i?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:ms[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.c()}}function Rt(t){t.ma=!0,t.listener=null,t.a=null,t.src=null,t.La=null}function kt(t){this.src=t,this.a={},this.b=0}function Dt(t,e,n,r,i,o){var a=e.toString();(e=t.a[a])||(e=t.a[a]=[],t.b++);var s=Mt(e,n,i,o);return-1<s?(t=e[s],r||(t.Ha=!1)):(t=new function(t,e,r,i,o){this.listener=n,this.a=null,this.src=e,this.type=r,this.capture=!!i,this.La=o,this.key=++bs,this.ma=this.Ha=!1}(0,t.src,a,!!i,o),t.Ha=r,e.push(t)),t}function xt(t,e){var n=e.type;n in t.a&&C(t.a[n],e)&&(Rt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Mt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ma&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}function Lt(t,e,n,r,i){if(r&&r.once)jt(t,e,n,r,i);else if(a(e))for(var o=0;o<e.length;o++)Lt(t,e[o],n,r,i);else n=Kt(n),t&&t[_s]?Jt(t,e,n,c(r)?!!r.capture:!!r,i):Ft(t,e,n,!1,r,i)}function Ft(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=c(i)?!!i.capture:!!i,s=Gt(t);if(s||(t[ws]=s=new kt(t)),!(n=Dt(s,e,n,r,a,o)).a)if(r=function(){var t=Ht,e=ys?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.a=r,r.src=t,r.listener=n,t.addEventListener)vs||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(Bt(e.toString()),r)}}function jt(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)jt(t,e[o],n,r,i);else n=Kt(n),t&&t[_s]?Xt(t,e,n,c(r)?!!r.capture:!!r,i):Ft(t,e,n,!0,r,i)}function Vt(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)Vt(t,e[o],n,r,i);else r=c(r)?!!r.capture:!!r,n=Kt(n),t&&t[_s]?(t=t.u,(e=String(e).toString())in t.a&&(o=t.a[e],-1<(n=Mt(o,n,r,i))&&(Rt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Gt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Mt(e,n,r,i)),(n=-1<t?e[t]:null)&&Ut(n))}function Ut(t){if("number"!=typeof t&&t&&!t.ma){var e=t.src;if(e&&e[_s])xt(e.u,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(Bt(n),r),(n=Gt(e))?(xt(n,t),0==n.b&&(n.src=null,e[ws]=null)):Rt(t)}}}function Bt(t){return t in Es?Es[t]:Es[t]="on"+t}function qt(t,e,n,r){var i=!0;if((t=Gt(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ma&&(o=Wt(o,r),i=i&&!1!==o)}return i}function Wt(t,e){var n=t.listener,r=t.La||t.src;return t.Ha&&Ut(t),n.call(r,e)}function Ht(t,e){if(t.ma)return!0;if(!ys){if(!e)t:{e=["window","event"];for(var n=fa,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new Pt(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=qt(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=qt(r[i],t,!1,e),n=n&&o}return n}return Wt(t,new Pt(e,this))}function Gt(t){return(t=t[ws])instanceof kt?t:null}function Kt(t){return u(t)?t:(t[Cs]||(t[Cs]=function(e){return t.handleEvent(e)}),t[Cs])}function Qt(){Ot.call(this),this.u=new kt(this),this.Ib=this,this.Ra=null}function zt(e,n){var r,i=e.Ra;if(i)for(r=[];i;i=i.Ra)r.push(i);if(e=e.Ib,i=n.type||n,t(n))n=new At(n,e);else if(n instanceof At)n.target=n.target||e;else{var o=n;x(n=new At(i,e),o)}if(o=!0,r)for(var a=r.length-1;0<=a;a--){var s=n.b=r[a];o=Yt(s,i,!0,n)&&o}if(s=n.b=e,o=Yt(s,i,!0,n)&&o,o=Yt(s,i,!1,n)&&o,r)for(a=0;a<r.length;a++)s=n.b=r[a],o=Yt(s,i,!1,n)&&o}function Jt(t,e,n,r,i){Dt(t.u,String(e),n,!1,r,i)}function Xt(t,e,n,r,i){Dt(t.u,String(e),n,!0,r,i)}function Yt(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&xt(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Bb}function Zt(t,e,n){if(u(t))n&&(t=f(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=f(t.handleEvent,t)}return 2147483647<Number(e)?-1:fa.setTimeout(t,e||0)}function $t(t){var e=null;return new Q(function(n,r){-1==(e=Zt(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw fa.clearTimeout(e),t})}function te(t,e,n,r,i){this.reset(t,e,n,r,i)}function ee(t){this.f=t,this.b=this.c=this.a=null}function ne(t,e){this.name=t,this.value=e}function re(t){return t.c?t.c:t.a?re(t.a):(w("Root logger has no level set."),null)}function ie(t){Ns||(Ns=new ee(""),Os[""]=Ns,Ns.c=Ts);var e;if(!(e=Os[t])){e=new ee(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ie(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Os[t]=e}return e}function oe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof oe?(n=t.S(),r=t.P()):(n=P(t),r=A(t));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];se(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],se(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ue(t,e){t&&t.log(Is,e,void 0)}function ce(t,e){this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function le(t,e,n){t.a=!0,t.c=n,t.f=!e,de(t)}function he(t){if(t.a){if(!t.u)throw new ye;t.u=!1}}function fe(t,e,n,r){t.g.push([e,n,r]),t.a&&de(t)}function pe(t){return Na(t.g,function(t){return u(t[1])})}function de(t){if(t.h&&t.a&&pe(t)){var e=t.h,n=ks[e];n&&(fa.clearTimeout(n.a),delete ks[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(V(e)||"function"==typeof fa.Promise&&e instanceof fa.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,pe(t)||(n=!0)}}t.c=e,r&&(s=f(t.m,t,!0),r=f(t.m,t,!1),e instanceof ce?(fe(e,s,r),e.w=!0):e.then(s,r)),n&&(e=new ve(e),ks[e.a]=e,t.h=e.a)}function ye(){y.call(this)}function ge(){y.call(this)}function ve(t){this.a=fa.setTimeout(f(this.c,this),0),this.b=t}function me(t,e){this.b=-1,this.b=Ds,this.f=fa.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=fa.Int32Array?new Int32Array(64):Array(64),Rs||(Rs=fa.Int32Array?new Int32Array(js):js),this.reset()}function _e(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Rs[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function be(e,n,r){void 0===r&&(r=n.length);var i=0,o=e.c;if(t(n))for(;i<r;)e.f[o++]=n.charCodeAt(i++),o==e.b&&(_e(e),o=0);else{if(!s(n))throw Error("message must be string or array");for(;i<r;){var a=n[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(_e(e),o=0)}}e.c=o,e.g+=r}function we(){me.call(this,8,Vs)}function Ee(e){if(e.P&&"function"==typeof e.P)return e.P();if(t(e))return e.split("");if(s(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}return A(e)}function Ce(e){if(e.S&&"function"==typeof e.S)return e.S();if(!e.P||"function"!=typeof e.P){if(s(e)||t(e)){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}return P(e)}}function Se(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Se){this.f=void 0!==e?e:t.f,Te(this,t.c),this.l=t.l,this.b=t.b,Ie(this,t.i),this.g=t.g,e=t.a;var n=new Me;n.c=e.c,e.a&&(n.a=new oe(e.a),n.b=e.b),Oe(this,n),this.h=t.h}else t&&(n=String(t).match(Us))?(this.f=!!e,Te(this,n[1]||"",!0),this.l=ke(n[2]||""),this.b=ke(n[3]||"",!0),Ie(this,n[4]),this.g=ke(n[5]||"",!0),Oe(this,n[6]||"",!0),this.h=ke(n[7]||"")):(this.f=!!e,this.a=new Me(null,0,this.f))}function Te(t,e,n){t.c=n?ke(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ie(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Oe(t,e,n){e instanceof Me?(t.a=e,function(t,e){e&&!t.f&&(Le(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ve(this,e),Be(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=De(e,Hs)),t.a=new Me(e,0,t.f))}function Ne(t,e,n){t.a.set(e,n)}function Ae(t,e){return t.a.get(e)}function Pe(t){return t instanceof Se?new Se(t):new Se(t,void 0)}function Re(t,e){var n=new Se(null,void 0);return Te(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function ke(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function De(e,n,r){return t(e)?(e=encodeURI(e).replace(n,xe),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}function Me(t,e,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function Le(t){t.a||(t.a=new oe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){je(t,decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Fe(t){var e=Ce(t);if(void 0===e)throw Error("Keys are undefined");var n=new Me(null,0,void 0);t=Ee(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];a(o)?Be(n,i,o):je(n,i,o)}return n}function je(t,e,n){Le(t),t.c=null,e=qe(t,e);var r=t.a.get(e);r||t.a.set(e,r=[]),r.push(n),t.b+=1}function Ve(t,e){Le(t),e=qe(t,e),se(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,se(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ae(t)))}function Ue(t,e){return Le(t),e=qe(t,e),se(t.a.b,e)}function Be(t,e,n){Ve(t,e),0<n.length&&(t.c=null,t.a.set(qe(t,e),I(n)),t.b+=n.length)}function qe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function We(){}function He(){}function Ge(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ke(t){Qt.call(this),this.headers=new oe,this.w=t||null,this.b=!1,this.v=this.a=null,this.g=this.I=this.i="",this.c=this.G=this.h=this.A=!1,this.f=0,this.m=null,this.l=Qs,this.o=this.N=!1}function Qe(t){return"content-type"==t.toLowerCase()}function ze(t,e){t.b=!1,t.a&&(t.c=!0,t.a.abort(),t.c=!1),t.g=e,Je(t),Ye(t)}function Je(t){t.A||(t.A=!0,zt(t,"complete"),zt(t,"error"))}function Xe(t){if(t.b&&void 0!==ha)if(t.v[1]&&4==$e(t)&&2==tn(t))ue(t.J,en(t,"Local request error detected and ignored"));else if(t.h&&4==$e(t))Zt(t.Ab,0,t);else if(zt(t,"readystatechange"),4==$e(t)){ue(t.J,en(t,"Request complete")),t.b=!1;try{var e=tn(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.i).match(Us)[1]||null;if(!o&&fa.self&&fa.self.location){var a=fa.self.location.protocol;o=a.substr(0,a.length-1)}i=!Xs.test(o?o.toLowerCase():"")}r=i}if(r)zt(t,"complete"),zt(t,"success");else{try{var s=2<$e(t)?t.a.statusText:""}catch(e){ue(t.J,"Can not get status: "+e.message),s=""}t.g=s+" ["+tn(t)+"]",Je(t)}}finally{Ye(t)}}}function Ye(t,e){if(t.a){Ze(t);var n=t.a,i=t.v[0]?r:null;t.a=null,t.v=null,e||zt(t,"ready");try{n.onreadystatechange=i}catch(e){(t=t.J)&&t.log(Ss,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ze(t){t.a&&t.o&&(t.a.ontimeout=null),"number"==typeof t.m&&(fa.clearTimeout(t.m),t.m=null)}function $e(t){return t.a?t.a.readyState:0}function tn(t){try{return 2<$e(t)?t.a.status:-1}catch(t){return-1}}function en(t,e){return e+" ["+t.I+" "+t.i+" "+tn(t)+"]"}function nn(t){var e={},n=e.document||document,r=dt(t),i=document.createElement("SCRIPT"),o={Cb:i,Ea:void 0},a=new ce(rn,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){on(i,!0);var t=new an(tu,"Timeout reached for loading script "+r);he(a),le(a,!1,t)},u),o.Ea=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(on(i,e.Sc||!1,s),a.A(null))},i.onerror=function(){on(i,!0,s);var t=new an($s,"Error while loading script "+r);he(a),le(a,!1,t)},o=e.attributes||{},x(o,{type:"text/javascript",charset:"UTF-8"}),Ct(i,o),i.src=dt(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function rn(){if(this&&this.Cb){var t=this.Cb;t&&"SCRIPT"==t.tagName&&on(t,!0,this.Ea)}}function on(t,e,n){null!=n&&fa.clearTimeout(n),t.onload=r,t.onerror=r,t.onreadystatechange=r,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function an(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),y.call(this,n),this.code=t}function sn(){}function un(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.a.onload=f(this.Wb,this),this.a.onerror=f(this.xb,this),this.a.onprogress=f(this.Xb,this),this.a.ontimeout=f(this.Yb,this)}function cn(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ln(){var t=Sn();return xa&&!!qa&&11==qa||/Edge\/\d+/.test(t)}function hn(){return fa.window&&fa.window.location.href||""}function fn(t,e){e=e||fa.window;var n="about:blank";t&&(n=vt(mt(t))),e.location.href=n}function pn(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):a(t[n])?k(t[n],e[n])||r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<pn(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dn(t){return!!((t=(t||Sn()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yn(t){t=t||fa.window;try{t.close()}catch(t){}}function gn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,a=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<o?o:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Sn().toLowerCase(),r&&(e.target=r,m(n,"crios/")&&(e.target="_blank")),En(Sn())==nu&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(r=e)||(r={}),t=window,e=n instanceof gt?n:mt(void 0!==n.href?n.href:String(n)),n=r.target||n.target,o=[];for(s in r)switch(s){case"width":case"height":case"top":case"left":o.push(s+"="+r[s]);break;case"target":case"noreferrer":break;default:o.push(s+"="+(r[s]?1:0))}var s=o.join(",");if((O("iPhone")&&!O("iPod")&&!O("iPad")||O("iPad")||O("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(s=t.document.createElement("A"),e instanceof gt||e instanceof gt||(e=e.la?e.ja():String(e),as.test(e)||(e="about:invalid#zClosurez"),e=_t(e)),s.href=vt(e),s.setAttribute("target",n),r.noreferrer&&s.setAttribute("rel","noreferrer"),(r=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,t,1),s.dispatchEvent(r),s={}):r.noreferrer?(s=t.open("",n,s),t=vt(e),s&&(La&&m(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,ft("b/12014412, meta tag with sanitized URL"),t='<META HTTP-EQUIV="refresh" content="0; url='+v(t)+'">',t=wt(t),s.document.write(t instanceof bt&&t.constructor===bt&&t.b===us?t.a:(w("expected object of type SafeHtml, got '"+t+"' of type "+i(t)),"type_error:SafeHtml")),s.document.close())):s=t.open(vt(e),n,s),s)try{s.focus()}catch(t){}return s}function vn(){var t=null;return new Q(function(e){"complete"==fa.document.readyState?e():(t=function(){e()},jt(window,"load",t))}).s(function(e){throw Vt(window,"load",t),e})}function mn(t){return t=t||Sn(),!("file:"!==An()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _n(){var t=fa.window;try{return!(!t||t==t.top)}catch(t){return!1}}function bn(){return la.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":la.INTERNAL.hasOwnProperty("node")?"Node":"Browser"}function wn(){var t=bn();return"ReactNative"===t||"Node"===t}function En(t){var e=t.toLowerCase();return m(e,"opera/")||m(e,"opr/")||m(e,"opios/")?"Opera":m(e,"iemobile")?"IEMobile":m(e,"msie")||m(e,"trident/")?"IE":m(e,"edge/")?"Edge":m(e,"firefox/")?nu:m(e,"silk/")?"Silk":m(e,"blackberry")?"Blackberry":m(e,"webos")?"Webos":!m(e,"safari/")||m(e,"chrome/")||m(e,"crios/")||m(e,"android")?!m(e,"chrome/")&&!m(e,"crios/")||m(e,"edge/")?m(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":ru:"Safari"}function Cn(t,e){e=e||[];var n,r=[],i={};for(n in iu)i[iu[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),r=bn(),i="",(i="Browser"===r?En(Sn()):r)+"/JsCore/"+t+"/"+e.join(",")}function Sn(){return fa.navigator&&fa.navigator.userAgent||""}function Tn(t,e){t=t.split("."),e=e||fa;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function In(){try{var t=fa.localStorage,e=xn();if(t)return t.setItem(e,"1"),t.removeItem(e),!ln()||!!fa.indexedDB}catch(t){}return!1}function On(){return(Nn()||"chrome-extension:"===An()||mn())&&!wn()&&In()}function Nn(){return"http:"===An()||"https:"===An()}function An(){return fa.location&&fa.location.protocol||null}function Pn(t){return t=t||Sn(),!dn(t)&&En(t)!=nu}function Rn(t){return void 0===t?null:St(t)}function kn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Dn(t){if(null!==t)return JSON.parse(t)}function xn(t){return t||""+Math.floor(1e9*Math.random()).toString()}function Mn(t){return t=t||Sn(),"Safari"!=En(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ln(){var t=fa.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fn(){var t=fa.navigator;return!t||"boolean"!=typeof t.onLine||!Nn()&&"chrome-extension:"!==An()&&void 0===t.connection||t.onLine}function jn(t,e,n,r){if(t>e)throw Error("Short delay should be less than long delay!");this.c=t,this.b=e,t=n||Sn(),r=r||bn(),this.a=dn(t)||"ReactNative"===r}function Vn(){var t=fa.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Un(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Bn(t,e,n){ou?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function qn(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Bn(t,n,e[n])}function Wn(t){var e={};return qn(e,t),e}function Hn(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)Bn(e,n,Hn(t[n]))}return e}function Gn(t,e){this.code=uu+t,this.message=e||cu[t]||""}function Kn(t){var e=t&&t.code;return e?new Gn(e.substring(uu.length),t.message):null}function Qn(t){var e=t[pu];if(void 0===e)throw new Gn("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Gn("invalid-continue-uri");this.h=e,this.c=this.a=null,this.g=!1;var n=t[lu];if(n&&"object"==typeof n){e=n[gu];var r=n[du];if(n=n[yu],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Gn("argument-error",du+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Gn("argument-error",yu+" property must be a non empty string when specified.");this.c=n||null}else{if(void 0!==e)throw new Gn("argument-error",gu+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Gn("missing-android-pkg-name")}}else if(void 0!==n)throw new Gn("argument-error",lu+" property must be a non null object when specified.");if(this.b=null,(e=t[fu])&&"object"==typeof e){if("string"==typeof(e=e[vu])&&e.length)this.b=e;else if(void 0!==e)throw new Gn("argument-error",vu+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Gn("argument-error",fu+" property must be a non null object when specified.");if(void 0!==(t=t[hu])&&"boolean"!=typeof t)throw new Gn("argument-error",hu+" property must be a boolean when specified.");if((this.f=!!t)&&!this.b&&!this.a)throw new Gn("argument-error",hu+" property can't be true when no mobile application is provided.")}function zn(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.f,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.c,e.androidInstallApp=t.g),e.iOSBundleId=t.b;for(var n in e)null===e[n]&&delete e[n];return e}function Jn(t){if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=JSON.parse(function(e){var n="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ps[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!As){As={},Ps={};for(var t=0;65>t;t++)As[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ps[As[t]]=t,62<=t&&(Ps["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){n+=String.fromCharCode(t)}),n}());if(r.sub&&r.iss&&r.aud&&r.exp)return new function(t){this.b=t.sub,ya(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null}(r)}catch(t){}return null}function Xn(t){for(var e in bu)if(bu[e].Na==t)return bu[e];return null}function Yn(t){var e={};e["facebook.com"]=tr,e["google.com"]=nr,e["github.com"]=er,e["twitter.com"]=rr;var n=t&&t[Eu];try{if(n)return e[n]?new e[n](t):new $n(t);if(void 0!==t[wu])return new Zn(t)}catch(t){}return null}function Zn(t){var e=t[Eu];if(!e&&t[wu]){var n=Jn(t[wu]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Bn(this,"providerId",e),Bn(this,"isNewUser",n)}function $n(t){Zn.call(this,t),Bn(this,"profile",Hn((t=Dn(t.rawUserInfo||"{}"))||{}))}function tr(t){if($n.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function er(t){if($n.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Bn(this,"username",this.profile&&this.profile.login||null)}function nr(t){if($n.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function rr(t){if($n.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Bn(this,"username",t.screenName||null)}function ir(t,e){return t.then(function(t){if(t[Su]){var n=Jn(t[Su]);if(!n||e!=n.b)throw new Gn("user-mismatch");return t}throw new Gn("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==uu+"user-not-found"?new Gn("user-mismatch"):t})}function or(t,e){if(e.idToken||e.accessToken)e.idToken&&Bn(this,"idToken",e.idToken),e.accessToken&&Bn(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Gn("internal-error","failed to construct a credential");Bn(this,"accessToken",e.oauthToken),Bn(this,"secret",e.oauthTokenSecret)}Bn(this,"providerId",t)}function ar(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:Fe(e).toString(),requestUri:"http://localhost"}}function sr(t,e){this.rc=e||[],qn(this,{providerId:t,isOAuthProvider:!0}),this.rb={},this.Wa=(Xn(t)||{}).Ma||null,this.Ua=null}function ur(t){sr.call(this,t,_u),this.a=[]}function cr(){ur.call(this,"facebook.com")}function lr(t){if(!t)throw new Gn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new cr).credential(null,e)}function hr(){ur.call(this,"github.com")}function fr(t){if(!t)throw new Gn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new hr).credential(null,e)}function pr(){ur.call(this,"google.com"),this.sa("profile")}function dr(t,e){var n=t;return c(t)&&(n=t.idToken,e=t.accessToken),(new pr).credential(n,e)}function yr(){sr.call(this,"twitter.com",mu)}function gr(t,e){var n=t;if(c(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Gn("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new or("twitter.com",n)}function vr(t,e){this.a=t,this.f=e,Bn(this,"providerId","password")}function mr(){qn(this,{providerId:"password",isOAuthProvider:!1})}function _r(t){if(!(t.Pa&&t.Oa||t.Da&&t.Y))throw new Gn("internal-error");this.a=t,Bn(this,"providerId","phone")}function br(t){return t.a.Da&&t.a.Y?{temporaryProof:t.a.Da,phoneNumber:t.a.Y}:{sessionInfo:t.a.Pa,code:t.a.Oa}}function wr(t){try{this.a=t||la.auth()}catch(t){throw new Gn("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qn(this,{providerId:"phone",isOAuthProvider:!1})}function Er(t,e){if(!t)throw new Gn("missing-verification-id");if(!e)throw new Gn("missing-verification-code");return new _r({Pa:t,Oa:e})}function Cr(t){if(t.temporaryProof&&t.phoneNumber)return new _r({Da:t.temporaryProof,Y:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return dr(t,n);case"facebook.com":return lr(n);case"github.com":return fr(n);case"twitter.com":return gr(n,r);default:return new ur(e).credential(t,n)}}catch(t){return null}}function Sr(t){if(!t.isOAuthProvider)throw new Gn("invalid-oauth-provider")}function Tr(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Gn("invalid-auth-event");if(this.f&&this.a)throw new Gn("invalid-auth-event");if(this.f&&!this.g)throw new Gn("invalid-auth-event")}function Ir(t){return(t=t||{}).type?new Tr(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Kn(t.error)):null}function Or(t){var e="unauthorized-domain",n=void 0,r=Pe(t);t=r.b,"chrome-extension"==(r=r.c)?n=g("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=g("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Gn.call(this,e,n)}function Nr(t,e,n){Gn.call(this,t,n),(t=e||{}).sb&&Bn(this,"email",t.sb),t.Y&&Bn(this,"phoneNumber",t.Y),t.credential&&Bn(this,"credential",t.credential)}function Ar(t){if(t.code){var e=t.code||"";0==e.indexOf(uu)&&(e=e.substring(uu.length));var n={credential:Cr(t)};if(t.email)n.sb=t.email;else{if(!t.phoneNumber)return new Gn(e,t.message||void 0);n.Y=t.phoneNumber}return new Nr(e,n,t.message)}return null}function Pr(t){this.f=t}function Rr(t,e,n){var r="Node"==bn();if(!(r=fa.XMLHttpRequest||r&&la.INTERNAL.node&&la.INTERNAL.node.XMLHttpRequest))throw new Gn("internal-error","The XMLHttpRequest compatibility library was not found.");this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Tu,this.c=D(t.secureTokenHeaders||Iu),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Ou,this.a=D(t.firebaseHeaders||Nu),n&&(this.a["X-Client-Version"]=n,this.c["X-Client-Version"]=n),this.f=new sn,this.o=new Pr(r)}function kr(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Dr(t,e){e?(t.a["X-Client-Version"]=e,t.c["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.c["X-Client-Version"])}function xr(t,e,n,r,i,o,a){Fn()?(function(){var t=Sn();return!((t=En(t)!=ru?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||xa&&qa&&!(9<qa))}()?t=f(t.m,t):(Cu||(Cu=new Q(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(fa[Pu]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},fe(nn(yt(Au,{onload:Pu})),null,function(){e(Error("CORS_UNSUPPORTED"))},void 0))}(t,e)})),t=f(t.u,t)),t(e,n,r,i,o,a)):n&&n(null)}function Mr(t){if(!Zs.test(t.email))throw new Gn("invalid-email")}function Lr(t){"email"in t&&Mr(t)}function Fr(t){if(!t[Su])throw new Gn("internal-error")}function jr(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Gn("internal-error")}else{if(!t.sessionInfo)throw new Gn("missing-verification-id");if(!t.code)throw new Gn("missing-verification-code")}}function Vr(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Gn("internal-error")}function Ur(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ar(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ar(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ar(t)):t.errorMessage&&(e=Kr(t.errorMessage)),e)throw e;if(!t[Su])throw new Gn("internal-error")}function Br(t,e){return e.returnIdpCredential=!0,Gr(t,Ju,e)}function qr(t,e){return e.returnIdpCredential=!0,Gr(t,Yu,e)}function Wr(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Gr(t,Xu,e)}function Hr(t){if(!t.oobCode)throw new Gn("invalid-action-code")}function Gr(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.ea))return Y(new Gn("internal-error"));var r,i=e.zb||"POST";return X(n).then(e.D).then(function(){return e.T&&(n.returnSecureToken=!0),function(t,n,r,i,o,a){var s=Pe(t.g+e.endpoint);Ne(s,"key",t.b),a&&Ne(s,"cb",ya().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ne(s,c,i[c]);return new Q(function(e,n){xr(t,s.toString(),function(t){t?t.error?n(Qr(t,o||{})):e(t):n(new Gn("network-request-failed"))},r,u?void 0:St(kn(i)),t.a,t.h.get())})}(t,0,i,n,e.Pb,e.nb||!1)}).then(function(t){return r=t}).then(e.O).then(function(){if(!e.ga)return r;if(!(e.ga in r))throw new Gn("internal-error");return r[e.ga]})}function Kr(t){return Qr({error:{errors:[{message:t}],code:400,message:t}})}function Qr(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Gn(r[n]):null)return n;n=t.error&&t.error.message||"",x(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new Gn(r[i],e);return!e&&t&&(e=Rn(t)),new Gn("internal-error",e)}function zr(t){for(var e in rc)if(rc[e].id===t)return t=rc[e],{firebaseEndpoint:t.Va,secureTokenEndpoint:t.ab};return null}function Jr(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Re(this.i,"/__/auth/iframe"),Ne(this.a,"apiKey",this.g),Ne(this.a,"appName",this.h),this.b=null,this.c=[]}function Xr(t,e,n,r,i){this.m=t,this.u=e,this.c=n,this.l=r,this.i=this.g=this.h=null,this.a=i,this.f=null}function Yr(t){try{return la.app(t).auth().Ka()}catch(t){return[]}}function Zr(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function $r(t){var e=hn();return Gr(t,qu,{}).then(function(t){return t.authorizedDomains||[]}).then(function(t){t:{var n=Pe(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Pe(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:eu.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Or(hn())})}function ti(t){return t.l?t.l:(t.l=vn().then(function(){if(!t.o){var e=t.c,n=t.h,r=Yr(t.b),i=new Jr(t.u,t.f,t.b);i.f=e,i.b=n,i.c=I(r||[]),t.o=i.toString()}t.i=new function(e){this.b=t.o,this.a=null,this.Ya=function(t){return(sc||(sc=new Q(function(t,e){if(Fn()){var n=function(){Ln(),Tn("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ln(),e(Error("Network Error"))},timeout:oc.get()})};if(Tn("gapi.iframes.Iframe"))t();else if(Tn("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();fa[r]=function(){Tn("gapi.load")?n():e(Error("Network Error"))},X(nn(r=yt(ic,{onload:r}))).s(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))}).s(function(t){throw sc=null,t}))).then(function(){return new Q(function(e,n){Tn("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ac.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}(0),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.Ya.then(function(){t.a.register("authEvent",e,Tn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ir(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",X(n)}return n.status="ERROR",X(n)})}(t)}),t.l)}function ei(t){return t.m||(t.v=t.c?Cn(t.c,Yr(t.b)):null,t.m=new Rr(t.f,zr(t.h),t.v)),t.m}function ni(t,e,n,r,i,o,a,s,u,c){return t=new Xr(t,e,n,r,i),t.h=o,t.g=a,t.i=s,t.b=D(u||null),t.f=c,t.toString()}function ri(t){if(this.a=t||la.INTERNAL.reactNative&&la.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Gn("internal-error","The React Native compatibility library was not found.")}function ii(){this.a={}}function oi(t,e,n,r,i,o){try{var a=!!fa.indexedDB}catch(t){a=!1}if(!a)throw new Gn("web-storage-unsupported");this.u=t,this.h=e,this.g=n,this.l=r,this.m=i,this.f={},this.c=[],this.a=0,this.o=o||fa.indexedDB}function ai(t){return t.i||(t.i=function(t){return new Q(function(e,n){var r=t.o.open(t.u,t.m);r.onerror=function(t){n(Error(t.target.errorCode))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.h,{keyPath:t.g})}catch(t){n(t)}},r.onsuccess=function(t){e(t.target.result)}})}(t)),t.i}function si(t,e){return e.objectStore(t.h)}function ui(t,e,n){return e.transaction([t.h],n?"readwrite":"readonly")}function ci(t){return new Q(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function li(){if(!function(){var t="Node"==bn();if(!(t=hi()||t&&la.INTERNAL.node&&la.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==bn())throw new Gn("internal-error","The LocalStorage compatibility library was not found.");throw new Gn("web-storage-unsupported")}this.a=hi()||la.INTERNAL.node.localStorage}function hi(){try{var t=fa.localStorage,e=xn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function fi(){}function pi(){if(!function(){var t="Node"==bn();if(!(t=di()||t&&la.INTERNAL.node&&la.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==bn())throw new Gn("internal-error","The SessionStorage compatibility library was not found.");throw new Gn("web-storage-unsupported")}this.a=di()||la.INTERNAL.node.sessionStorage}function di(){try{var t=fa.sessionStorage,e=xn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function yi(t,e,n,r,i){this.i=t,this.g=e,this.A=n,this.u=r,this.v=i,this.a={},cc||(cc=new function(){var t={};t.Browser=hc,t.Node=fc,t.ReactNative=pc,this.a=t[bn()]}),t=cc;try{if(ln()){uc||(uc=new oi("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var o=uc}else o=new t.a.C;this.l=o}catch(t){this.l=new ii,this.u=!0}try{this.o=new t.a.jb}catch(t){this.o=new ii}this.w=new ii,this.h=f(this.m,this),this.b={}}function gi(){return lc||(lc=new yi("firebase",":",!(Mn(Sn())||!_n()),Pn(),In())),lc}function vi(t,e){switch(e){case"session":return t.o;case"none":return t.w;default:return t.l}}function mi(t,e,n){return t.i+t.g+e.name+(n?t.g+n:"")}function _i(t,e,n){return n=mi(t,e,n),"local"==e.C&&(t.b[n]=null),vi(t,e.C).X(n)}function bi(t,e,n,r){e=mi(t,e,n),t.v&&(t.b[e]=fa.localStorage.getItem(e)),R(t.a)&&(vi(t,"local").ia(t.h),t.u||ln()||!t.v||function(t){wi(t),t.f=setInterval(function(){for(var e in t.a){var n=fa.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Pt({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.m(n))}},1e3)}(t)),t.a[e]||(t.a[e]=[]),t.a[e].push(r)}function wi(t){t.f&&(clearInterval(t.f),t.f=null)}function Ei(t,e,n,r,i,o,a){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=a||null,this.h=e+":"+n,this.A=new function(){this.a=gi()},this.g=new function(t){this.a=t,this.b=gi()}(this.h),this.f=null,this.b=[],this.v=i||500,this.w=o||2e3,this.a=this.c=null}function Ci(t){return new Gn("invalid-cordova-configuration",t)}function Si(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ti(t){return t.f||(t.f=t.ba().then(function(){return new Q(function(e){function n(r){return e(r),t.Ja(n),!1}t.ua(n),function(t){function e(e){i=!0,o&&o.cancel(),Ii(t).then(function(n){var i=r;if(n&&e&&e.url){i=null;var o=e.url,a=Pe(o),s=Ae(a,"link"),u=Ae(Pe(s),"link");-1!=(o=Ae(Pe(a=Ae(a,"deep_link_id")),"link")||a||u||s||o).indexOf("/__/auth/callback")&&(i=Pe(o),i=Dn(Ae(i,"firebaseError")||null),i=(i="object"==typeof i?Kn(i):null)?new Tr(n.b,n.c,null,null,i):new Tr(n.b,n.c,o,n.g)),i=i||r}Si(t,i)})}var n=Tn("universalLinks.subscribe",fa);if("function"!=typeof n)throw new Gn("invalid-cordova-configuration");var r=new Tr("unknown",null,null,null,new Gn("no-auth-event")),i=!1,o=$t(t.v).then(function(){return Ii(t).then(function(){i||Si(t,r)})}),a=fa.handleOpenURL;fa.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tn("BuildInfo.packageName",fa).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},n(null,e)}(t)})})),t.f}function Ii(t){var e=null;return function(t){return t.b.get(yc,t.a).then(function(t){return Ir(t)})}(t.g).then(function(n){return e=n,n=t.g,_i(n.b,yc,n.a)}).then(function(){return e})}function Oi(t){return _i(t.b,gc,t.a)}function Ni(t,e,n){this.v=t,this.l=e,this.u=n,this.h=[],this.f=!1,this.i=f(this.m,this),this.c=new Mi,this.o=new Vi,this.g=new function(t){this.a=t,this.b=gi()}(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.o,this.b.linkViaPopup=this.o,this.b.reauthViaPopup=this.o,this.a=Ai(this.v,this.l,this.u,ku)}function Ai(t,e,n,r){var i=la.SDK_VERSION||null;return mn()?new Ei(t,e,n,i,void 0,void 0,r):new Zr(t,e,n,i,r)}function Pi(t){t.f||(t.f=!0,t.a.ua(t.i));var e=t.a;return t.a.ba().s(function(n){throw t.a==e&&t.reset(),n})}function Ri(t){t.a.Db()&&Pi(t).s(function(e){var n=new Tr("unknown",null,null,null,new Gn("operation-not-supported-in-this-environment"));Di(e)&&t.m(n)}),t.a.yb()||Li(t.c)}function ki(t,e,n,r,i,o){return t.a.vb(e,n,r,function(){t.f||(t.f=!0,t.a.ua(t.i))},function(){t.reset()},i,o)}function Di(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function xi(t,e,n){var r=e+":"+n;return _c[r]||(_c[r]=new Ni(t,e,n)),_c[r]}function Mi(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function Li(t){t.g||(t.g=!0,ji(t,!1,null,null))}function Fi(t,e){if(t.b=function(){return X(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function ji(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Y(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fi(t,n):Fi(t,{user:null}),t.f=[],t.c=[]}function Vi(){}function Ui(t,e){this.a=e,Bn(this,"verificationId",t)}function Bi(t,e,n,r){return new wr(t).Qa(e,n).then(function(t){return new Ui(t,r)})}function qi(t,e,n,r,i,o){if(this.h=t,this.i=e,this.g=n,this.c=r,this.f=i,this.l=!!o,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Wi(t,e){Hi(t),t.b=$t(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return t.l?X():function(){var t=fa.document,e=null;return Vn()||!t?X():new Q(function(n){t.addEventListener("visibilitychange",e=function(){Vn()&&(t.removeEventListener("visibilitychange",e,!1),n())},!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){Wi(t,!0)}).s(function(e){t.i(e)&&Wi(t,!1)})}function Hi(t){t.b&&(t.b.cancel(),t.b=null)}function Gi(t){this.f=t,this.b=this.a=null,this.c=0}function Ki(t,e){var n=e[Su],r=e.refreshToken;e=Qi(e.expiresIn),t.b=n,t.c=e,t.a=r}function Qi(t){return ya()+1e3*parseInt(t,10)}function zi(t,e){this.a=t||null,this.b=e||null,qn(this,{lastSignInTime:Un(e||null),creationTime:Un(t||null)})}function Ji(t,e){At.call(this,t);for(var n in e)this[n]=e[n]}function Xi(t,e,n){this.A=[],this.G=t.apiKey,this.o=t.appName,this.w=t.authDomain||null,t=la.SDK_VERSION?Cn(la.SDK_VERSION):null,this.c=new Rr(this.G,zr(ku),t),this.h=new Gi(this.c),ro(this,e[Su]),Ki(this.h,e),Bn(this,"refreshToken",this.h.a),ao(this,n||{}),Qt.call(this),this.I=!1,this.w&&On()&&(this.a=xi(this.w,this.G,this.o)),this.N=[],this.i=null,this.l=function(t){return new qi(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-ya()-3e5;return 0<e?e:0},3e4,96e4,!1)}(this),this.U=f(this.Ga,this);var r=this;this.ha=null,this.ra=function(t){r.na(t.h)},this.W=null,this.R=[],this.qa=function(t){Zi(r,t.f)},this.V=null}function Yi(t,e){t.W&&Vt(t.W,"languageCodeChanged",t.ra),(t.W=e)&&Lt(e,"languageCodeChanged",t.ra)}function Zi(t,e){t.R=e,Dr(t.c,la.SDK_VERSION?Cn(la.SDK_VERSION,t.R):null)}function $i(t,e){t.V&&Vt(t.V,"frameworkChanged",t.qa),(t.V=e)&&Lt(e,"frameworkChanged",t.qa)}function to(t){try{return la.app(t.o).auth()}catch(e){throw new Gn("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function eo(t){t.m||t.l.b||(t.l.start(),Vt(t,"tokenChanged",t.U),Lt(t,"tokenChanged",t.U))}function no(t){Vt(t,"tokenChanged",t.U),Hi(t.l)}function ro(t,e){t.pa=e,Bn(t,"_lat",e)}function io(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return function(t){return new Q(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Ub:!0,value:o}:{Ub:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],Z(i,p(o,a,!0),p(o,a,!1));else e(r)})}(e).then(function(){return t})}function oo(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function ao(t,e){qn(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new zi(e.createdAt,e.lastLoginAt),providerData:[]})}function so(){}function uo(t){return X().then(function(){if(t.m)throw new Gn("app-deleted")})}function co(t){return Oa(t.providerData,function(t){return t.providerId})}function lo(t,e){e&&(ho(t,e.providerId),t.providerData.push(e))}function ho(t,e){S(t.providerData,function(t){return t.providerId==e})}function fo(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Bn(t,e,n)}function po(t,e){t!=e&&(qn(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Bn(t,"metadata",e.metadata?function(t){return new zi(t.a,t.b)}(e.metadata):new zi),Ia(e.providerData,function(e){lo(t,e)}),t.h=e.h,Bn(t,"refreshToken",t.h.a))}function yo(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,n){return Gr(t.c,Vu,{idToken:e}).then(f(t.kc,t))}(t).then(function(){return n||fo(t,"isAnonymous",!1),e})})}function go(t,e){e[Su]&&t.pa!=e[Su]&&(Ki(t.h,e),zt(t,new Ji("tokenChanged")),ro(t,e[Su]),fo(t,"refreshToken",t.h.a))}function vo(t,e){return yo(t).then(function(){if(E(co(t),e))return io(t).then(function(){throw new Gn("provider-already-linked")})})}function mo(t,e,n){var r=Cr(e);return e=Yn(e),Wn({user:t,credential:r,additionalUserInfo:e,operationType:n})}function _o(t,e){return go(t,e),t.reload().then(function(){return t})}function bo(t,e,n,r,i){if(!On())return Y(new Gn("operation-not-supported-in-this-environment"));if(t.i&&!i)return Y(t.i);var o=Xn(n.providerId),a=xn(t.uid+":::"),s=null;(!Pn()||_n())&&t.w&&n.isOAuthProvider&&(s=ni(t.w,t.G,t.o,e,n,null,a,la.SDK_VERSION||null));var u=gn(s,o&&o.za,o&&o.ya);return r=r().then(function(){if(Eo(t),!i)return t.F().then(function(){})}).then(function(){return ki(t.a,u,e,n,a,!!s)}).then(function(){return new Q(function(n,r){t.fa(e,null,new Gn("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.b=t.a.Ca(t,e,u,a)})}).then(function(t){return u&&yn(u),t?Wn(t):null}).s(function(t){throw u&&yn(u),t}),Co(t,r,i)}function wo(t,e,n,r,i){if(!On())return Y(new Gn("operation-not-supported-in-this-environment"));if(t.i&&!i)return Y(t.i);var o=null,a=xn(t.uid+":::");return r=r().then(function(){if(Eo(t),!i)return t.F().then(function(){})}).then(function(){return t.Z=a,io(t)}).then(function(e){return t.ca&&(e=t.ca,e=e.b.set(bc,t.B(),e.a)),e}).then(function(){return t.a.Aa(e,n,a)}).s(function(e){if(o=e,t.ca)return To(t.ca);throw o}).then(function(){if(o)throw o}),Co(t,r,i)}function Eo(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Gn("internal-error");throw new Gn("auth-domain-config-required")}}function Co(t,e,n){var r=function(t,e,r){return t.i&&!n?(e.cancel(),Y(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||zt(t,new Ji("userInvalidated")),t.i=e),e})}(t,e);return t.A.push(r),$(r,function(){C(t.A,r)}),r}function So(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Su]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-ya())/1e3;var r=new Xi(e,n,t);return t.providerData&&Ia(t.providerData,function(t){t&&lo(r,Wn(t))}),t.redirectEventId&&(r.Z=t.redirectEventId),r}function To(t){return _i(t.b,bc,t.a)}function Io(t,e){this.a=t,this.b=e||gi(),this.c=null,this.f=function(t){var e=No("local"),n=No("session"),r=No("none");return t.b.get(n,t.a).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(wc,t.a).then(function(t){return t?No(t):e})})})}).then(function(e){return t.c=e,Oo(t,e.C)}).s(function(){t.c||(t.c=e)})}(this),bi(this.b,No("local"),this.a,f(this.g,this))}function Oo(t,e){var n,r=[];for(n in dc)dc[n]!==e&&r.push(_i(t.b,No(dc[n]),t.a));return r.push(_i(t.b,wc,t.a)),function(t){return new Q(function(e,n){var r=t.length,i=[];if(r)for(var o,a=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],Z(o,p(a,u),s);else e(i)})}(r)}function No(t){return{name:"authUser",C:t}}function Ao(t,e){return ko(t,function(){return t.b.set(t.c,e.B(),t.a)})}function Po(t){return ko(t,function(){return _i(t.b,t.c,t.a)})}function Ro(t,e){return ko(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),So(t||{})})})}function ko(t,e){return t.f=t.f.then(e,e),t.f}function Do(t){if(this.l=!1,Bn(this,"app",t),!Uo(this).options||!Uo(this).options.apiKey)throw new Gn("invalid-api-key");t=la.SDK_VERSION?Cn(la.SDK_VERSION):null,this.c=new Rr(Uo(this).options&&Uo(this).options.apiKey,zr(ku),t),this.N=[],this.m=[],this.I=[],this.Kb=la.INTERNAL.createSubscribe(f(this.ac,this)),this.R=void 0,this.Lb=la.INTERNAL.createSubscribe(f(this.bc,this)),jo(this,null),this.h=new Io(Uo(this).options.apiKey+":"+Uo(this).name),this.G=new function(t){this.a=t,this.b=gi()}(Uo(this).options.apiKey+":"+Uo(this).name),this.U=Ho(this,function(t){var e=Uo(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(bc,t.a).then(function(t){return t&&e&&(t.authDomain=e),So(t||{})})}(t.G,Uo(t).options.authDomain).then(function(e){return(t.w=e)&&(e.ca=t.G),To(t.G)});return Ho(t,e)}(t).then(function(){return Ro(t.h,e)}).then(function(e){return e?(e.ca=t.G,t.w&&(t.w.Z||null)==(e.Z||null)?e:e.reload().then(function(){return Ao(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:Po(t.h)})):null}).then(function(e){jo(t,e||null)});return Ho(t,n)}(this)),this.i=Ho(this,function(t){return t.U.then(function(){return t.aa()}).s(function(){}).then(function(){if(!t.l)return t.ha()}).s(function(){}).then(function(){if(!t.l){t.W=!0;var e=t.h;bi(e.b,No("local"),e.a,t.ha)}})}(this)),this.W=!1,this.ha=f(this.yc,this),this.Ga=f(this.ka,this),this.pa=f(this.Tb,this),this.qa=f(this.Zb,this),this.ra=f(this.$b,this),function(t){var e=Uo(t).options.authDomain,n=Uo(t).options.apiKey;e&&On()&&(t.Jb=t.U.then(function(){if(!t.l){if(t.a=xi(e,n,Uo(t).name),t.a.subscribe(t),Bo(t)&&oo(Bo(t)),t.w){oo(t.w);var r=t.w;r.na(t.$()),Yi(r,t),Zi(r=t.w,t.A),$i(r,t),t.w=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=f(this.delete,this),this.INTERNAL.logFramework=f(this.gc,this),this.o=0,Qt.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.$()},set:function(t){this.na(t)},enumerable:!1}),t.V=null}(this),this.A=[]}function xo(t){At.call(this,"languageCodeChanged"),this.h=t}function Mo(t){At.call(this,"frameworkChanged"),this.f=t}function Lo(t){return t.Jb||Y(new Gn("auth-domain-config-required"))}function Fo(t,e){var n={};return n.apiKey=Uo(t).options.apiKey,n.authDomain=Uo(t).options.authDomain,n.appName=Uo(t).name,t.U.then(function(){return function(t,e,n,r){var i=new Xi(t,e);return n&&(i.ca=n),r&&Zi(i,r),i.reload().then(function(){return i})}(n,e,t.G,t.Ka())}).then(function(e){return Bo(t)&&e.uid==Bo(t).uid?(po(Bo(t),e),t.ka(e)):(jo(t,e),oo(e),t.ka(e))}).then(function(){Wo(t)})}function jo(t,e){Bo(t)&&(function(t,e){S(t.N,function(t){return t==e})}(Bo(t),t.Ga),Vt(Bo(t),"tokenChanged",t.pa),Vt(Bo(t),"userDeleted",t.qa),Vt(Bo(t),"userInvalidated",t.ra),no(Bo(t))),e&&(e.N.push(t.Ga),Lt(e,"tokenChanged",t.pa),Lt(e,"userDeleted",t.qa),Lt(e,"userInvalidated",t.ra),0<t.o&&eo(e)),Bn(t,"currentUser",e),e&&(e.na(t.$()),Yi(e,t),Zi(e,t.A),$i(e,t))}function Vo(t,e){var n=null,r=null;return Ho(t,e.then(function(e){return n=Cr(e),r=Yn(e),Fo(t,e)}).then(function(){return Wn({user:Bo(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Uo(t){return t.app}function Bo(t){return t.currentUser}function qo(t){return Bo(t)&&Bo(t)._lat||null}function Wo(t){if(t.W){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](qo(t));if(t.R!==t.getUid()&&t.I.length)for(t.R=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](qo(t))}}function Ho(t,e){return t.N.push(e),$(e,function(){C(t.N,e)}),e}function Go(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Gn("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Ec.length)throw new Gn("internal-error","Argument validator received an unsupported number of arguments.");n=Ec[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Gn("argument-error",t+" failed: "+r)}function Ko(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:t}}function Qo(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:e}}function zo(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:c}}function Jo(t,e){return{name:t||"",K:"a function",optional:!!e,M:u}}function Xo(t,e){return{name:t||"",K:"null",optional:!!e,M:o}}function Yo(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.wa||t&&e.providerId!==t)}}}function Zo(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&t(e.type)&&u(e.verify))}}}function $o(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function ta(t,e,n,r,i,o){if(Bn(this,"type","recaptcha"),this.b=this.c=null,this.m=!1,this.l=e,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[Tc])throw new Gn("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Ic],!Et(e)||!this.h&&Et(e).hasChildNodes())throw new Gn("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Rr(t,o||null,i||null),this.o=r||function(){return null};var a=this;this.i=[];var s=this.a[Cc];this.a[Cc]=function(t){if(ea(a,t),"function"==typeof s)s(t);else if("string"==typeof s){var e=Tn(s,fa);"function"==typeof e&&e(t)}};var u=this.a[Sc];this.a[Sc]=function(){if(ea(a,null),"function"==typeof u)u();else if("string"==typeof u){var t=Tn(u,fa);"function"==typeof t&&t()}}}function ea(t,e){for(var n=0;n<t.i.length;n++)try{t.i[n](e)}catch(t){}}function na(t,e){return t.g.push(e),$(e,function(){C(t.g,e)}),e}function ra(t){if(t.m)throw new Gn("internal-error","RecaptchaVerifier instance has been destroyed.")}function ia(){return Nc||(Nc=new function(){this.b=fa.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}),Nc}function oa(t,e,n){try{this.f=n||la.app()}catch(t){throw new Gn("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new Gn("invalid-api-key");n=this.f.options.apiKey;var r=this,i=null;try{i=this.f.auth().Ka()}catch(t){}i=la.SDK_VERSION?Cn(la.SDK_VERSION,i):null,ta.call(this,n,t,e,function(){try{var t=r.f.auth().$()}catch(e){t=null}return t},i,zr(ku))}function aa(t,e){for(var n in e){var r=e[n].name;t[r]=ua(r,t[n],e[n].j)}}function sa(t,e,n,r){t[e]=ua(e,n,r)}function ua(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Go(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}var ca,la=n("XtH8").default,ha=ha||{},fa=this,pa="closure_uid_"+(1e9*Math.random()>>>0),da=0,ya=Date.now||function(){return+new Date};d(y,Error),y.prototype.name="CustomError";var ga=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},va=/&/g,ma=/</g,_a=/>/g,ba=/"/g,wa=/'/g,Ea=/\x00/g,Ca=/[\x00&<>"']/;d(b,y),b.prototype.name="AssertionError";var Sa,Ta=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(e,n,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,t(e))return t(n)&&1==n.length?e.indexOf(n,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===n)return r;return-1},Ia=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)a in o&&n.call(r,o[a],a,e)},Oa=Array.prototype.map?function(t,e,n){return Array.prototype.map.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=Array(i),a=t(e)?e.split(""):e,s=0;s<i;s++)s in a&&(o[s]=n.call(r,a[s],s,e));return o},Na=Array.prototype.some?function(t,e,n){return Array.prototype.some.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)if(a in o&&n.call(r,o[a],a,e))return!0;return!1};t:{var Aa=fa.navigator;if(Aa){var Pa=Aa.userAgent;if(Pa){Sa=Pa;break t}}Sa=""}var Ra="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");M[" "]=r;var ka,Da=O("Opera"),xa=O("Trident")||O("MSIE"),Ma=O("Edge"),La=Ma||xa,Fa=O("Gecko")&&!(m(Sa.toLowerCase(),"webkit")&&!O("Edge"))&&!(O("Trident")||O("MSIE"))&&!O("Edge"),ja=m(Sa.toLowerCase(),"webkit")&&!O("Edge");t:{var Va="",Ua=function(){var t=Sa;return Fa?/rv\:([^\);]+)(\)|;)/.exec(t):Ma?/Edge\/([\d\.]+)/.exec(t):xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ja?/WebKit\/(\S+)/.exec(t):Da?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Ua&&(Va=Ua?Ua[1]:""),xa){var Ba=L();if(null!=Ba&&Ba>parseFloat(Va)){ka=String(Ba);break t}}ka=Va}var qa,Wa={},Ha=fa.document;qa=Ha&&xa?L()||("CSS1Compat"==Ha.compatMode?parseInt(ka,10):5):void 0,U.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Ga=new U(function(){return new W},function(t){t.reset()},100);W.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},W.prototype.reset=function(){this.next=this.b=this.a=null};var Ka,Qa,za=!1,Ja=new function(){this.b=this.a=null},Xa=0,Ya=2,Za=3;z.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var $a=new U(function(){return new z},function(t){t.reset()},100);Q.prototype.then=function(t,e,n){return nt(this,u(t)?t:null,u(e)?e:null,n)},j(Q),(ca=Q.prototype).s=function(t,e){return nt(this,null,t,e)},ca.cancel=function(t){this.a==Xa&&G(function(){tt(this,new ct(t))},this)},ca.Ac=function(t){this.a=Xa,rt(this,Ya,t)},ca.Bc=function(t){this.a=Xa,rt(this,Za,t)},ca.Qb=function(){for(var t;t=at(this);)st(this,t,this.a,this.i);this.h=!1};var ts=H;d(ct,y),ct.prototype.name="cancel";var es=!xa||9<=Number(qa);lt.prototype.la=!0,lt.prototype.ja=function(){return this.a},lt.prototype.toString=function(){return"Const{"+this.a+"}"};var ns={};ft(""),pt.prototype.la=!0,pt.prototype.ja=function(){return this.a},pt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var rs=/%{(\w+)}/g,is=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,os={};gt.prototype.la=!0,gt.prototype.ja=function(){return this.a},gt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var as=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,ss={};_t("about:blank"),bt.prototype.la=!0,bt.prototype.ja=function(){return this.a},bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var us={};wt("<!DOCTYPE html>"),wt(""),wt("<br>");var cs={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},ls={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},hs=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,fs=0,ps={};Ot.prototype.oa=!1,Ot.prototype.ta=function(){if(this.Fa)for(;this.Fa.length;)this.Fa.shift()()};var ds=Object.freeze||function(t){return t},ys=!xa||9<=Number(qa),gs=xa&&!F("9"),vs=function(){if(!fa.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return fa.addEventListener("test",r,e),fa.removeEventListener("test",r,e),t}();At.prototype.c=function(){this.Bb=!1},d(Pt,At);var ms=ds({2:"touch",3:"pen",4:"mouse"});Pt.prototype.c=function(){Pt.ib.c.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,gs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Pt.prototype.g=function(){return this.a};var _s="closure_listenable_"+(1e6*Math.random()|0),bs=0,ws="closure_lm_"+(1e6*Math.random()|0),Es={},Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);d(Qt,Ot),Qt.prototype[_s]=!0,Qt.prototype.removeEventListener=function(t,e,n,r){Vt(this,t,e,n,r)},Qt.prototype.ta=function(){if(Qt.ib.ta.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Rt(n[r]);delete e.a[t],e.b--}}this.Ra=null},te.prototype.a=null,te.prototype.reset=function(t,e,n,r,i){r||ya(),this.b=e,delete this.a},ne.prototype.toString=function(){return this.name};var Ss=new ne("SEVERE",1e3),Ts=new ne("CONFIG",700),Is=new ne("FINE",500);ee.prototype.log=function(t,e,n){if(t.value>=re(this).value)for(u(e)&&(e=e()),t=new te(t,String(e),this.f),n&&(t.a=n),n="log:"+t.b,(t=fa.console)&&t.timeStamp&&t.timeStamp(n),(t=fa.msWriteProfilerMark)&&t(n),n=this;n;)n=n.a};var Os={},Ns=null;(ca=oe.prototype).P=function(){ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ca.S=function(){return ae(this),this.a.concat()},ca.clear=function(){this.b={},this.c=this.a.length=0},ca.get=function(t,e){return se(this.b,t)?this.b[t]:e},ca.set=function(t,e){se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ca.forEach=function(t,e){for(var n=this.S(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var As=null,Ps=null;ce.prototype.cancel=function(t){if(this.a)this.c instanceof ce&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new ge,he(this),le(this,!1,t))}},ce.prototype.m=function(t,e){this.i=!1,le(this,t,e)},ce.prototype.A=function(t){he(this),le(this,!0,t)},ce.prototype.then=function(t,e,n){var r,i,o=new Q(function(t,e){r=t,i=e});return fe(this,r,function(t){t instanceof ge?o.cancel():i(t)}),o.then(t,e,n)},j(ce),d(ye,y),ye.prototype.message="Deferred has already fired",ye.prototype.name="AlreadyCalledError",d(ge,y),ge.prototype.message="Deferred was canceled",ge.prototype.name="CanceledError",ve.prototype.c=function(){throw delete ks[this.a],this.b};var Rs,ks={};d(me,function(){this.b=-1});for(var Ds=64,xs=Ds-1,Ms=[],Ls=0;Ls<xs;Ls++)Ms[Ls]=0;var Fs=T(128,Ms);me.prototype.reset=function(){this.g=this.c=0,this.a=fa.Int32Array?new Int32Array(this.h):I(this.h)};var js=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];d(we,me);var Vs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Us=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Se.prototype.toString=function(){var t=[],e=this.c;e&&t.push(De(e,Bs,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(De(e,Bs,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(De(n,"/"==n.charAt(0)?Ws:qs,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",De(n,Gs)),t.join("")};var Bs=/[#\/\?@]/g,qs=/[\#\?:]/g,Ws=/[\#\?]/g,Hs=/[\#\?@]/g,Gs=/#/g;(ca=Me.prototype).clear=function(){this.a=this.c=null,this.b=0},ca.forEach=function(t,e){Le(this),this.a.forEach(function(n,r){Ia(n,function(n){t.call(e,n,r,this)},this)},this)},ca.S=function(){Le(this);for(var t=this.a.P(),e=this.a.S(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ca.P=function(e){Le(this);var n=[];if(t(e))Ue(this,e)&&(n=T(n,this.a.get(qe(this,e))));else{e=this.a.P();for(var r=0;r<e.length;r++)n=T(n,e[r])}return n},ca.set=function(t,e){return Le(this),this.c=null,t=qe(this,t),Ue(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ca.get=function(t,e){return 0<(t=t?this.P(t):[]).length?String(t[0]):e},ca.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.S(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.P(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},We.prototype.c=null;var Ks;d(He,We),He.prototype.a=function(){var t=Ge(this);return t?new ActiveXObject(t):new XMLHttpRequest},He.prototype.b=function(){var t={};return Ge(this)&&(t[0]=!0,t[1]=!0),t},Ks=new He,d(Ke,Qt);var Qs="",zs=Ke.prototype,Js=ie("goog.net.XhrIo");zs.J=Js;var Xs=/^https?$/i,Ys=["POST","PUT"];(ca=Ke.prototype).Ea=function(){void 0!==ha&&this.a&&(this.g="Timed out after "+this.f+"ms, aborting",ue(this.J,en(this,this.g)),zt(this,"timeout"),this.abort(8))},ca.abort=function(){this.a&&this.b&&(ue(this.J,en(this,"Aborting")),this.b=!1,this.c=!0,this.a.abort(),this.c=!1,zt(this,"complete"),zt(this,"abort"),Ye(this))},ca.ta=function(){this.a&&(this.b&&(this.b=!1,this.c=!0,this.a.abort(),this.c=!1),Ye(this,!0)),Ke.ib.ta.call(this)},ca.Ab=function(){this.oa||(this.G||this.h||this.c?Xe(this):this.jc())},ca.jc=function(){Xe(this)},ca.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.l){case Qs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.J;return t&&t.log(Ss,"Response type "+this.l+" is not supported on this browser",void 0),null}catch(t){return ue(this.J,"Can not get response: "+t.message),null}};var Zs=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,$s=0,tu=1;d(an,y),d(sn,We),sn.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new un;throw Error("Unsupported browser")},sn.prototype.b=function(){return{}},(ca=un.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},ca.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},ca.abort=function(){this.a.abort()},ca.setRequestHeader=function(){},ca.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},ca.Wb=function(){this.status=200,this.responseText=this.a.responseText,cn(this,4)},ca.xb=function(){this.status=500,this.responseText="",cn(this,4)},ca.Yb=function(){this.xb()},ca.Xb=function(){this.status=200,cn(this,1)},ca.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};var eu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nu="Firefox",ru="Chrome",iu={Gc:"FirebaseCore-web",Ic:"FirebaseUI-web"};jn.prototype.get=function(){return this.a?this.b:this.c};var ou,au={};try{var su={};Object.defineProperty(su,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(su,"abcd",{configurable:!0,enumerable:!0,value:2}),ou=2==su.abcd}catch(t){ou=!1}d(Gn,Error),Gn.prototype.B=function(){return{code:this.code,message:this.message}},Gn.prototype.toJSON=function(){return this.B()};var uu="auth/",cu={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},lu="android",hu="handleCodeInApp",fu="iOS",pu="url",du="installApp",yu="minimumVersion",gu="packageName",vu="bundleId",mu="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),_u=["client_id","response_type","scope","redirect_uri","state"],bu={Hc:{Ma:"locale",za:500,ya:600,Na:"facebook.com",$a:_u},Jc:{Ma:null,za:500,ya:620,Na:"github.com",$a:_u},Kc:{Ma:"hl",za:515,ya:680,Na:"google.com",$a:_u},Qc:{Ma:"lang",za:485,ya:705,Na:"twitter.com",$a:mu}},wu="idToken",Eu="providerId";d($n,Zn),d(tr,$n),d(er,$n),d(nr,$n),d(rr,$n),or.prototype.wa=function(t){return Br(t,ar(this))},or.prototype.b=function(t,e){var n=ar(this);return n.idToken=e,qr(t,n)},or.prototype.c=function(t,e){return ir(Wr(t,ar(this)),e)},or.prototype.B=function(){var t={providerId:this.providerId};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},sr.prototype.Ba=function(t){return this.rb=D(t),this},d(ur,sr),ur.prototype.sa=function(t){return E(this.a,t)||this.a.push(t),this},ur.prototype.wb=function(){return I(this.a)},ur.prototype.credential=function(t,e){if(!t&&!e)throw new Gn("argument-error","credential failed: must provide the ID token and/or the access token.");return new or(this.providerId,{idToken:t||null,accessToken:e||null})},d(cr,ur),Bn(cr,"PROVIDER_ID","facebook.com"),d(hr,ur),Bn(hr,"PROVIDER_ID","github.com"),d(pr,ur),Bn(pr,"PROVIDER_ID","google.com"),d(yr,sr),Bn(yr,"PROVIDER_ID","twitter.com"),vr.prototype.wa=function(t){return Gr(t,$u,{email:this.a,password:this.f})},vr.prototype.b=function(t,e){return Gr(t,Qu,{idToken:e,email:this.a,password:this.f})},vr.prototype.c=function(t,e){return ir(this.wa(t),e)},vr.prototype.B=function(){return{email:this.a,password:this.f}},qn(mr,{PROVIDER_ID:"password"}),_r.prototype.wa=function(t){return t.Qa(br(this))},_r.prototype.b=function(t,e){var n=br(this);return n.idToken=e,Gr(t,ec,n)},_r.prototype.c=function(t,e){var n=br(this);return n.operation="REAUTH",t=Gr(t,nc,n),ir(t,e)},_r.prototype.B=function(){var t={providerId:"phone"};return this.a.Pa&&(t.verificationId=this.a.Pa),this.a.Oa&&(t.verificationCode=this.a.Oa),this.a.Da&&(t.temporaryProof=this.a.Da),this.a.Y&&(t.phoneNumber=this.a.Y),t},wr.prototype.Qa=function(e,n){var r=this.a.c;return X(n.verify()).then(function(i){if(!t(i))throw new Gn("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return Gr(r,Gu,{phoneNumber:e,recaptchaToken:i}).then(function(t){return"function"==typeof n.reset&&n.reset(),t},function(t){throw"function"==typeof n.reset&&n.reset(),t});default:throw new Gn("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},qn(wr,{PROVIDER_ID:"phone"}),Tr.prototype.B=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.B()}},d(Or,Gn),d(Nr,Gn),Nr.prototype.B=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.B();return e&&x(t,e),t},Nr.prototype.toJSON=function(){return this.B()},d(Pr,We),Pr.prototype.a=function(){return new this.f},Pr.prototype.b=function(){return{}};var Cu,Su="idToken",Tu=new jn(3e4,6e4),Iu={"Content-Type":"application/x-www-form-urlencoded"},Ou=new jn(3e4,6e4),Nu={"Content-Type":"application/json"};Rr.prototype.m=function(e,n,r,i,o,a){var u="Node"==bn(),c=wn()?u?new Ke(this.o):new Ke:new Ke(this.f);if(a){c.f=Math.max(0,a);var l=setTimeout(function(){zt(c,"timeout")},a)}Jt(c,"complete",function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ue(t.J,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}n&&n(t)}),Xt(c,"ready",function(){l&&clearTimeout(l),Nt(this)}),Xt(c,"timeout",function(){l&&clearTimeout(l),Nt(this),n&&n(null)}),function(e,n,r,i,o){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.i+"; newUri="+n);r=r?r.toUpperCase():"GET",e.i=n,e.g="",e.I=r,e.A=!1,e.b=!0,e.a=e.w?e.w.a():Ks.a(),e.v=function(t){return t.c||(t.c=t.b())}(e.w?e.w:Ks),e.a.onreadystatechange=f(e.Ab,e);try{ue(e.J,en(e,"Opening Xhr")),e.G=!0,e.a.open(r,String(n),!0),e.G=!1}catch(t){return ue(e.J,en(e,"Error opening Xhr: "+t.message)),void ze(e,t)}n=i||"";var a=new oe(e.headers);o&&function(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(s(e)||t(e))Ia(e,n,void 0);else for(var r=Ce(e),i=Ee(e),o=i.length,a=0;a<o;a++)n.call(void 0,i[a],r&&r[a],e)}(o,function(t,e){a.set(e,t)}),o=function(e){t:{for(var n=Qe,r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e)){n=o;break t}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}(a.S()),i=fa.FormData&&n instanceof fa.FormData,!E(Ys,r)||o||i||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(t,e){this.a.setRequestHeader(e,t)},e),e.l&&(e.a.responseType=e.l),"withCredentials"in e.a&&e.a.withCredentials!==e.N&&(e.a.withCredentials=e.N);try{Ze(e),0<e.f&&(e.o=function(t){return xa&&F(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(e.a),ue(e.J,en(e,"Will abort after "+e.f+"ms if incomplete, xhr2 "+e.o)),e.o?(e.a.timeout=e.f,e.a.ontimeout=f(e.Ea,e)):e.m=Zt(e.Ea,e.f,e)),ue(e.J,en(e,"Sending request")),e.h=!0,e.a.send(n),e.h=!1}catch(t){ue(e.J,en(e,"Send error: "+t.message)),ze(e,t)}}(c,e,r,i,o)};var Au=ft("https://apis.google.com/js/client.js?onload=%{onload}"),Pu="__fcb"+Math.floor(1e6*Math.random()).toString();Rr.prototype.u=function(t,e,n,r,i){var o=this;Cu.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Rr.prototype.gb=function(){return Gr(this,zu,{})},Rr.prototype.kb=function(t,e){return Gr(this,Ku,{idToken:t,email:e})},Rr.prototype.lb=function(t,e){return Gr(this,Qu,{idToken:t,password:e})};var Ru={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};(ca=Rr.prototype).mb=function(t,e){var n={idToken:t},r=[];return N(Ru,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Gr(this,Ku,n)},ca.cb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},x(t,e),Gr(this,Bu,t)},ca.bb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},x(t,e),Gr(this,Uu,t)},ca.Qa=function(t){return Gr(this,tc,t)},ca.Ta=function(t,e){return Gr(this,Hu,{oobCode:t,newPassword:e})},ca.Ia=function(t){return Gr(this,xu,{oobCode:t})},ca.Sa=function(t){return Gr(this,Du,{oobCode:t})};var ku,Du={endpoint:"setAccountInfo",D:Hr,ga:"email"},xu={endpoint:"resetPassword",D:Hr,O:function(t){if(!t.email||!t.requestType)throw new Gn("internal-error")}},Mu={endpoint:"signupNewUser",D:function(t){if(Mr(t),!t.password)throw new Gn("weak-password")},O:Fr,T:!0},Lu={endpoint:"createAuthUri"},Fu={endpoint:"deleteAccount",ea:["idToken"]},ju={endpoint:"setAccountInfo",ea:["idToken","deleteProvider"],D:function(t){if(!a(t.deleteProvider))throw new Gn("internal-error")}},Vu={endpoint:"getAccountInfo"},Uu={endpoint:"getOobConfirmationCode",ea:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Gn("internal-error")},ga:"email"},Bu={endpoint:"getOobConfirmationCode",ea:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Gn("internal-error");Mr(t)},ga:"email"},qu={nb:!0,endpoint:"getProjectConfig",zb:"GET"},Wu={nb:!0,endpoint:"getRecaptchaParam",zb:"GET",O:function(t){if(!t.recaptchaSiteKey)throw new Gn("internal-error")}},Hu={endpoint:"resetPassword",D:Hr,ga:"email"},Gu={endpoint:"sendVerificationCode",ea:["phoneNumber","recaptchaToken"],ga:"sessionInfo"},Ku={endpoint:"setAccountInfo",ea:["idToken"],D:Lr,T:!0},Qu={endpoint:"setAccountInfo",ea:["idToken"],D:function(t){if(Lr(t),!t.password)throw new Gn("weak-password")},O:Fr,T:!0},zu={endpoint:"signupNewUser",O:Fr,T:!0},Ju={endpoint:"verifyAssertion",D:Vr,O:Ur,T:!0},Xu={endpoint:"verifyAssertion",D:Vr,O:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Gn("user-not-found");if(t.errorMessage)throw Kr(t.errorMessage);if(!t[Su])throw new Gn("internal-error")},T:!0},Yu={endpoint:"verifyAssertion",D:function(t){if(Vr(t),!t.idToken)throw new Gn("internal-error")},O:Ur,T:!0},Zu={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Gn("invalid-custom-token")},O:Fr,T:!0},$u={endpoint:"verifyPassword",D:function(t){if(Mr(t),!t.password)throw new Gn("wrong-password")},O:Fr,T:!0},tc={endpoint:"verifyPhoneNumber",D:jr,O:Fr},ec={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Gn("internal-error");jr(t)},O:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ar(t);Fr(t)}},nc={Pb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:jr,O:Fr},rc={Mc:{Va:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://securetoken.googleapis.com/v1/token",id:"p"},Oc:{Va:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Pc:{Va:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ab:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};ku=zr("__EID__")?"__EID__":void 0;var ic=ft("https://apis.google.com/js/api.js?onload=%{onload}"),oc=new jn(3e4,6e4),ac=new jn(5e3,15e3),sc=null;Jr.prototype.toString=function(){return this.f?Ne(this.a,"v",this.f):Ve(this.a.a,"v"),this.b?Ne(this.a,"eid",this.b):Ve(this.a.a,"eid"),this.c.length?Ne(this.a,"fw",this.c.join(",")):Ve(this.a.a,"fw"),this.a.toString()},Xr.prototype.toString=function(){var t=Re(this.m,"/__/auth/handler");if(Ne(t,"apiKey",this.u),Ne(t,"appName",this.c),Ne(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=la.app(this.c).auth().$()}catch(t){n=null}e.Ua=n,Ne(t,"providerId",this.a.providerId),n=kn((e=this.a).rb);for(var r in n)n[r]=n[r].toString();r=e.rc,n=D(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.Wa&&e.Ua&&!n[e.Wa]&&(n[e.Wa]=e.Ua),R(n)||Ne(t,"customParameters",Rn(n))}if("function"==typeof this.a.wb&&(e=this.a.wb()).length&&Ne(t,"scopes",e.join(",")),this.h?Ne(t,"redirectUrl",this.h):Ve(t.a,"redirectUrl"),this.g?Ne(t,"eventId",this.g):Ve(t.a,"eventId"),this.i?Ne(t,"v",this.i):Ve(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ae(t,a)&&Ne(t,a,this.b[a]);return this.f?Ne(t,"eid",this.f):Ve(t.a,"eid"),(a=Yr(this.c)).length&&Ne(t,"fw",a.join(",")),t.toString()},(ca=Zr.prototype).Ca=function(t,e,n){var r=new Gn("popup-closed-by-user"),i=new Gn("web-storage-unsupported"),o=this,a=!1;return this.ba().then(function(){(function(t){var e={type:"webStorageSupport"};return ti(t).then(function(){return function(t,e){return t.Ya.then(function(){return new Q(function(n){t.a.send(e.type,e,n,Tn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&yn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new Q(function(e){function n(){$t(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}(t)}).then(function(){if(!a)return $t(n).then(function(){e(r)})})},ca.Db=function(){var t=Sn();return!Pn(t)&&!Mn(t)},ca.yb=function(){return!1},ca.vb=function(t,e,n,r,i,o,a){if(!t)return Y(new Gn("popup-blocked"));if(a&&!Pn())return this.ba().s(function(e){yn(t),i(e)}),r(),X();this.a||(this.a=$r(ei(this)));var s=this;return this.a.then(function(){var e=s.ba().s(function(e){throw yn(t),i(e),e});return r(),e}).then(function(){Sr(n),a||fn(ni(s.u,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},ca.Aa=function(t,e,n){this.a||(this.a=$r(ei(this)));var r=this;return this.a.then(function(){Sr(e),fn(ni(r.u,r.f,r.b,t,e,hn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},ca.ba=function(){var t=this;return ti(this).then(function(){return t.i.Ya}).s(function(){throw t.a=null,new Gn("network-request-failed")})},ca.Hb=function(){return!0},ca.ua=function(t){this.g.push(t)},ca.Ja=function(t){S(this.g,function(e){return e==t})},(ca=ri.prototype).get=function(t){return X(this.a.getItem(t)).then(function(t){return t&&Dn(t)})},ca.set=function(t,e){return X(this.a.setItem(t,Rn(e)))},ca.X=function(t){return X(this.a.removeItem(t))},ca.ia=function(){},ca.da=function(){},(ca=ii.prototype).get=function(t){return X(this.a[t])},ca.set=function(t,e){return this.a[t]=e,X()},ca.X=function(t){return delete this.a[t],X()},ca.ia=function(){},ca.da=function(){};var uc;(ca=oi.prototype).set=function(t,e){var n,r=!1,i=this;return $(ai(this).then(function(e){return n=e,e=si(i,ui(i,n,!0)),ci(e.get(t))}).then(function(o){var a=si(i,ui(i,n,!0));return o?(o.value=e,ci(a.put(o))):(i.a++,r=!0,o={},o[i.g]=t,o[i.l]=e,ci(a.add(o)))}).then(function(){i.f[t]=e}),function(){r&&i.a--})},ca.get=function(t){var e=this;return ai(this).then(function(n){return ci(si(e,ui(e,n,!1)).get(t))}).then(function(t){return t&&t.value})},ca.X=function(t){var e=!1,n=this;return $(ai(this).then(function(r){return e=!0,n.a++,ci(si(n,ui(n,r,!0)).delete(t))}).then(function(){delete n.f[t]}),function(){e&&n.a--})},ca.zc=function(){var t=this;return ai(this).then(function(e){var n=si(t,ui(t,e,!1));return n.getAll?ci(n.getAll()):new Q(function(t,e){var r=[],i=n.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){e(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.a){for(r=0;r<e.length;r++)n[e[r][t.g]]=e[r][t.l];r=pn(t.f,n),t.f=n}return r})},ca.ia=function(t){0==this.c.length&&function(t){function e(){return t.b=$t(800).then(f(t.zc,t)).then(function(e){0<e.length&&Ia(t.c,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()}),t.b}t.b&&t.b.cancel("STOP_EVENT"),e()}(this),this.c.push(t)},ca.da=function(t){S(this.c,function(e){return e==t}),0==this.c.length&&this.b&&this.b.cancel("STOP_EVENT")},(ca=li.prototype).get=function(t){var e=this;return X().then(function(){return Dn(e.a.getItem(t))})},ca.set=function(t,e){var n=this;return X().then(function(){var r=Rn(e);null===r?n.X(t):n.a.setItem(t,r)})},ca.X=function(t){var e=this;return X().then(function(){e.a.removeItem(t)})},ca.ia=function(t){fa.window&&Lt(fa.window,"storage",t)},ca.da=function(t){fa.window&&Vt(fa.window,"storage",t)},(ca=fi.prototype).get=function(){return X(null)},ca.set=function(){return X()},ca.X=function(){return X()},ca.ia=function(){},ca.da=function(){},(ca=pi.prototype).get=function(t){var e=this;return X().then(function(){return Dn(e.a.getItem(t))})},ca.set=function(t,e){var n=this;return X().then(function(){var r=Rn(e);null===r?n.X(t):n.a.setItem(t,r)})},ca.X=function(t){var e=this;return X().then(function(){e.a.removeItem(t)})},ca.ia=function(){},ca.da=function(){};var cc,lc,hc={C:li,jb:pi},fc={C:li,jb:pi},pc={C:ri,jb:fi},dc={Lc:"local",NONE:"none",Nc:"session"};yi.prototype.get=function(t,e){return vi(this,t.C).get(mi(this,t,e))},yi.prototype.set=function(t,e,n){var r=mi(this,t,n),i=this,o=vi(this,t.C);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.C&&(i.b[r]=e)})},yi.prototype.m=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=fa.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.c(n))}else if(0==e.indexOf(this.i+this.g)&&this.a[e]){if(void 0!==t.a.a?vi(this,"local").da(this.h):wi(this),this.A)if(n=fa.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?fa.localStorage.setItem(e,r):fa.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===fa.localStorage.getItem(e)||(o.b[e]=fa.localStorage.getItem(e),o.c(e))},xa&&qa&&10==qa&&fa.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else Ia(t,f(this.c,this))},yi.prototype.c=function(t){this.a[t]&&Ia(this.a[t],function(t){t()})};var yc={name:"authEvent",C:"local"};(ca=Ei.prototype).ba=function(){return this.xa?this.xa:this.xa=(mn(void 0)?vn().then(function(){return new Q(function(t,e){var n=fa.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Y(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Tn("universalLinks.subscribe",fa))throw Ci("cordova-universal-links-plugin is not installed");if(void 0===Tn("BuildInfo.packageName",fa))throw Ci("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tn("cordova.plugins.browsertab.openUrl",fa))throw Ci("cordova-plugin-browsertab is not installed");if("function"!=typeof Tn("cordova.InAppBrowser.open",fa))throw Ci("cordova-plugin-inappbrowser is not installed")},function(){throw new Gn("cordova-not-ready")})},ca.Ca=function(t,e){return e(new Gn("operation-not-supported-in-this-environment")),X()},ca.vb=function(){return Y(new Gn("operation-not-supported-in-this-environment"))},ca.Hb=function(){return!1},ca.Db=function(){return!0},ca.yb=function(){return!0},ca.Aa=function(t,e,n){if(this.c)return Y(new Gn("redirect-operation-pending"));var r=this,i=fa.document,o=null,a=null,s=null,u=null;return this.c=$(X().then(function(){return Sr(e),Ti(r)}).then(function(){return function(t,e,n,r){var i=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),o=new Tr(e,r,null,i,new Gn("no-auth-event")),a=Tn("BuildInfo.packageName",fa);if("string"!=typeof a)throw new Gn("invalid-cordova-configuration");var s=Tn("BuildInfo.displayName",fa),u={};if(Sn().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!Sn().toLowerCase().match(/android/))return Y(new Gn("operation-not-supported-in-this-environment"));u.apn=a}s&&(u.appDisplayName=s),i=function(t){var e=new we;be(e,t),t=[];var n=8*e.g;be(e,Fs,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(_e(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return Oa(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(i),u.sessionId=i;var c=ni(t.u,t.i,t.l,e,n,null,r,t.m,u,t.o);return t.ba().then(function(){var e=t.h;return t.A.a.set(yc,o.B(),e)}).then(function(){var e=Tn("cordova.plugins.browsertab.isAvailable",fa);if("function"!=typeof e)throw new Gn("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Tn("cordova.plugins.browsertab.openUrl",fa)))throw new Gn("invalid-cordova-configuration");n(c)}else{if("function"!=typeof(n=Tn("cordova.InAppBrowser.open",fa)))throw new Gn("invalid-cordova-configuration");e=!(!(e=Sn()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(c,e?"_blank":"_system","location=yes")}})})}(r,t,e,n)}).then(function(){return new Q(function(t,e){a=function(){var e=Tn("cordova.plugins.browsertab.close",fa);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.ua(a),u=function(){Vn()&&s()},i.addEventListener("resume",s=function(){o||(o=$t(r.w).then(function(){e(new Gn("redirect-cancelled-by-user"))}))},!1),Sn().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)}).s(function(t){return Ii(r).then(function(){throw t})})}),function(){s&&i.removeEventListener("resume",s,!1),u&&i.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),a&&r.Ja(a),r.c=null})},ca.ua=function(t){this.b.push(t),Ti(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Tr("unknown",null,null,null,new Gn("no-auth-event")),t(e))})},ca.Ja=function(t){S(this.b,function(e){return e==t})};var gc={name:"pendingRedirect",C:"session"};Ni.prototype.reset=function(){this.f=!1,this.a.Ja(this.i),this.a=Ai(this.v,this.l,this.u)},Ni.prototype.subscribe=function(t){if(E(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(gc,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Oi(e.g).then(function(){Pi(e).s(function(t){var n=new Tr("unknown",null,null,null,new Gn("operation-not-supported-in-this-environment"));Di(t)&&e.m(n)})}):Ri(e)}).s(function(){Ri(e)})}},Ni.prototype.unsubscribe=function(t){S(this.h,function(e){return e==t})},Ni.prototype.m=function(t){if(!t)throw new Gn("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ob(t.b,t.c)){(e=this.b[t.b])&&e.h(t,r),e=!0;break}}return Li(this.c),e};var vc=new jn(2e3,1e4),mc=new jn(3e4,6e4);Ni.prototype.aa=function(){return this.c.aa()},Ni.prototype.Aa=function(t,e,n){var r,i=this;return function(t){return t.b.set(gc,"pending",t.a)}(this.g).then(function(){return i.a.Aa(t,e,n).s(function(t){if(Di(t))throw new Gn("operation-not-supported-in-this-environment");return r=t,Oi(i.g).then(function(){throw r})}).then(function(){return i.a.Hb()?new Q(function(){}):Oi(i.g).then(function(){return i.aa()}).then(function(){}).s(function(){})})})},Ni.prototype.Ca=function(t,e,n,r){return this.a.Ca(n,function(n){t.fa(e,null,n,r)},vc.get())};var _c={};Mi.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mi.prototype.h=function(t,e){if(!t)return Y(new Gn("invalid-auth-event"));this.reset(),this.g=!0;var n=t.b,r=t.c;return"unknown"!=n||t.a&&"auth/web-storage-unsupported"==t.a.code||t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code?t.a?(ji(this,!0,null,t.a),t=X()):t=e.va(n,r)?function(t,e,n){n=n.va(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);return n(r,i).then(function(e){ji(t,o,e,null)}).s(function(e){ji(t,o,null,e)})}(this,t,e):Y(new Gn("invalid-auth-event")):(ji(this,!1,null,null),t=X()),t},Mi.prototype.aa=function(){var t=this;return new Q(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Gn("timeout");t.a&&t.a.cancel(),t.a=$t(mc.get()).then(function(){t.b||ji(t,!0,null,e)})}(t))})},Vi.prototype.h=function(t,e){if(!t)return Y(new Gn("invalid-auth-event"));var n=t.b,r=t.c;return t.a?(e.fa(t.b,null,t.a,t.c),t=X()):t=e.va(n,r)?function(t,e){var n=t.c,r=t.b;return e.va(r,n)(t.f,t.g).then(function(t){e.fa(r,t,null,n)}).s(function(t){e.fa(r,null,t,n)})}(t,e):Y(new Gn("invalid-auth-event")),t},Ui.prototype.confirm=function(t){return t=Er(this.verificationId,t),this.a(t)},qi.prototype.start=function(){this.a=this.c,Wi(this,!0)},Gi.prototype.B=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Gi.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Y(new Gn("user-token-expired")):t||!this.b||ya()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Q(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?xr(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Qr(t)):t.access_token&&t.refresh_token?n(t):r(new Gn("internal-error")):r(new Gn("network-request-failed"))},"POST",Fe(e).toString(),t.c,t.l.get()):r(new Gn("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=Qi(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):X(null):X({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},zi.prototype.B=function(){return{lastLoginAt:this.b,createdAt:this.a}},d(Ji,At),d(Xi,Qt),Xi.prototype.na=function(t){this.ha=t,kr(this.c,t)},Xi.prototype.$=function(){return this.ha},Xi.prototype.Ka=function(){return I(this.R)},Xi.prototype.Ga=function(){this.l.b&&(Hi(this.l),this.l.start())},Bn(Xi.prototype,"providerId","firebase"),(ca=Xi.prototype).reload=function(){var t=this;return Co(this,uo(this).then(function(){return yo(t).then(function(){return io(t)}).then(so)}))},ca.F=function(t){var e=this;return Co(this,uo(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Gn("internal-error");return t.accessToken!=e.pa&&(ro(e,t.accessToken),zt(e,new Ji("tokenChanged"))),fo(e,"refreshToken",t.refreshToken),t.accessToken}))},ca.getToken=function(t){return au["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(au["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(t)},ca.kc=function(t){if(!(t=t.users)||!t.length)throw new Gn("internal-error");ao(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?Oa(t,function(t){return new function(e,n,r,i,o,a){qn(this,{uid:t.rawId,displayName:t.displayName||null,photoURL:t.photoUrl||null,email:t.email||null,phoneNumber:t.phoneNumber||null,providerId:t.providerId})}(0,0,0,0,0,0)}):[]}(t),n=0;n<e.length;n++)lo(this,e[n]);fo(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},ca.Za=function(t){var e=this,n=null;return Co(this,t.c(this.c,this.uid).then(function(t){return go(e,t),n=mo(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},ca.mc=function(t){return this.Za(t).then(function(){})},ca.Xa=function(t){var e=this,n=null;return Co(this,vo(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.c,n)}).then(function(t){return n=mo(e,t,"link"),_o(e,t)}).then(function(){return n}))},ca.cc=function(t){return this.Xa(t).then(function(t){return t.user})},ca.dc=function(t,e){var n=this;return Co(this,vo(this,"phone").then(function(){return Bi(to(n),t,e,f(n.Xa,n))}))},ca.nc=function(t,e){var n=this;return Co(this,X().then(function(){return Bi(to(n),t,e,f(n.Za,n))}),!0)},ca.kb=function(t){var e=this;return Co(this,this.F().then(function(n){return e.c.kb(n,t)}).then(function(t){return go(e,t),e.reload()}))},ca.Dc=function(t){var e=this;return Co(this,this.F().then(function(n){return t.b(e.c,n)}).then(function(t){return go(e,t),e.reload()}))},ca.lb=function(t){var e=this;return Co(this,this.F().then(function(n){return e.c.lb(n,t)}).then(function(t){return go(e,t),e.reload()}))},ca.mb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return uo(this);var e=this;return Co(this,this.F().then(function(n){return e.c.mb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return go(e,t),fo(e,"displayName",t.displayName||null),fo(e,"photoURL",t.photoUrl||null),Ia(e.providerData,function(t){"password"===t.providerId&&(Bn(t,"displayName",e.displayName),Bn(t,"photoURL",e.photoURL))}),io(e)}).then(so))},ca.Cc=function(t){var e=this;return Co(this,yo(this).then(function(n){return E(co(e),t)?Gr(e.c,ju,{idToken:n,deleteProvider:[t]}).then(function(t){var n={};return Ia(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),Ia(co(e),function(t){n[t]||ho(e,t)}),n[wr.PROVIDER_ID]||Bn(e,"phoneNumber",null),io(e)}):io(e).then(function(){throw new Gn("no-such-provider")})}))},ca.delete=function(){var t=this;return Co(this,this.F().then(function(e){return Gr(t.c,Fu,{idToken:e})}).then(function(){zt(t,new Ji("userDeleted"))})).then(function(){for(var e=0;e<t.A.length;e++)t.A[e].cancel("app-deleted");Yi(t,null),$i(t,null),t.A=[],t.m=!0,no(t),Bn(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},ca.ob=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.Z||null)==e||"reauthViaRedirect"==t&&(this.Z||null)==e)},ca.fa=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},ca.va=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?f(this.tb,this):"reauthViaPopup"==t&&e==(this.g||null)?f(this.ub,this):"linkViaRedirect"==t&&(this.Z||null)==e?f(this.tb,this):"reauthViaRedirect"==t&&(this.Z||null)==e?f(this.ub,this):null},ca.ec=function(t){var e=this;return bo(this,"linkViaPopup",t,function(){return vo(e,t.providerId).then(function(){return io(e)})},!1)},ca.oc=function(t){return bo(this,"reauthViaPopup",t,function(){return X()},!0)},ca.fc=function(t){var e=this;return wo(this,"linkViaRedirect",t,function(){return vo(e,t.providerId)},!1)},ca.pc=function(t){return wo(this,"reauthViaRedirect",t,function(){return X()},!0)},ca.tb=function(t,e){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return Co(this,this.F().then(function(r){return qr(n.c,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=mo(n,t,"link"),_o(n,t)}).then(function(){return r}))},ca.ub=function(t,e){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return Co(this,X().then(function(){return ir(Wr(n.c,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=mo(n,t,"reauthenticate"),go(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},ca.bb=function(t){var e=this,n=null;return Co(this,this.F().then(function(e){return n=e,void 0===t||R(t)?{}:zn(new Qn(t))}).then(function(t){return e.c.bb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},ca.toJSON=function(){return this.B()},ca.B=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.o,authDomain:this.w,stsTokenManager:this.h.B(),redirectEventId:this.Z||null};return this.metadata&&x(t,this.metadata.B()),Ia(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var bc={name:"redirectUser",C:"session"};Io.prototype.g=function(){var t=this,e=No("local");ko(this,function(){return X().then(function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null}).then(function(n){if(n)return Oo(t,"local").then(function(){t.c=e})})})};var wc={name:"persistence",C:"session"};Io.prototype.eb=function(t){var e=null,n=this;return function(t){var e=new Gn("invalid-persistence-type"),n=new Gn("unsupported-persistence-type");t:{for(r in dc)if(dc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(bn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!In()&&"none"!==t)throw n}}(t),ko(this,function(){return t!=n.c.C?n.b.get(n.c,n.a).then(function(r){return e=r,Oo(n,t)}).then(function(){if(n.c=No(t),e)return n.b.set(n.c,e,n.a)}):X()})},d(Do,Qt),d(xo,At),d(Mo,At),(ca=Do.prototype).eb=function(t){return t=this.h.eb(t),Ho(this,t)},ca.na=function(t){this.V===t||this.l||(this.V=t,kr(this.c,this.V),zt(this,new xo(this.$())))},ca.$=function(){return this.V},ca.Ec=function(){var t=fa.navigator;this.na(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},ca.gc=function(t){this.A.push(t),Dr(this.c,la.SDK_VERSION?Cn(la.SDK_VERSION,this.A):null),zt(this,new Mo(this.A))},ca.Ka=function(){return I(this.A)},ca.toJSON=function(){return{apiKey:Uo(this).options.apiKey,authDomain:Uo(this).options.authDomain,appName:Uo(this).name,currentUser:Bo(this)&&Bo(this).B()}},ca.ob=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},ca.fa=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},ca.va=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?f(this.Sb,this):null},ca.Sb=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.b&&(this.b.cancel(),this.b=null);var r=null,i=null,o=Br(n.c,t).then(function(t){return r=Cr(t),i=Yn(t),t});return t=n.U.then(function(){return o}).then(function(t){return Fo(n,t)}).then(function(){return Wn({user:Bo(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),Ho(this,t)},ca.wc=function(t){if(!On())return Y(new Gn("operation-not-supported-in-this-environment"));var e=this,n=Xn(t.providerId),r=xn(),i=null;(!Pn()||_n())&&Uo(this).options.authDomain&&t.isOAuthProvider&&(i=ni(Uo(this).options.authDomain,Uo(this).options.apiKey,Uo(this).name,"signInViaPopup",t,null,r,la.SDK_VERSION||null));var o=gn(i,n&&n.za,n&&n.ya);return n=Lo(this).then(function(e){return ki(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new Q(function(t,n){e.fa("signInViaPopup",null,new Gn("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.b=e.a.Ca(e,"signInViaPopup",o,r)})}).then(function(t){return o&&yn(o),t?Wn(t):null}).s(function(t){throw o&&yn(o),t}),Ho(this,n)},ca.xc=function(t){if(!On())return Y(new Gn("operation-not-supported-in-this-environment"));var e=this;return Ho(this,Lo(this).then(function(){return function(t){return ko(t,function(){return t.b.set(wc,t.c.C,t.a)})}(e.h)}).then(function(){return e.a.Aa("signInViaRedirect",t)}))},ca.aa=function(){if(!On())return Y(new Gn("operation-not-supported-in-this-environment"));var t=this;return Ho(this,Lo(this).then(function(){return t.a.aa()}).then(function(t){return t?Wn(t):null}))},ca.hb=function(){var t=this;return Ho(this,this.i.then(function(){return Bo(t)?(jo(t,null),Po(t.h).then(function(){Wo(t)})):X()}))},ca.yc=function(){var t=this;return Ro(this.h,Uo(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Bo(t)&&e){n=Bo(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return po(Bo(t),e),Bo(t).F();(Bo(t)||e)&&(jo(t,e),e&&(oo(e),e.ca=t.G),t.a&&t.a.subscribe(t),Wo(t))}})},ca.ka=function(t){return Ao(this.h,t)},ca.Tb=function(){Wo(this),this.ka(Bo(this))},ca.Zb=function(){this.hb()},ca.$b=function(){this.hb()},ca.ac=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Bo(e))})},ca.bc=function(t){var e=this;!function(t,e){t.I.push(e),Ho(t,t.i.then(function(){!t.l&&E(t.I,e)&&t.R!==t.getUid()&&(t.R=t.getUid(),e(qo(t)))}))}(this,function(){t.next(Bo(e))})},ca.ic=function(t,e,n){var r=this;return this.W&&la.Promise.resolve().then(function(){u(t)?t(Bo(r)):u(t.next)&&t.next(Bo(r))}),this.Kb(t,e,n)},ca.hc=function(t,e,n){var r=this;return this.W&&la.Promise.resolve().then(function(){r.R=r.getUid(),u(t)?t(Bo(r)):u(t.next)&&t.next(Bo(r))}),this.Lb(t,e,n)},ca.Vb=function(t){var e=this;return Ho(this,this.i.then(function(){return Bo(e)?Bo(e).F(t).then(function(t){return{accessToken:t}}):null}))},ca.tc=function(t){return this.Eb(t).then(function(t){return t.user})},ca.Eb=function(t){var e=this;return this.i.then(function(){return Vo(e,Gr(e.c,Zu,{token:t}))}).then(function(t){var n=t.user;return fo(n,"isAnonymous",!1),e.ka(n),t})},ca.Fb=function(t,e){var n=this;return this.i.then(function(){return Vo(n,Gr(n.c,$u,{email:t,password:e}))})},ca.uc=function(t,e){return this.Fb(t,e).then(function(t){return t.user})},ca.Ob=function(t,e){return this.qb(t,e).then(function(t){return t.user})},ca.qb=function(t,e){var n=this;return this.i.then(function(){return Vo(n,Gr(n.c,Mu,{email:t,password:e}))})},ca.sc=function(t){return this.fb(t).then(function(t){return t.user})},ca.fb=function(t){var e=this;return this.i.then(function(){return Vo(e,t.wa(e.c))})},ca.gb=function(){return this.Gb().then(function(t){return t.user})},ca.Gb=function(){var t=this;return this.i.then(function(){var e=Bo(t);return e&&e.isAnonymous?Wn({user:e,credential:null,additionalUserInfo:Wn({providerId:null,isNewUser:!1}),operationType:"signIn"}):Vo(t,t.c.gb()).then(function(e){var n=e.user;return fo(n,"isAnonymous",!0),t.ka(n),e})})},ca.getUid=function(){return Bo(this)&&Bo(this).uid||null},ca.Mb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&Bo(this)&&eo(Bo(this))},ca.qc=function(t){var e=this;Ia(this.m,function(n){n==t&&e.o--}),0>this.o&&(this.o=0),0==this.o&&Bo(this)&&no(Bo(this)),this.removeAuthTokenListener(t)},ca.addAuthTokenListener=function(t){var e=this;this.m.push(t),Ho(this,this.i.then(function(){e.l||E(e.m,t)&&t(qo(e))}))},ca.removeAuthTokenListener=function(t){S(this.m,function(e){return e==t})},ca.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,function(t,e,n){e=mi(t,No("local"),e),t.a[e]&&(S(t.a[e],function(t){return t==n}),0==t.a[e].length&&delete t.a[e]),R(t.a)&&function(t){vi(t,"local").da(t.h),wi(t)}(t)}(t.b,t.a,this.ha)),this.a&&this.a.unsubscribe(this),la.Promise.resolve()},ca.Rb=function(t){return Ho(this,function(e,n){return Gr(e,Lu,{identifier:t,continueUri:Nn()?hn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.c))},ca.Fc=function(t){return this.Ia(t).then(function(t){return t.data.email})},ca.Ta=function(t,e){return Ho(this,this.c.Ta(t,e).then(function(){}))},ca.Ia=function(t){return Ho(this,this.c.Ia(t).then(function(t){return new function(t){var e={},n=t.email,r=t.newEmail;if(t=t.requestType,!n||!t)throw Error("Invalid provider user info!");e.fromEmail=r||null,e.email=n,Bn(this,"operation",t),Bn(this,"data",Hn(e))}(t)}))},ca.Sa=function(t){return Ho(this,this.c.Sa(t).then(function(){}))},ca.cb=function(t,e){var n=this;return Ho(this,X().then(function(){return void 0===e||R(e)?{}:zn(new Qn(e))}).then(function(e){return n.c.cb(t,e)}).then(function(){}))},ca.vc=function(t,e){return Ho(this,Bi(this,t,e,f(this.fb,this)))};var Ec="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),Cc="callback",Sc="expired-callback",Tc="sitekey",Ic="size";(ca=ta.prototype).xa=function(){var t=this;return this.c?this.c:this.c=na(this,X().then(function(){if(Nn())return vn();throw new Gn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return function(t,e){return new Q(function(n,r){Fn()?!fa.grecaptcha||e!==t.c&&!t.b?(fa[t.a]=function(){if(fa.grecaptcha){t.c=e;var i=fa.grecaptcha.render;fa.grecaptcha.render=function(e,n){return e=i(e,n),t.b++,e},n()}else r(new Gn("internal-error"));delete fa[t.a]},X(nn(yt(Oc,{onload:t.a,hl:e||""}))).s(function(){r(new Gn("internal-error","Unable to load external reCAPTCHA dependencies!"))})):n():r(new Gn("network-request-failed"))})}(ia(),t.o())}).then(function(){return Gr(t.u,Wu,{})}).then(function(e){t.a[Tc]=e.recaptchaSiteKey}).s(function(e){throw t.c=null,e}))},ca.render=function(){ra(this);var e=this;return na(this,this.xa().then(function(){if(null===e.b){var n=e.l;if(!e.h){var r=Et(n);n=function(e,n,r){var i=arguments,o=document,l=String(i[0]),h=i[1];if(!es&&h&&(h.name||h.type)){if(l=["<",l],h.name&&l.push(' name="',v(h.name),'"'),h.type){l.push(' type="',v(h.type),'"');var f={};x(f,h),delete f.type,h=f}l.push(">"),l=l.join("")}return l=o.createElement(l),h&&(t(h)?l.className=h:a(h)?l.className=h.join(" "):Ct(l,h)),2<i.length&&function(e,n,r){function i(r){r&&n.appendChild(t(r)?e.createTextNode(r):r)}for(var o=2;o<r.length;o++){var a=r[o];!s(a)||c(a)&&0<a.nodeType?i(a):Ia(function(t){if(t&&"number"==typeof t.length){if(c(t))return"function"==typeof t.item||"string"==typeof t.item;if(u(t))return"function"==typeof t.item}return!1}(a)?I(a):a,i)}}(o,l,i),l}("DIV"),r.appendChild(n)}e.b=grecaptcha.render(n,e.a)}return e.b}))},ca.verify=function(){ra(this);var t=this;return na(this,this.render().then(function(e){return new Q(function(n){var r=grecaptcha.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(e,n){S(t.i,function(t){return t==n})}(0,i),n(e))};t.i.push(i),t.h&&grecaptcha.execute(t.b)}})}))},ca.reset=function(){ra(this),null!==this.b&&grecaptcha.reset(this.b)},ca.clear=function(){ra(this),this.m=!0,ia().b--;for(var t=0;t<this.g.length;t++)this.g[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=Et(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}};var Oc=ft("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nc=null;d(oa,ta),aa(Do.prototype,{Sa:{name:"applyActionCode",j:[Ko("code")]},Ia:{name:"checkActionCode",j:[Ko("code")]},Ta:{name:"confirmPasswordReset",j:[Ko("code"),Ko("newPassword")]},Ob:{name:"createUserWithEmailAndPassword",j:[Ko("email"),Ko("password")]},qb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Ko("email"),Ko("password")]},Rb:{name:"fetchProvidersForEmail",j:[Ko("email")]},aa:{name:"getRedirectResult",j:[]},hc:{name:"onAuthStateChanged",j:[$o(zo(),Jo(),"nextOrObserver"),Jo("opt_error",!0),Jo("opt_completed",!0)]},ic:{name:"onIdTokenChanged",j:[$o(zo(),Jo(),"nextOrObserver"),Jo("opt_error",!0),Jo("opt_completed",!0)]},cb:{name:"sendPasswordResetEmail",j:[Ko("email"),$o(zo("opt_actionCodeSettings",!0),Xo(null,!0),"opt_actionCodeSettings",!0)]},eb:{name:"setPersistence",j:[Ko("persistence")]},fb:{name:"signInAndRetrieveDataWithCredential",j:[Yo()]},gb:{name:"signInAnonymously",j:[]},Gb:{name:"signInAnonymouslyAndRetrieveData",j:[]},sc:{name:"signInWithCredential",j:[Yo()]},tc:{name:"signInWithCustomToken",j:[Ko("token")]},Eb:{name:"signInAndRetrieveDataWithCustomToken",j:[Ko("token")]},uc:{name:"signInWithEmailAndPassword",j:[Ko("email"),Ko("password")]},Fb:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Ko("email"),Ko("password")]},vc:{name:"signInWithPhoneNumber",j:[Ko("phoneNumber"),Zo()]},wc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},xc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ko(null,!0)]},Ec:{name:"useDeviceLanguage",j:[]},Fc:{name:"verifyPasswordResetCode",j:[Ko("code")]}}),function(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].Nb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Go(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}(Do.prototype,{lc:{name:"languageCode",Nb:$o(Ko(),Xo(),"languageCode")}}),(Do.Persistence=dc).LOCAL="local",Do.Persistence.SESSION="session",Do.Persistence.NONE="none",aa(Xi.prototype,{delete:{name:"delete",j:[]},F:{name:"getIdToken",j:[Qo()]},getToken:{name:"getToken",j:[Qo()]},Xa:{name:"linkAndRetrieveDataWithCredential",j:[Yo()]},cc:{name:"linkWithCredential",j:[Yo()]},dc:{name:"linkWithPhoneNumber",j:[Ko("phoneNumber"),Zo()]},ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Za:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yo()]},mc:{name:"reauthenticateWithCredential",j:[Yo()]},nc:{name:"reauthenticateWithPhoneNumber",j:[Ko("phoneNumber"),Zo()]},oc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},pc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},bb:{name:"sendEmailVerification",j:[$o(zo("opt_actionCodeSettings",!0),Xo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ko(null,!0)]},Cc:{name:"unlink",j:[Ko("provider")]},kb:{name:"updateEmail",j:[Ko("email")]},lb:{name:"updatePassword",j:[Ko("password")]},Dc:{name:"updatePhoneNumber",j:[Yo("phone")]},mb:{name:"updateProfile",j:[zo("profile")]}}),aa(Q.prototype,{s:{name:"catch"},then:{name:"then"}}),aa(Ui.prototype,{confirm:{name:"confirm",j:[Ko("verificationCode")]}}),sa(mr,"credential",function(t,e){return new vr(t,e)},[Ko("email"),Ko("password")]),aa(cr.prototype,{sa:{name:"addScope",j:[Ko("scope")]},Ba:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),sa(cr,"credential",lr,[$o(Ko(),zo(),"token")]),aa(hr.prototype,{sa:{name:"addScope",j:[Ko("scope")]},Ba:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),sa(hr,"credential",fr,[$o(Ko(),zo(),"token")]),aa(pr.prototype,{sa:{name:"addScope",j:[Ko("scope")]},Ba:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),sa(pr,"credential",dr,[$o(Ko(),$o(zo(),Xo()),"idToken"),$o(Ko(),Xo(),"accessToken",!0)]),aa(yr.prototype,{Ba:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),sa(yr,"credential",gr,[$o(Ko(),zo(),"token"),Ko("secret",!0)]),aa(ur.prototype,{sa:{name:"addScope",j:[Ko("scope")]},credential:{name:"credential",j:[$o(Ko(),Xo(),"idToken",!0),$o(Ko(),Xo(),"accessToken",!0)]},Ba:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),sa(wr,"credential",Er,[Ko("verificationId"),Ko("verificationCode")]),aa(wr.prototype,{Qa:{name:"verifyPhoneNumber",j:[Ko("phoneNumber"),Zo()]}}),aa(Gn.prototype,{toJSON:{name:"toJSON",j:[Ko(null,!0)]}}),aa(Nr.prototype,{toJSON:{name:"toJSON",j:[Ko(null,!0)]}}),aa(Or.prototype,{toJSON:{name:"toJSON",j:[Ko(null,!0)]}}),aa(oa.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===la||!la.INTERNAL||!la.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Do,Error:Gn};sa(t,"EmailAuthProvider",mr,[]),sa(t,"FacebookAuthProvider",cr,[]),sa(t,"GithubAuthProvider",hr,[]),sa(t,"GoogleAuthProvider",pr,[]),sa(t,"TwitterAuthProvider",yr,[]),sa(t,"OAuthProvider",ur,[Ko("providerId")]),sa(t,"PhoneAuthProvider",wr,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Do)}}]),sa(t,"RecaptchaVerifier",oa,[$o(Ko(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),zo("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof la.app.App)}}]),la.INTERNAL.registerService("auth",function(t,e){return t=new Do(t),e({INTERNAL:{getUid:f(t.getUid,t),getToken:f(t.Vb,t),addAuthTokenListener:f(t.Mb,t),removeAuthTokenListener:f(t.qc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),la.INTERNAL.extendNamespace({User:Xi})}()}).call(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n("fRUx"))},TO51:function(t,e,n){"use strict";var r=n("6Xbx"),i=n("AP4T"),o=n("E9/g"),a=n("qLnt"),s=n("Upor"),u=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return Object(r.b)(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),c=n("V7AE");n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var l=function(t){function e(e){t.call(this,e),this.destination=e}return Object(r.b)(e,t),e}(o.a),h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Object(r.b)(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return Object(r.b)(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},TS1d:function(t,e,n){"use strict";e.a=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Object(r.a)(t,e,n)(this)};var r=n("wP3s")},Tb9p:function(t,e,n){"use strict";var r=n("6Xbx"),i=(n("LMZF"),n("9iV4"),n("AP4T")),o=n("GTlS"),a=new(n("wclm").a)(o.a),s=n("E9/g"),u=n("PAZ8"),c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return Object(r.b)(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new h(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.a.createComplete())},e}(s.a),h=function(t,e){this.time=t,this.notification=e};i.a.prototype.delay=function(t,e){return void 0===e&&(e=a),function(t,e){void 0===e&&(e=a);var n=function(t){return t instanceof Date&&!isNaN(+t)}(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new c(n,e))}}(t,e)(this)},n.d(e,"a",function(){return f});var f=function(){function t(t){this.http=t}return t.prototype.getYearsList=function(t){for(var e=[],n=(new Date).getFullYear(),r=t;r<=n;r++)e.push(r);return e},t.prototype.getFormControlConfig=function(t){var e={};return t.forEach(function(t){e[t.name]=[t.value,t.validators]}),e},t.prototype.getQueryUrl=function(t,e){var n=t.year,r=t.make,i="",o="";return"make_display"===e&&(i="&year="+n,o="getMakes"),"model_name"===e&&(i="&year="+n+"&make="+r,o="getModels"),"model_trim"===e&&(i="&year="+n+"&make="+r+"&model="+t.model,o="getTrims"),"https://www.carqueryapi.com/api/0.3/?cmd="+o+i},t.prototype.getSelectOptionsList$=function(t,e){var n=this,r=this.getQueryUrl(t,e);return this.http.jsonp(r,"callback").map(function(t){var r=Object.values(t)[0];return"model_trim"===e&&(n.currentCarParams=r),r.map(function(t){return t[e]})})},t.prototype.getCarParamsByTrim=function(t){var e=this.currentCarParams.find(function(e){return e.model_trim===t});return{drive:e.model_drive,transmissionType:e.model_transmission_type,engineCc:e.model_engine_cc,engineFuel:e.model_engine_fuel,lkmMixed:e.model_lkm_mixed,body:e.model_body,seats:e.model_seats}},t}()},Tmcl:function(t,e,n){"use strict";function r(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}Object.defineProperty(e,"__esModule",{value:!0}),e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},e.errorPrefix=r,e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(r(t,e,i)+"must be a valid firebase namespace.")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(r(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(r(t,e,i)+"must be a valid context object.")}},U4XL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/byE");e.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(e.getUA())},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isNodeSdk=function(){return!0===r.CONSTANTS.NODE_CLIENT||!0===r.CONSTANTS.NODE_ADMIN}},UHIZ:function(t,e,n){"use strict";function r(t){return function(t){return function(e){var n=new Ft(t),r=e.lift(n);return n.caught=r}}(t)(this)}function i(){return Object(Vt.a)(1)(this)}function o(t,e,n){return function(t,e,n){return function(r){return r.lift(new qt(t,e,n,r))}}(t,e,n)(this)}function a(t,e){return function(t,e){return function(n){return n.lift(new Gt(t,e,n))}}(t,e)(this)}function s(t,e,n){return function(t,e,n){return function(r){return r.lift(new Qt(t,e,n,r))}}(t,e,n)(this)}function u(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(Vt.a)(t)(this)}function c(t){return function(e){return 0===t?new Yt.a:e.lift(new Zt(t))}}function l(t,e){return arguments.length>=2?function(n){return Object(ne.a)(Object(Jt.a)(t,e),c(1),function(t){return void 0===t&&(t=null),function(e){return e.lift(new te(t))}}(e))(n)}:function(e){return Object(ne.a)(Object(Jt.a)(function(e,n,r){return t(e,n,r+1)}),c(1))(e)}}function h(t){return new Ee(t)}function f(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function p(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];!function(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==we)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&p(t.children,e)}(r,r?e||r.path?e&&!r.path?e+"/":!e&&r.path?r.path:e+"/"+r.path:"":e)}}function d(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function y(t){return Array.prototype.concat.apply([],t)}function g(t){return t.length>0?t[t.length-1]:null}function v(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function m(t){var e=u.call(t);return a.call(e,function(t){return!0===t})}function _(t){return Object(St._8)(t)?t:Object(St._9)(t)?Object(Ht.a)(Promise.resolve(t)):Object(At.a)(t)}function b(t,e,n){return n?d(t.queryParams,e.queryParams)&&w(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&E(t.root,e.root)}function w(t,e){if(!S(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!w(t.children[n],e.children[n]))return!1}return!0}function E(t,e){return C(t,e,e.segments)}function C(t,e,n){if(t.segments.length>n.length)return!!S(i=t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!S(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!E(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!S(t.segments,i)&&!!t.children[we]&&C(t.children[we],e,o)}function S(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function T(t,e){var n=[];return v(t.children,function(t,r){r===we&&(n=n.concat(e(t,r)))}),v(t.children,function(t,r){r!==we&&(n=n.concat(e(t,r)))}),n}function I(t){return t.segments.map(function(t){return P(t)}).join("/")}function O(t,e){if(!t.hasChildren())return I(t);if(e){var n=t.children[we]?O(t.children[we],!1):"",r=[];return v(t.children,function(t,e){e!==we&&r.push(e+":"+O(t,!1))}),r.length>0?n+"("+r.join("//")+")":n}var i=T(t,function(e,n){return n===we?[O(t.children[we],!1)]:[n+":"+O(e,!1)]});return I(t)+"/("+i.join("//")+")"}function N(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function A(t){return decodeURIComponent(t)}function P(t){return""+N(t.path)+function(t){return Object.keys(t).map(function(e){return";"+N(e)+"="+N(t[e])}).join("")}(t.parameters)}function R(t){var e=t.match(Re);return e?e[0]:""}function k(t){return new Dt.a(function(e){return e.error(new Me(t))})}function D(t){return new Dt.a(function(e){return e.error(new Le(t))})}function x(t){return new Dt.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function M(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||f)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function L(t){if(1===t.numberOfChildren&&t.children[we]){var e=t.children[we];return new Ie(t.segments.concat(e.segments),e.children)}return t}function F(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function j(t){return t.outlet||we}function V(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=V(t,r[n]);if(i)return i}return null}function U(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var i=U(t,r[n]);if(i.length)return i.unshift(e),i}return[]}function B(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function q(t,e){var n=function(n,r){var i=new qe([],{},{},"",{},we,e,null,t.root,-1,{});return new We("",new Ve(i,[]))}(),r=new Nt([new Oe("",{})]),i=new Nt({}),o=new Nt({}),a=new Nt({}),s=new Nt(""),u=new Be(r,i,a,s,o,we,e,n.root);return u.snapshot=n.root,new Ue(new Ve(u,[]),n)}function W(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var r=e[n],i=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(i.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:Object(Tt.a)({},t.params,e.params),data:Object(Tt.a)({},t.data,e.data),resolve:Object(Tt.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function H(t,e){e.value._routerState=t,e.children.forEach(function(e){return H(t,e)})}function G(t){var e=t.children.length>0?" { "+t.children.map(G).join(", ")+" } ":"";return""+t.value+e}function K(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,d(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),d(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!d(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),d(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Q(t,e){return d(t.params,e.params)&&function(t,e){return S(t,e)&&t.every(function(t,n){return d(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Q(t.parent,e.parent))}function z(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){(o=n.value)._futureSnapshot=e.value;var r=function(t,n,r){return e.children.map(function(e){for(var n=0,i=r.children;n<i.length;n++){var o=i[n];if(t.shouldReuseRoute(o.value.snapshot,e.value))return z(t,e,o)}return z(t,e)})}(t,0,n);return new Ve(o,r)}if(t.retrieve(e.value)){var i=t.retrieve(e.value).route;return J(e,i),i}var o=function(t){return new Be(new Nt(t.url),new Nt(t.params),new Nt(t.queryParams),new Nt(t.fragment),new Nt(t.data),t.outlet,t.component,t)}(e.value);return r=e.children.map(function(e){return z(t,e)}),new Ve(o,r)}function J(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)J(t.children[n],e.children[n])}function X(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Y(t,e,n,r,i){var o={};return r&&v(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Te(n.root===t?e:Z(n.root,t,e),o,i)}function Z(t,e,n){var r={};return v(t.children,function(t,i){r[i]=t===e?n:Z(t,e,n)}),new Ie(t.segments,r)}function $(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[we]:""+t}function tt(t,e,n){if(t||(t=new Ie([],{})),0===t.segments.length&&t.hasChildren())return et(t,e,n);var r=function(t,n,r){for(var i=0,o=e,a={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(i>=r.length)return a;var s=t.segments[o],u=$(r[i]),c=i<r.length-1?r[i+1]:null;if(o>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!rt(u,c,s))return a;i+=2}else{if(!rt(u,{},s))return a;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,0,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[we]=new Ie(t.segments.slice(r.pathIndex),t.children),et(o,0,i)}return r.match&&0===i.length?new Ie(t.segments,{}):r.match&&!t.hasChildren()?nt(t,e,n):r.match?et(t,0,i):nt(t,e,n)}function et(t,e,n){if(0===n.length)return new Ie(t.segments,{});var r=function(t){return"object"!=typeof t[0]?(e={},e[we]=t,e):void 0===t[0].outlets?(n={},n[we]=t,n):t[0].outlets;var e,n}(n),i={};return v(r,function(n,r){null!==n&&(i[r]=tt(t.children[r],e,n))}),v(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Ie(t.segments,i)}function nt(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=function(t){var e={};return v(n[i].outlets,function(t,n){null!==t&&(e[n]=nt(new Ie([],{}),0,t))}),e}();return new Ie(r,o)}if(0===i&&X(n[0]))r.push(new Oe(t.segments[e].path,n[0])),i++;else{var a=$(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&X(s)?(r.push(new Oe(a,function(t){var e={};return v(s,function(t,n){return e[n]=""+t}),e}())),i+=2):(r.push(new Oe(a,{})),i++)}}return new Ie(r,{})}function rt(t,e,n){return t==n.path&&d(e,n.parameters)}function it(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ot(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function at(t,e,n,r){if(n.length>0&&function(t,e,n){return r.some(function(n){return st(t,e,n)&&ut(n)!==we})}(t,n)){var i=new Ie(e,function(t,e,n,r){var i={};i[we]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,a=n;o<a.length;o++){var s=a[o];if(""===s.path&&ut(s)!==we){var u=new Ie([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[ut(s)]=u}}return i}(t,e,r,new Ie(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return st(t,e,n)})}(t,n)){var o=new Ie(t.segments,function(t,e,n,i){for(var o={},a=0,s=r;a<s.length;a++){var u=s[a];if(st(t,e,u)&&!i[ut(u)]){var c=new Ie([],{});c._sourceSegment=t,c._segmentIndexShift=t.segments.length,o[ut(u)]=c}}return Object(Tt.a)({},i,o)}(t,n,0,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var a=new Ie(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function st(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ut(t){return t.outlet||we}function ct(t){return t.data||{}}function lt(t){return t.resolve||{}}function ht(t){throw t}function ft(t){return Object(At.a)(null)}function pt(t){K(t.value),t.children.forEach(pt)}function dt(t){return""===t||!!t}function yt(){return new St.w("Router",rn)}function gt(t,e,n){return void 0===n&&(n={}),n.useHash?new Ct.g(t,e):new Ct.o(t,e)}function vt(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function mt(t){return[{provide:St.a,multi:!0,useValue:t},{provide:$e,multi:!0,useValue:t}]}function _t(t,e,n,r,i,o,a,s,u,c,l){void 0===u&&(u={});var h=new rn(null,e,n,r,i,o,a,y(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.enableTracing){var f=Object(re.r)();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),h}function bt(t){return t.routerState.root}function wt(t){return t.appInitializer.bind(t)}function Et(t){return t.bootstrapListener.bind(t)}var Ct=n("Un6q"),St=n("LMZF"),Tt=n("6Xbx"),It=n("TO51"),Ot=n("Upor"),Nt=function(t){function e(e){t.call(this),this._value=e}return Object(Tt.b)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ot.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(It.a),At=n("GZB0"),Pt=n("eL9U"),Rt=n("dmC+"),kt=n("TS1d"),Dt=n("AP4T"),xt=n("fgj+"),Mt=n("lI6h"),Lt=n("qgI0"),Ft=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new jt(t,this.selector,this.caught))},t}(),jt=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return Object(Tt.b)(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(Lt.a)(this,n))}},e}(Mt.a),Vt=n("bywS"),Ut=n("E9/g"),Bt=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return Object(Tt.b)(e,t),e}(Error),qt=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new Wt(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),Wt=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return Object(Tt.b)(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new Bt):(t.next(this.defaultValue),t.complete())},e}(Ut.a),Ht=n("CASk"),Gt=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t,this.predicate,this.thisArg,this.source))},t}(),Kt=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return Object(Tt.b)(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Ut.a),Qt=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new zt(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),zt=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return Object(Tt.b)(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new Bt)},e}(Ut.a),Jt=n("nAqi"),Xt=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return Object(Tt.b)(e,t),e}(Error),Yt=n("Ecq+"),Zt=function(){function t(t){if(this.total=t,this.total<0)throw new Xt}return t.prototype.call=function(t,e){return e.subscribe(new $t(t,this.total))},t}(),$t=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return Object(Tt.b)(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(Ut.a),te=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ee(t,this.defaultValue))},t}(),ee=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return Object(Tt.b)(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Ut.a),ne=n("ExCY"),re=n("RyBE"),ie=n("6S6c");n.d(e,"m",function(){return an}),n.d(e,"l",function(){return sn}),n.d(e,"o",function(){return ln}),n.d(e,"j",function(){return Ye}),n.d(e,"k",function(){return rn}),n.d(e,"i",function(){return $e}),n.d(e,"g",function(){return gn}),n.d(e,"h",function(){return wn}),n.d(e,"n",function(){return _n}),n.d(e,"b",function(){return cn}),n.d(e,"d",function(){return dn}),n.d(e,"e",function(){return pn}),n.d(e,"f",function(){return fn}),n.d(e,"p",function(){return yn}),n.d(e,"a",function(){return Be}),n.d(e,"q",function(){return en}),n.d(e,"c",function(){return Ae}),n.d(e,"r",function(){return Ne}),n.d(e,"s",function(){return vn}),n.d(e,"y",function(){return bn}),n.d(e,"z",function(){return wt}),n.d(e,"A",function(){return Et}),n.d(e,"v",function(){return vt}),n.d(e,"u",function(){return gt}),n.d(e,"x",function(){return bt}),n.d(e,"t",function(){return yt}),n.d(e,"w",function(){return _t});var oe=function(t,e){this.id=t,this.url=e},ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Tt.b)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(oe),se=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(Tt.b)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(oe),ue=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(Tt.b)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(oe),ce=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(Tt.b)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(oe),le=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Tt.b)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(oe),he=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Tt.b)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(oe),fe=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(Tt.b)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(oe),pe=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Tt.b)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(oe),de=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Tt.b)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(oe),ye=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),ge=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),ve=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),me=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),_e=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),be=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),we="primary",Ee=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),Ce="ngNavigationCancelingError",Se=function(t,e){this.routes=t,this.module=e},Te=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=h(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Pe.serialize(this)},t}(),Ie=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,v(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return I(this)},t}(),Oe=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=h(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return P(this)},t}(),Ne=function(){},Ae=function(){function t(){}return t.prototype.parse=function(t){var e=new xe(t);return new Te(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+O(t.root,!0)+function(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return N(e)+"="+N(t)}).join("&"):N(e)+"="+N(n)});return e.length?"?"+e.join("&"):""}(t.queryParams)+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Pe=new Ae,Re=/^[^\/()?;=&#]+/,ke=/^[^=?&#]+/,De=/^[^?&#]+/,xe=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[we]=new Ie(t,e)),n},t.prototype.parseSegment=function(){var t=R(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Oe(A(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=R(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=R(this.remaining);r&&this.capture(n=r)}t[A(e)]=A(n)}},t.prototype.parseQueryParam=function(t){var e=function(t){var e=t.match(ke);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(De);return e?e[0]:""}(this.remaining);r&&this.capture(n=r)}var i=A(e),o=A(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(t[i]=a=[a]),a.push(o)}else t[i]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=R(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=we);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[we]:new Ie([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Me=function(t){this.segmentGroup=t||null},Le=function(t){this.urlTree=t},Fe=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(St.v)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,we),n=Rt.a.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return r.call(n,function(e){if(e instanceof Le)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Me)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,we),i=Rt.a.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return r.call(i,function(t){if(t instanceof Me)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r=t.segments.length>0?new Ie([],(i={},i[we]=t,i)):t;return new Te(r,e,n);var i},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?Rt.a.call(this.expandChildren(t,e,n),function(t){return new Ie([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return Object(At.a)({});var a=[],u=[],c={};v(n,function(n,i){var o=Rt.a.call(r.expandSegmentGroup(t,e,n,i),function(t){return c[i]=t});i===we?a.push(o):u.push(o)});var l=i.call(At.a.apply(void 0,a.concat(u))),h=s.call(l);return Rt.a.call(h,function(){return c})}(n.children)},t.prototype.expandSegment=function(t,e,n,a,s,u){var c=this,l=At.a.apply(void 0,n),h=Rt.a.call(l,function(i){var o=c.expandSegmentAgainstRoute(t,e,n,i,a,s,u);return r.call(o,function(t){if(t instanceof Me)return Object(At.a)(null);throw t})}),f=i.call(h),p=o.call(f,function(t){return!!t});return r.call(p,function(t,n){if(t instanceof Bt){if(c.noLeftoversInUrl(e,a,s))return Object(At.a)(new Ie([],{}));throw new Me(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return j(r)!==o?k(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):k(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?D(o):kt.a.call(this.lineralizeSegments(n,o),function(n){var o=new Ie(n,{});return i.expandSegment(t,o,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=M(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return k(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?D(h):kt.a.call(this.lineralizeSegments(r,h),function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?Rt.a.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new Ie(r,{})}):Object(At.a)(new Ie(r,{}));var o=M(e,n,r),a=o.consumedSegments,s=o.lastChild;if(!o.matched)return k(e);var u=r.slice(s),c=this.getChildConfig(t,n);return kt.a.call(c,function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return F(t,e,n)&&j(n)!==we})}(t,n)?{segmentGroup:L(new Ie(e,function(t,e){var n={};n[we]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&j(o)!==we&&(n[j(o)]=new Ie([],{}))}return n}(r,new Ie(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return F(t,e,n)})}(t,n)?{segmentGroup:L(new Ie(t.segments,function(t,e,n,i){for(var o={},a=0,s=r;a<s.length;a++){var u=s[a];F(t,e,u)&&!i[j(u)]&&(o[j(u)]=new Ie([],{}))}return Object(Tt.a)({},i,o)}(t,n,0,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,u,r),s=o.segmentGroup,c=o.slicedSegments;if(0===c.length&&s.hasChildren()){var l=i.expandChildren(n,r,s);return Rt.a.call(l,function(t){return new Ie(a,t)})}if(0===r.length&&0===c.length)return Object(At.a)(new Ie(a,{}));var h=i.expandSegment(n,s,r,c,we,!0);return Rt.a.call(h,function(t){return new Ie(a.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Object(At.a)(new Se(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(At.a)(e._loadedConfig):kt.a.call(function(t,e){var n=e.canLoad;return n&&0!==n.length?m(Rt.a.call(Object(xt.a)(n),function(n){var r=t.get(n);return _(r.canLoad?r.canLoad(e):r(e))})):Object(At.a)(!0)}(t.injector,e),function(r){return r?Rt.a.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):function(t){return new Dt.a(function(e){return e.error(function(t){var e=Error("NavigationCancelingError: "+t);return e[Ce]=!0,e}("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)}):Object(At.a)(new Se([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(At.a)(n);if(r.numberOfChildren>1||!r.children[we])return x(t.redirectTo);r=r.children[we]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Te(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return v(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return v(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Ie(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}(),je=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=V(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=V(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=U(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return U(t,this._root).map(function(t){return t.value})},t}(),Ve=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),Ue=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,H(r,e),r}return Object(Tt.b)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(je),Be=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Rt.a.call(this.params,function(t){return h(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Rt.a.call(this.queryParams,function(t){return h(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),qe=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=h(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=h(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),We=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,H(r,n),r}return Object(Tt.b)(e,t),e.prototype.toString=function(){return G(this._root)},e}(je),He=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&X(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==g(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Ge=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n},Ke=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),Qe=function(t,e){this.component=t,this.route=e},ze=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Object(At.a)(!0);var e=this.runCanDeactivateChecks();return kt.a.call(e,function(e){return e?t.runCanActivateChecks():Object(At.a)(!1)})},t.prototype.resolveData=function(){var t=this;if(!this.isActivating())return Object(At.a)(null);var e=Object(xt.a)(this.canActivateChecks),n=Pt.a.call(e,function(e){return t.runResolve(e.route)});return function(t,e){return arguments.length>=2?l(t,e)(this):l(t)(this)}.call(n,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=B(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),v(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var s=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new Ke(r)):(i.data=o.data,i._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,i.component?a?a.children:null:n,r),s&&this.canDeactivateChecks.push(new Qe(a.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new Ke(r)),this.setupChildRouteGuards(t,null,i.component?a?a.children:null:n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Q(t,e)||!d(t.queryParams,e.queryParams);case"paramsChange":default:return!Q(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=B(t),i=t.value;v(r,function(t,r){n.deactivateRouteAndItsChildren(t,i.component?e?e.children.getContext(r):null:e)}),this.canDeactivateChecks.push(new Qe(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=Object(xt.a)(this.canDeactivateChecks),n=kt.a.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return a.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=Object(xt.a)(this.canActivateChecks),n=Pt.a.call(e,function(e){return m(Object(xt.a)([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return a.call(n,function(t){return!0===t})},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new _e(t)),Object(At.a)(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new ve(t)),Object(At.a)(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?m(Rt.a.call(Object(xt.a)(n),function(n){var r,i=e.getToken(n,t);return r=_(i.canActivate?i.canActivate(t,e.future):i(t,e.future)),o.call(r)})):Object(At.a)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return m(Rt.a.call(Object(xt.a)(r),function(t){return m(Rt.a.call(Object(xt.a)(t.guards),function(r){var i,a=e.getToken(r,t.node);return i=_(a.canActivateChild?a.canActivateChild(n,e.future):a(n,e.future)),o.call(i)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||0===r.length)return Object(At.a)(!0);var i=kt.a.call(Object(xt.a)(r),function(r){var i,a=n.getToken(r,e);return i=_(a.canDeactivate?a.canDeactivate(t,e,n.curr,n.future):a(t,e,n.curr,n.future)),o.call(i)});return a.call(i,function(t){return!0===t})},t.prototype.runResolve=function(t){return Rt.a.call(this.resolveNode(t._resolve,t),function(e){return t._resolvedData=e,t.data=Object(Tt.a)({},t.data,W(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return Object(At.a)({});if(1===r.length){var i=r[0];return Rt.a.call(this.getResolver(t[i],e),function(t){return e={},e[i]=t,e;var e})}var o={},a=kt.a.call(Object(xt.a)(r),function(r){return Rt.a.call(n.getResolver(t[r],e),function(t){return o[r]=t,t})});return Rt.a.call(s.call(a),function(){return o})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return _(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Je=function(){},Xe=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=at(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,we),n=new qe([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},we,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ve(n,e),i=new We(this.url,r);return this.inheritParamsAndData(i._root),Object(At.a)(i)}catch(t){return new Dt.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=W(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,r=T(e,function(e,r){return n.processSegmentGroup(t,e,r)});return function(t){var e={};r.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}e[t.value.outlet]=t.value})}(),r.sort(function(t,e){return t.value.outlet===we?-1:e.value.outlet===we?1:t.value.outlet.localeCompare(e.value.outlet)}),r},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var a=o[i];try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(t){if(!(t instanceof Je))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Je},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new Je;if((t.outlet||we)!==r)throw new Je;if("**"===t.path){var i=n.length>0?g(n).parameters:{},o=new qe(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ct(t),r,t.component,t,it(e),ot(e)+n.length,lt(t));return[new Ve(o,[])]}var a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Je;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||f)(n,t,e);if(!r)throw new Je;var i={};v(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object(Tt.a)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n),s=a.consumedSegments,u=a.parameters,c=n.slice(a.lastChild),l=t.children?t.children:t.loadChildren?t._loadedConfig.routes:[],h=at(e,s,c,l),p=h.segmentGroup,d=h.slicedSegments,y=new qe(s,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ct(t),r,t.component,t,it(e),ot(e)+s.length,lt(t));if(0===d.length&&p.hasChildren()){var m=this.processChildren(l,p);return[new Ve(y,m)]}if(0===l.length&&0===d.length)return[new Ve(y,[])];var _=this.processSegment(l,p,d,we);return[new Ve(y,_)]},t}(),Ye=function(){},Ze=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),$e=new St.o("ROUTES"),tn=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return Rt.a.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Se(y(i.injector.get($e)),i)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(Ht.a)(this.loader.load(t)):kt.a.call(_(t()),function(t){return t instanceof St.t?Object(At.a)(t):Object(Ht.a)(e.compiler.compileModuleAsync(t))})},t}(),en=function(){},nn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),rn=function(){function t(t,e,n,r,i,o,a,s){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.navigations=new Nt(null),this.navigationId=0,this.events=new It.a,this.errorHandler=ht,this.navigated=!1,this.hooks={beforePreactivation:ft,afterPreactivation:ft},this.urlHandlingStrategy=new nn,this.routeReuseStrategy=new Ze,this.onSameUrlNavigation="ignore",this.ngModule=i.get(St.v),this.resetConfig(s),this.currentUrlTree=new Te(new Ie([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new tn(o,a,function(t){return u.triggerEvent(new ye(t))},function(t){return u.triggerEvent(new ge(t))}),this.routerState=q(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){p(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,s=e.preserveFragment;Object(St.T)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;if(a)switch(a){case"merge":l=Object(Tt.a)({},this.currentUrlTree.queryParams,r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Y(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new He(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return v(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new He(n,e,r)}(n);if(o.toRoot())return Y(e.root,new Ie([],{}),e,r,i);var a=function(t,n,r){if(t.isAbsolute)return new Ge(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Ge(r.snapshot._urlSegment,!0,0);var i=X(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Ge(a,!1,s-u)}()}(o,0,t),s=a.processChildren?et(a.segmentGroup,a.index,o.commands):tt(a.segmentGroup,a.index,o.commands);return Y(a.segmentGroup,s,e,r,i)}(u,this.currentUrlTree,t,l,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof Te?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof Te)return b(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return b(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;Pt.a.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Object(At.a)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,o=null,a=new Promise(function(t,e){i=t,o=e}),s=++this.navigationId;return this.navigations.next({id:s,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:a}),a.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,a=t.reject,s=this.urlHandlingStrategy.extract(r),u=!this.navigated||s.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new ae(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,a)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new ae(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!1,!1,n,q(s,e.rootComponentType).snapshot)}).then(o,a)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var a=this;return i!==this.navigationId?(this.events.next(new ue(i,this.serializeUrl(t),"Navigation ID "+i+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(s,u){var c;if(o)c=Object(At.a)({appliedUrl:t,snapshot:o});else{var l=new Fe(a.ngModule.injector,a.configLoader,a.urlSerializer,t,a.config).apply();c=kt.a.call(l,function(e){return Rt.a.call(function(t,e,n,r){return new Xe(t,e,n,r).recognize()}(a.rootComponentType,a.config,e,a.serializeUrl(e)),function(n){return a.events.next(new le(i,a.serializeUrl(t),a.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var h,f,p=kt.a.call(c,function(t){return Rt.a.call(a.hooks.beforePreactivation(t.snapshot),function(){return t})}),d=Rt.a.call(p,function(t){var e=t.appliedUrl,n=t.snapshot;return(h=new ze(n,a.routerState.snapshot,a.ngModule.injector,function(t){return a.triggerEvent(t)})).initialize(a.rootContexts),{appliedUrl:e,snapshot:n}}),y=kt.a.call(d,function(e){var n=e.appliedUrl,r=e.snapshot;return a.navigationId!==i?Object(At.a)(!1):(a.triggerEvent(new he(i,a.serializeUrl(t),n,r)),Rt.a.call(h.checkGuards(),function(e){return a.triggerEvent(new fe(i,a.serializeUrl(t),n,r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))}),g=kt.a.call(y,function(e){return a.navigationId!==i?Object(At.a)(!1):e.shouldActivate&&h.isActivating()?(a.triggerEvent(new pe(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),Rt.a.call(h.resolveData(),function(){return a.triggerEvent(new de(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Object(At.a)(e)}),v=kt.a.call(g,function(t){return Rt.a.call(a.hooks.afterPreactivation(t.snapshot),function(){return t})}),m=Rt.a.call(v,function(t){var e=t.appliedUrl,n=t.shouldActivate;return n?{appliedUrl:e,state:function(t,e,n){var r=z(a.routeReuseStrategy,e._root,n?n._root:void 0);return new Ue(r,e)}(0,t.snapshot,a.routerState),shouldActivate:n}:{appliedUrl:e,state:null,shouldActivate:n}}),_=a.routerState,b=a.currentUrlTree;m.forEach(function(t){var o=t.state;if(t.shouldActivate&&i===a.navigationId){if(a.currentUrlTree=t.appliedUrl,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.routerState=o,!n){var s=a.urlSerializer.serialize(a.rawUrlTree);a.location.isCurrentPathEqualTo(s)||r?a.location.replaceState(s):a.location.go(s)}new on(a.routeReuseStrategy,o,_,function(t){return a.triggerEvent(t)}).activate(a.rootContexts),f=!0}else f=!1}).then(function(){f?(a.navigated=!0,a.events.next(new se(i,a.serializeUrl(t),a.serializeUrl(a.currentUrlTree))),s(!0)):(a.resetUrlToCurrentUrlTree(),a.events.next(new ue(i,a.serializeUrl(t),"")),s(!1))},function(n){if(n&&n[Ce])a.navigated=!0,a.resetStateAndUrl(_,b,e),a.events.next(new ue(i,a.serializeUrl(t),n.message)),s(!1);else{a.resetStateAndUrl(_,b,e),a.events.next(new ce(i,a.serializeUrl(t),n));try{s(a.errorHandler(n))}catch(t){u(t)}}})})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree))},t}(),on=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),K(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=B(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),v(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=B(t),o=t.value.component?r.children:e;v(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=B(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new be(t.value.snapshot))}),t.children.length&&this.forwardEvent(new me(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(K(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),pt(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}(),an=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof se&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(St.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:dt(this.skipLocationChange),replaceUrl:dt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:dt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:dt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),sn=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof se&&i.update()})}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}(),un=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cn,this.attachRef=null}}(),cn=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new un,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),ln=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new St.m,this.deactivateEvents=new St.m,this.name=r||we,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new hn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),hn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Be?this.route:t===cn?this.childContexts:this.parent.get(t,e)},t}(),fn=function(){},pn=function(){function t(){}return t.prototype.preload=function(t,e){return r.call(e(),function(){return Object(At.a)(null)})},t}(),dn=function(){function t(){}return t.prototype.preload=function(t,e){return Object(At.a)(null)},t}(),yn=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new tn(e,n,function(e){return t.triggerEvent(new ye(e))},function(e){return t.triggerEvent(new ge(e))})}return t.prototype.setUpPreloading=function(){var t=this,e=ie.a.call(this.router.events,function(t){return t instanceof se});this.subscription=Pt.a.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(St.v);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return u.call(Object(xt.a)(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return kt.a.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}(),gn=new St.o("ROUTER_CONFIGURATION"),vn=new St.o("ROUTER_FORROOT_GUARD"),mn=[Ct.i,{provide:Ne,useClass:Ae},{provide:rn,useFactory:_t,deps:[St.g,Ne,cn,Ct.i,St.p,St.u,St.i,$e,gn,[en,new St.y],[Ye,new St.y]]},cn,{provide:Be,useFactory:bt,deps:[rn]},{provide:St.u,useClass:St.H},yn,dn,pn,{provide:gn,useValue:{enableTracing:!1}}],_n=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[mn,mt(e),{provide:vn,useFactory:vt,deps:[[rn,new St.y,new St.G]]},{provide:gn,useValue:n||{}},{provide:Ct.j,useFactory:gt,deps:[Ct.p,[new St.n(Ct.a),new St.y],gn]},{provide:fn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:dn},{provide:St.w,multi:!0,useFactory:yt},[bn,{provide:St.d,multi:!0,useFactory:wt,deps:[bn]},{provide:wn,useFactory:Et,deps:[bn]},{provide:St.b,multi:!0,useExisting:wn}]]}},t.forChild=function(e){return{ngModule:t,providers:[mt(e)]}},t}(),bn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new It.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Ct.h,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(rn),i=t.injector.get(gn);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(At.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(gn),n=this.injector.get(yn),r=this.injector.get(rn),i=this.injector.get(St.g);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}(),wn=new St.o("Router Initializer")},URbD:function(t,e,n){"use strict";function r(){return function(t){return t.lift(new l(t))}}function i(){return new a.a}var o=n("6Xbx"),a=n("TO51"),s=n("AP4T"),u=n("E9/g"),c=n("qLnt"),l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),h=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(o.b)(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(u.a),f=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return Object(o.b)(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new c.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=c.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return r()(this)},e}(s.a).prototype,p={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:f._subscribe},_isComplete:{value:f._isComplete,writable:!0},getSubject:{value:f.getSubject},connect:{value:f.connect},refCount:{value:f.refCount}},d=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(o.b)(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(a.b);e.a=function(){return function(t){return r()(function(t,e){return function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,p);return r.source=e,r.subjectFactory=n,r}}(i)(t))}(this)}},UcKF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROTOCOL_VERSION="5",e.VERSION_PARAM="v",e.TRANSPORT_SESSION_PARAM="s",e.REFERER_PARAM="r",e.FORGE_REF="f",e.FORGE_DOMAIN="firebaseio.com",e.LAST_SESSION_PARAM="ls",e.WEBSOCKET="websocket",e.LONG_POLLING="long_polling"},Un6q:function(t,e,n){"use strict";function r(t){return t.replace(/\/index.html$/,"")}function i(t,e){return h(t)[10][e]}function o(t,e){return h(t)[11][e]}function a(t,e){return c(h(t)[12],e)}function s(t,e){var n=h(t),r=n[13][e];if(void 0===r){if(e===U.CurrencyDecimal)return n[13][U.Decimal];if(e===U.CurrencyGroup)return n[13][U.Group]}return r}function u(t){if(!t[18])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function c(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function l(t){var e=t.split(":");return{hours:+e[0],minutes:+e[1]}}function h(t){var e=t.toLowerCase().replace(/_/g,"-"),n=x[e];if(n)return n;var r=e.split("-")[0];if(n=x[r])return n;if("en"===r)return D;throw new Error('Missing locale data for the locale "'+t+'".')}function f(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),a=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],s=a[1];if(a[0].trim()===e)return decodeURIComponent(s)}return null}function p(t,e){var n=h(t)[0];if(J[n]=J[n]||{},J[n][e])return J[n][e];var r="";switch(e){case"shortDate":r=i(t,V.Short);break;case"mediumDate":r=i(t,V.Medium);break;case"longDate":r=i(t,V.Long);break;case"fullDate":r=i(t,V.Full);break;case"shortTime":r=o(t,V.Short);break;case"mediumTime":r=o(t,V.Medium);break;case"longTime":r=o(t,V.Long);break;case"fullTime":r=o(t,V.Full);break;case"short":var s=p(t,"shortTime"),u=p(t,"shortDate");r=d(a(t,V.Short),[s,u]);break;case"medium":var c=p(t,"mediumTime"),l=p(t,"mediumDate");r=d(a(t,V.Medium),[c,l]);break;case"long":var f=p(t,"longTime"),y=p(t,"longDate");r=d(a(t,V.Long),[f,y]);break;case"full":var g=p(t,"fullTime"),v=p(t,"fullDate");r=d(a(t,V.Full),[g,v])}return r&&(J[n][e]=r),r}function d(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function y(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=""+t;a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function g(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var u=function(t,e,n){switch(t){case Z.FullYear:return e.getFullYear();case Z.Month:return e.getMonth();case Z.Date:return e.getDate();case Z.Hours:return e.getHours();case Z.Minutes:return e.getMinutes();case Z.Seconds:return e.getSeconds();case Z.Milliseconds:var r=1===n?100:2===n?10:1;return Math.round(e.getMilliseconds()/r);case Z.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o,e);return(n>0||u>-n)&&(u+=n),t===Z.Hours&&0===u&&-12===n&&(u=12),y(u,e,s(a,U.MinusSign),r,i)}}function v(t,e,n,r){return void 0===n&&(n=F.Format),void 0===r&&(r=!1),function(i,o){return function(e,n,r,i,o,a){switch(t){case $.Months:return function(t,e,r){var i=h(n);return c(c([i[5],i[6]],e),r)}(0,o,i)[e.getMonth()];case $.Days:return function(t,e,r){var i=h(n);return c(c([i[3],i[4]],e),r)}(0,o,i)[e.getDay()];case $.DayPeriods:var s=e.getHours(),f=e.getMinutes();if(a){var p,d=function(t){var e=h(n);return u(e),(e[18][2]||[]).map(function(t){return"string"==typeof t?l(t):[l(t[0]),l(t[1])]})}(),y=function(t,e,r){var i=h(n);return u(i),c(c([i[18][0],i[18][1]],e)||[],r)||[]}(0,o,i);if(d.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;s>=n.hours&&f>=n.minutes&&(s<i||s===i&&f<r.minutes)&&(p=y[e])}else t.hours===s&&t.minutes===f&&(p=y[e])}),p)return p}return function(t,e,r){var i=h(n);return c(c([i[1],i[2]],e),r)}(0,o,i)[s<12?0:1];case $.Eras:return function(t,e){return c(h(n)[7],e)}(0,i)[e.getFullYear()<=0?0:1]}}(i,o,0,e,n,r)}}function m(t){return function(e,n,r){var i=-1*r,o=s(n,U.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Y.Short:return(i>=0?"+":"")+y(a,2,o)+y(Math.abs(i%60),2,o);case Y.ShortGMT:return"GMT"+(i>=0?"+":"")+y(a,1,o);case Y.Long:return"GMT"+(i>=0?"+":"")+y(a,2,o)+":"+y(Math.abs(i%60),2,o);case Y.Extended:return 0===r?"Z":(i>=0?"+":"")+y(a,2,o)+":"+y(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}function _(t,e){return void 0===e&&(e=!1),function(n,r){var i;if(e){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{var u=function(t){var e=new Date(t,tt,1).getDay();return new Date(t,0,1+(e<=et?et:et+7)-e)}(n.getFullYear()),c=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(et-t.getDay()))}(n).getTime()-u.getTime();i=1+Math.round(c/6048e5)}return y(i,t,s(r,U.MinusSign))}}function b(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function w(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(S._22)(t)+"'")}function E(t){return t instanceof Date&&!isNaN(t.valueOf())}function C(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}n.d(e,"m",function(){return W}),n.d(e,"n",function(){return q}),n.d(e,"s",function(){return f}),n.d(e,"c",function(){return ht}),n.d(e,"k",function(){return G}),n.d(e,"l",function(){return Q}),n.d(e,"d",function(){return ft}),n.d(e,"b",function(){return ct}),n.d(e,"e",function(){return it}),n.d(e,"f",function(){return lt}),n.d(e,"q",function(){return pt}),n.d(e,"p",function(){return I}),n.d(e,"h",function(){return O}),n.d(e,"j",function(){return N}),n.d(e,"a",function(){return A}),n.d(e,"g",function(){return R}),n.d(e,"o",function(){return k}),n.d(e,"i",function(){return P}),n.d(e,"r",function(){return B});var S=n("LMZF"),T=n("6Xbx"),I=function(){},O=new S.o("Location Initialized"),N=function(){},A=new S.o("appBaseHref"),P=function(){function t(e){var n=this;this._subject=new S.m,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(r(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,r(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}(),R=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(T.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=P.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+P.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+P.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(N),k=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(T.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return P.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+P.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+P.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+P.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(N),D=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],x={},M=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),L=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),F=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),j=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),V=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),U=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}(),B=new S.o("UseV4Plurals"),q=function(){},W=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(T.b)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return h(t)[17]}(e||this.locale)(t)){case L.Zero:return"zero";case L.One:return"one";case L.Two:return"two";case L.Few:return"few";case L.Many:return"many";default:return"other"}},e}(q),H=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),G=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(S.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+(e.name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new H(null,e.ngForOf,-1,-1),i),a=new K(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new K(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),K=function(t,e){this.record=t,this.view=e},Q=function(){function t(t,e){this._viewContainer=t,this._context=new z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),z=function(){this.$implicit=null,this.ngIf=null},J={},X=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Y=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Z=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,Milliseconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.Milliseconds]="Milliseconds",t[t.Day]="Day",t}(),$=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}(),tt=0,et=4,nt={},rt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,it=function(){function t(t){this.locale=t}return t.prototype.transform=function(e,n,r,i){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;"string"==typeof e&&(e=e.trim());var o;if(E(e))o=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var a=e.split("-").map(function(t){return+t}),s=a[0],u=a[1],c=a[2];o=new Date(s,u-1,c)}else o=new Date(e);else o=new Date(parseFloat(e));if(!E(o)){var l=void 0;if("string"!=typeof e||!(l=e.match(rt)))throw w(t,e);o=function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=+(t[9]+t[10]),r=+(t[9]+t[11])),(t[8]?e.setUTCFullYear:e.setFullYear).call(e,+t[1],+t[2]-1,+t[3]);var o=+(t[4]||"0")-n,a=+(t[5]||"0")-r,s=+(t[6]||"0"),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,o,a,s,u),e}(l)}return function(t,e,n,r){e=p(n,e)||e;for(var i,o=[];e;){if(!(i=X.exec(e))){o.push(e);break}var a=(o=o.concat(i.slice(1))).pop();if(!a)break;e=a}var s=t.getTimezoneOffset();r&&(s=b(r,s),t=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(b(e,r)-r))}(t,r));var u="";return o.forEach(function(e){var r=function(t){if(nt[t])return nt[t];var e;switch(t){case"G":case"GG":case"GGG":e=v($.Eras,j.Abbreviated);break;case"GGGG":e=v($.Eras,j.Wide);break;case"GGGGG":e=v($.Eras,j.Narrow);break;case"y":e=g(Z.FullYear,1,0,!1,!0);break;case"yy":e=g(Z.FullYear,2,0,!0,!0);break;case"yyy":e=g(Z.FullYear,3,0,!1,!0);break;case"yyyy":e=g(Z.FullYear,4,0,!1,!0);break;case"M":case"L":e=g(Z.Month,1,1);break;case"MM":case"LL":e=g(Z.Month,2,1);break;case"MMM":e=v($.Months,j.Abbreviated);break;case"MMMM":e=v($.Months,j.Wide);break;case"MMMMM":e=v($.Months,j.Narrow);break;case"LLL":e=v($.Months,j.Abbreviated,F.Standalone);break;case"LLLL":e=v($.Months,j.Wide,F.Standalone);break;case"LLLLL":e=v($.Months,j.Narrow,F.Standalone);break;case"w":e=_(1);break;case"ww":e=_(2);break;case"W":e=_(1,!0);break;case"d":e=g(Z.Date,1);break;case"dd":e=g(Z.Date,2);break;case"E":case"EE":case"EEE":e=v($.Days,j.Abbreviated);break;case"EEEE":e=v($.Days,j.Wide);break;case"EEEEE":e=v($.Days,j.Narrow);break;case"EEEEEE":e=v($.Days,j.Short);break;case"a":case"aa":case"aaa":e=v($.DayPeriods,j.Abbreviated);break;case"aaaa":e=v($.DayPeriods,j.Wide);break;case"aaaaa":e=v($.DayPeriods,j.Narrow);break;case"b":case"bb":case"bbb":e=v($.DayPeriods,j.Abbreviated,F.Standalone,!0);break;case"bbbb":e=v($.DayPeriods,j.Wide,F.Standalone,!0);break;case"bbbbb":e=v($.DayPeriods,j.Narrow,F.Standalone,!0);break;case"B":case"BB":case"BBB":e=v($.DayPeriods,j.Abbreviated,F.Format,!0);break;case"BBBB":e=v($.DayPeriods,j.Wide,F.Format,!0);break;case"BBBBB":e=v($.DayPeriods,j.Narrow,F.Format,!0);break;case"h":e=g(Z.Hours,1,-12);break;case"hh":e=g(Z.Hours,2,-12);break;case"H":e=g(Z.Hours,1);break;case"HH":e=g(Z.Hours,2);break;case"m":e=g(Z.Minutes,1);break;case"mm":e=g(Z.Minutes,2);break;case"s":e=g(Z.Seconds,1);break;case"ss":e=g(Z.Seconds,2);break;case"S":e=g(Z.Milliseconds,1);break;case"SS":e=g(Z.Milliseconds,2);break;case"SSS":e=g(Z.Milliseconds,3);break;case"Z":case"ZZ":case"ZZZ":e=m(Y.Short);break;case"ZZZZZ":e=m(Y.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=m(Y.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=m(Y.Long);break;default:return null}return nt[t]=e,e}(e);u+=r?r(t,n,s):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(o,n,i||this.locale,r)},t}(),ot=/^(\d+)?\.((\d+)(-(\d+))?)?$/,at=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),st=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),ut=new at,ct=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,S.O.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(S._9)(e))return st;if(Object(S._8)(e))return ut;throw w(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),lt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(null==e||""===e||e!=e)return null;var i=function(t,e,n,r,i){void 0===i&&(i=null);var o,a={str:null},u=function(t,n){return h(e)[14][n]}(0,n);if("string"!=typeof t||isNaN(+t-parseFloat(t))){if("number"!=typeof t)return a.error=t+" is not a number",a;o=t}else o=+t;n===M.Percent&&(o*=100);var c=Math.abs(o)+"",l=function(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf("#");n.negPre=o.substr(0,p).replace(/'/g,""),n.negSuf=o.substr(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(u,s(e,U.MinusSign)),f="",p=!1;if(isFinite(o)){var d=function(t){var e,n,r,i,o,a=0;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;"0"===t.charAt(r);r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;"0"===t.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(c),y=l.minInt,g=l.minFrac,v=l.maxFrac;if(r){var m=r.match(ot);if(null===m)return a.error=r+" is not a valid digit info",a;var _=m[1],b=m[3],w=m[5];null!=_&&(y=C(_)),null!=b&&(g=C(b)),null!=w?v=C(w):null!=b&&g>v&&(v=g)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=r.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);h&&(r.unshift(h),t.integerLen++)}(d,g,v);var E=d.digits,S=d.integerLen,T=d.exponent,I=[];for(p=E.every(function(t){return!t});S<y;S++)E.unshift(0);for(;S<0;S++)E.unshift(0);S>0?I=E.splice(S,E.length):(I=E,E=[0]);var O=[];for(E.length>=l.lgSize&&O.unshift(E.splice(-l.lgSize,E.length).join(""));E.length>l.gSize;)O.unshift(E.splice(-l.gSize,E.length).join(""));E.length&&O.unshift(E.join("")),f=O.join(s(e,i?U.CurrencyGroup:U.Group)),I.length&&(f+=s(e,i?U.CurrencyDecimal:U.Decimal)+I.join("")),T&&(f+=s(e,U.Exponential)+"+"+T)}else f=s(e,U.Infinity);return f=o<0&&!p?l.negPre+f+l.negSuf:l.posPre+f+l.posSuf,n===M.Currency&&null!==i?(a.str=f.replace("\xa4",i).replace("\xa4",""),a):n===M.Percent?(a.str=f.replace(new RegExp("%","g"),s(e,U.PercentSign)),a):(a.str=f,a)}(e,r=r||this._locale,M.Decimal,n),o=i.str,a=i.error;if(a)throw w(t,a);return o},t}(),ht=function(){},ft=new S.o("DocumentToken"),pt="browser"},Upor:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return Object(r.b)(e,t),e}(Error)},V7AE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xIGM").a.Symbol,i="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},"VS+H":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF");var r=function(){function t(){}return t.prototype.ngOnInit=function(){},t}()},VzZx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("5pXs"),a=n("GnQ5"),s=n("fvGz"),u=n("hkXn"),c=n("/fob"),l=n("F1yO"),h=n("ZGn5"),f=n("xfHL"),p=n("JEJ4"),d=n("43Go"),y=n("R3TC"),g=n("pHuv");!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(r=e.TransactionStatus||(e.TransactionStatus={})),g.Repo.MAX_TRANSACTION_RETRIES_=25,g.Repo.prototype.transactions_init_=function(){this.transactionQueueTree_=new u.Tree},g.Repo.prototype.startTransaction=function(t,e,n,s){this.log_("transaction on "+t);var u=function(){},g=new o.Reference(this,t);g.on("value",u);var v={path:t,update:e,onComplete:n,status:null,order:l.LUIDGenerator(),applyLocally:s,retryCount:0,unwatcher:function(){g.off("value",u)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=this.getLatestState_(t);v.currentInputSnapshot=m;var _=v.update(m.val());if(void 0===_){if(v.unwatcher(),v.currentOutputSnapshotRaw=null,v.currentOutputSnapshotResolved=null,v.onComplete){var b=new a.DataSnapshot(v.currentInputSnapshot,new o.Reference(this,v.path),c.PRIORITY_INDEX);v.onComplete(null,!1,b)}}else{f.validateFirebaseData("transaction failed: Data returned ",_,v.path),v.status=r.RUN;var w=this.transactionQueueTree_.subTree(t),E=w.getValue()||[];E.push(v),w.setValue(E);var C=void 0;"object"==typeof _&&null!==_&&p.contains(_,".priority")?(C=p.safeGet(_,".priority"),i.assert(f.isValidPriority(C),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):C=(this.serverSyncTree_.calcCompleteEventCache(t)||y.ChildrenNode.EMPTY_NODE).getPriority().val(),C=C;var S=this.generateServerValues(),T=d.nodeFromJSON(_,C),I=h.resolveDeferredValueSnapshot(T,S);v.currentOutputSnapshotRaw=T,v.currentOutputSnapshotResolved=I,v.currentWriteId=this.getNextWriteId_();var O=this.serverSyncTree_.applyUserOverwrite(t,I,v.currentWriteId,v.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,O),this.sendReadyTransactions_()}},g.Repo.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||y.ChildrenNode.EMPTY_NODE},g.Repo.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);i.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===r.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},g.Repo.prototype.sendTransactionQueue_=function(t,e){for(var n=this,u=e.map(function(t){return t.currentWriteId}),h=this.getLatestState_(t,u),f=h,p=h.hash(),d=0;d<e.length;d++){var y=e[d];i.assert(y.status===r.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=r.SENT,y.retryCount++;var g=s.Path.relativePath(t,y.path);f=f.updateChild(g,y.currentOutputSnapshotRaw)}var v=f.val(!0),m=t;this.server_.put(m.toString(),v,function(i){n.log_("transaction put response",{path:m.toString(),status:i});var s=[];if("ok"===i){for(var u=[],h=0;h<e.length;h++){if(e[h].status=r.COMPLETED,s=s.concat(n.serverSyncTree_.ackUserWrite(e[h].currentWriteId)),e[h].onComplete){var f=e[h].currentOutputSnapshotResolved,p=new o.Reference(n,e[h].path),d=new a.DataSnapshot(f,p,c.PRIORITY_INDEX);u.push(e[h].onComplete.bind(null,null,!0,d))}e[h].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,s),h=0;h<u.length;h++)l.exceptionGuard(u[h])}else{if("datastale"===i)for(h=0;h<e.length;h++)e[h].status=e[h].status===r.SENT_NEEDS_ABORT?r.NEEDS_ABORT:r.RUN;else for(l.warn("transaction at "+m.toString()+" failed: "+i),h=0;h<e.length;h++)e[h].status=r.NEEDS_ABORT,e[h].abortReason=i;n.rerunTransactions_(t)}},p)},g.Repo.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},g.Repo.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],u=[],y=t.filter(function(t){return t.status===r.RUN}).map(function(t){return t.currentWriteId}),v=0;v<t.length;v++){var m=t[v],_=s.Path.relativePath(e,m.path),b=!1,w=void 0;if(i.assert(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===r.NEEDS_ABORT)b=!0,w=m.abortReason,u=u.concat(this.serverSyncTree_.ackUserWrite(m.currentWriteId,!0));else if(m.status===r.RUN)if(m.retryCount>=g.Repo.MAX_TRANSACTION_RETRIES_)b=!0,w="maxretry",u=u.concat(this.serverSyncTree_.ackUserWrite(m.currentWriteId,!0));else{var E=this.getLatestState_(m.path,y);m.currentInputSnapshot=E;var C=t[v].update(E.val());if(void 0!==C){f.validateFirebaseData("transaction failed: Data returned ",C,m.path);var S=d.nodeFromJSON(C);"object"==typeof C&&null!=C&&p.contains(C,".priority")||(S=S.updatePriority(E.getPriority()));var T=m.currentWriteId,I=this.generateServerValues(),O=h.resolveDeferredValueSnapshot(S,I);m.currentOutputSnapshotRaw=S,m.currentOutputSnapshotResolved=O,m.currentWriteId=this.getNextWriteId_(),y.splice(y.indexOf(T),1),u=(u=u.concat(this.serverSyncTree_.applyUserOverwrite(m.path,O,m.currentWriteId,m.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(T,!0))}else b=!0,w="nodata",u=u.concat(this.serverSyncTree_.ackUserWrite(m.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,u),u=[],b&&(t[v].status=r.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[v].unwatcher),t[v].onComplete))if("nodata"===w){var N=new o.Reference(this,t[v].path),A=new a.DataSnapshot(t[v].currentInputSnapshot,N,c.PRIORITY_INDEX);n.push(t[v].onComplete.bind(null,null,!1,A))}else n.push(t[v].onComplete.bind(null,new Error(w),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),v=0;v<n.length;v++)l.exceptionGuard(n[v]);this.sendReadyTransactions_()}},g.Repo.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},g.Repo.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},g.Repo.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},g.Repo.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,o=0;o<n.length;o++)n[o].status!==r.COMPLETED&&(n[i]=n[o],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},g.Repo.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},g.Repo.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],o=[],a=-1,s=0;s<e.length;s++)e[s].status===r.SENT_NEEDS_ABORT||(e[s].status===r.SENT?(i.assert(a===s-1,"All SENT items should be at beginning of queue."),a=s,e[s].status=r.SENT_NEEDS_ABORT,e[s].abortReason="set"):(i.assert(e[s].status===r.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),o=o.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?t.setValue(null):e.length=a+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),o),s=0;s<n.length;s++)l.exceptionGuard(n[s])}}},W4Cj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("ertD"),o=n("R3TC"),a=n("/fob");e.IndexedFilter=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,o,a,s){r.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=t.getImmediateChild(e);return u.getChild(o).equals(n.getChild(o))&&u.isEmpty()==n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(i.Change.childRemovedChange(e,u)):r.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?s.trackChildChange(i.Change.childAddedChange(e,n)):s.trackChildChange(i.Change.childChangedChange(e,n,u))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(a.PRIORITY_INDEX,function(t,r){e.hasChild(t)||n.trackChildChange(i.Change.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(a.PRIORITY_INDEX,function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(i.Change.childChangedChange(e,r,o))}else n.trackChildChange(i.Change.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?o.ChildrenNode.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}()},WH8D:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonEval=function(t){return JSON.parse(t)},e.stringify=function(t){return JSON.stringify(t)}},Wi4w:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF"),n("blHQ");var r=function(){function t(t){this.auth=t}return t.prototype.ngOnInit=function(){},t}()},X3fp:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}(n("xIGM").a)},XiwH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("W4Cj"),i=n("/fob"),o=n("p+VM"),a=n("R3TC");e.RangedFilter=function(){function t(e){this.indexedFilter_=new r.IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,s){return this.matches(new o.NamedNode(e,n))||(n=a.ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,s)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=a.ChildrenNode.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(a.ChildrenNode.EMPTY_NODE);var s=this;return e.forEachChild(i.PRIORITY_INDEX,function(t,e){s.matches(new o.NamedNode(t,e))||(r=r.updateImmediateChild(t,a.ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}()},Xp63:function(t,e,n){"use strict";function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.createSubscribe=function(t,e){var n=new i(t,e);return n.subscribe.bind(n)};var i=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(i.next=r),void 0===i.error&&(i.error=r),void 0===i.complete&&(i.complete=r);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?i.error(o.finalError):i.complete()}catch(t){}}),this.observers.push(i),a},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}},XtH8:function(t,e,n){"use strict";function r(){function t(t){return t=t||s,a(l,t)||i("no-app",{name:t}),l[t]}function e(){return Object.keys(l).map(function(t){return l[t]})}function n(t,e){Object.keys(h).forEach(function(n){var r=u(0,n);null!==r&&f[r]&&f[r](e,t)})}function u(t,e){return"serverAuth"===e?null:e}var l={},h={},f={},p={__esModule:!0,initializeApp:function(t,e){void 0===e?e=s:"string"==typeof e&&""!==e||i("bad-app-name",{name:e+""}),a(l,e)&&i("duplicate-app",{name:e});var r=new c(t,e,p);return l[e]=r,n(r,"create"),r},app:t,apps:null,Promise:Promise,SDK_VERSION:"4.8.0",INTERNAL:{registerService:function(n,r,a,s,u){h[n]&&i("duplicate-service",{name:n}),h[n]=r,s&&(f[n]=s,e().forEach(function(t){s("create",t)}));var l=function(e){return void 0===e&&(e=t()),"function"!=typeof e[n]&&i("invalid-app-argument",{name:n}),e[n]()};return void 0!==a&&Object(o.deepExtend)(l,a),p[n]=l,c.prototype[n]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,n).apply(this,u?t:[])},l},createFirebaseNamespace:r,extendNamespace:function(t){Object(o.deepExtend)(p,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:function(t){n(l[t],"delete"),delete l[t]},factories:h,useAsService:u,Promise:Promise,deepExtend:o.deepExtend}};return Object(o.patchProperty)(p,"default",p),Object.defineProperty(p,"apps",{get:e}),Object(o.patchProperty)(t,"App",c),p}function i(t,e){throw l.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n("JEJ4"),a=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s="[DEFAULT]",u=[],c=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e,this.options_=Object(o.deepCopy)(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){u.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){u=u.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=s),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==s?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;Object(o.deepExtend)(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(u.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),u=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&i("app-deleted",{name:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var l=new o.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."});n.d(e,"firebase",function(){return h});var h=r();e.default=h},Y5DG:function(t,e,n){n("OzfH")},YRqN:function(t,e,n){"use strict";e.b=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new a(t,e))}},n.d(e,"a",function(){return s});var r=n("6Xbx"),i=n("E9/g"),o=n("PAZ8"),a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))},t}(),s=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return Object(r.b)(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.a.createError(t))},e.prototype._complete=function(){this.scheduleMessage(o.a.createComplete())},e}(i.a),u=function(t,e){this.notification=t,this.destination=e}},YY8E:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.EventEmitter=function(){function t(t){this.allowedEvents_=t,this.listeners_={},r.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){r.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}()},YuZA:function(t,e,n){function r(t){var e=i[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var i={"./admin/admin.module.ngfactory":["IhXq",0],"./layout/layout.module.ngfactory":["XVMD",1]};r.keys=function(){return Object.keys(i)},r.id="YuZA",t.exports=r},Z0p1:function(t,e,n){"use strict";function r(t){return function(t){var e=new d.a(function(e){return{unsubscribe:t.onSnapshot(e)}});return m.a.call(e,new v.e(Zone.current))}(t).share()}function i(t){return r(t).map(function(t){return{payload:t,type:"value"}})}function o(t){return r(t).map(function(t){return{payload:t,type:"query"}})}function a(t){return o(t).map(function(t){return t.payload.docChanges.map(function(t){return{type:t.type,payload:t}})})}function s(t,e){return o(t).map(function(t){return t.payload.docChanges}).scan(function(t,n){return u(t,n,e)},[]).map(function(t){return t.map(function(t){return{type:t.type,payload:t}})})}function u(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=c(t,e))}),t}function c(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e);break;case"removed":t.splice(e.oldIndex,1)}return t}function l(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}function h(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}function f(t,e){return new S(t,e)}n("/9hx");var p=n("fgj+"),d=n("AP4T"),y=n("dmC+");d.a.prototype.map=y.a;var g=n("LMZF"),v=n("13je"),m=n("ozyc"),_=n("URbD");d.a.prototype.share=_.a;var b=n("6S6c");d.a.prototype.filter=b.a;var w=n("nAqi");d.a.prototype.scan=function(t,e){return arguments.length>=2?Object(w.a)(t,e)(this):Object(w.a)(t)(this)};var E=function(){function t(t,e){this.ref=t,this.query=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?a(this.query).map(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}).filter(function(t){return t.length>0}):a(this.query)},t.prototype.auditTrail=function(t){return this.stateChanges(t).scan(function(t,e){return t.concat(e)},[])},t.prototype.snapshotChanges=function(t){return t=l(t),s(this.query,t)},t.prototype.valueChanges=function(t){return o(this.query).map(function(t){return t.payload.docs.map(function(t){return t.data()})})},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new C(this.ref.doc(t))},t}(),C=function(){function t(t){this.ref=t}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=h(this.ref.collection(t),e);return new E(n.ref,n.query)},t.prototype.snapshotChanges=function(){return i(this.ref)},t.prototype.valueChanges=function(){return this.snapshotChanges().map(function(t){return t.payload.exists?t.payload.data():null})},t}(),S=function(){function t(t,e){this.app=t,this.firestore=t.firestore(),this.persistenceEnabled$=e?Object(p.a)(t.firestore().enablePersistence().then(function(){return!0},function(){return!1})):Object(p.a)(new Promise(function(t,e){t(!1)}))}return t.prototype.collection=function(t,e){var n=h(this.firestore.collection(t),e);return new E(n.ref,n.query)},t.prototype.doc=function(t){var e=this.firestore.doc(t);return new C(e)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),T=new g.o("EnablePersistenceToken"),I={provide:S,useFactory:f,deps:[v.b,T]},O=[I,{provide:T,useValue:!1}],N=function(){function t(){}return t.enablePersistence=function(){return{ngModule:v.a,providers:[{provide:T,useValue:!0},I]}},t}();n.d(e,!1,function(){return h}),n.d(e,"a",function(){return S}),n.d(e,"c",function(){return T}),n.d(e,"d",function(){return f}),n.d(e,!1,function(){return I}),n.d(e,!1,function(){return O}),n.d(e,"b",function(){return N}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return E}),n.d(e,!1,function(){return C}),n.d(e,!1,function(){return a}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return r}),n.d(e,!1,function(){return i}),n.d(e,!1,function(){return o})},ZGn5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("fvGz"),o=n("z8+r"),a=n("04zk"),s=n("43Go"),u=n("/fob");e.generateWithValues=function(t){return t=t||{},t.timestamp=t.timestamp||(new Date).getTime(),t},e.resolveDeferredValue=function(t,e){return t&&"object"==typeof t?(r.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},e.resolveDeferredValueTree=function(t,n){var r=new o.SparseSnapshotTree;return t.forEachTree(new i.Path(""),function(t,i){r.remember(t,e.resolveDeferredValueSnapshot(i,n))}),r},e.resolveDeferredValueSnapshot=function(t,n){var r,i=t.getPriority().val(),o=e.resolveDeferredValue(i,n);if(t.isLeafNode()){var c=t,l=e.resolveDeferredValue(c.getValue(),n);return l!==c.getValue()||o!==c.getPriority().val()?new a.LeafNode(l,s.nodeFromJSON(o)):t}var h=t;return r=h,o!==h.getPriority().val()&&(r=r.updatePriority(new a.LeafNode(o))),h.forEachChild(u.PRIORITY_INDEX,function(t,i){var o=e.resolveDeferredValueSnapshot(i,n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}},ZPeE:function(t,e,n){"use strict";function r(t){return u._25(0,[(t()(),u._3(0,0,null,null,3,"div",[["class","loader"]],null,null,null,null,null)),(t()(),u._23(-1,null,["\n    "])),(t()(),u._3(2,0,null,null,0,"img",[["src","../../../assets/img/loader.gif"]],null,null,null,null,null)),(t()(),u._23(-1,null,["\n  "]))],null,null)}function i(t){return u._25(0,[(t()(),u._3(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),u._23(-1,null,[" there is no cars"]))],null,null)}function o(t){return u._25(0,[(t()(),u._3(0,0,null,null,42,"tr",[["class","row"]],null,null,null,null,null)),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(2,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),u._23(3,null,["",""])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),u._23(6,null,["",""])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),u._23(9,null,["",""])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),u._23(12,null,["",""])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),u._23(15,null,["",""])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(17,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),u._23(18,null,["",""])),u._19(19,2),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(21,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),u._23(22,null,["",""])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(24,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),u._23(-1,null,["\n          "])),(t()(),u._3(26,0,null,null,1,"a",[["class","btn"],["id",""],["name",""],["role","button"]],null,null,null,null,null)),(t()(),u._23(-1,null,["Details"])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(30,0,null,null,5,"td",[],null,null,null,null,null)),(t()(),u._3(31,0,null,null,3,"a",[["class","btn btn_submit"],["id",""],["name",""],["role","button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==u._16(t,32).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),u._2(32,671744,null,0,c.m,[c.k,c.a,l.j],{routerLink:[0,"routerLink"]},null),u._17(33,2),(t()(),u._23(-1,null,["Edit"])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(37,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),u._23(-1,null,["\n            "])),(t()(),u._3(39,0,null,null,1,"a",[["class","btn btn_reset"],["id",""],["name",""],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteCar(t.context.$implicit)&&r),r},null,null)),(t()(),u._23(-1,null,["Delete"])),(t()(),u._23(-1,null,["\n          "])),(t()(),u._23(-1,null,["\n\n      "]))],function(t,e){t(e,32,0,t(e,33,0,"/admin/cars",e.context.$implicit.id))},function(t,e){t(e,3,0,e.context.index+1),t(e,6,0,e.context.$implicit.year),t(e,9,0,e.context.$implicit.make),t(e,12,0,e.context.$implicit.model),t(e,15,0,e.context.$implicit.trim),t(e,18,0,u._24(e,18,0,t(e,19,0,u._16(e.parent.parent,0),e.context.$implicit.createdAt,"short"))),t(e,22,0,e.context.$implicit.images.length),t(e,31,0,u._16(e,32).target,u._16(e,32).href)})}function a(t){return u._25(0,[(t()(),u._3(0,0,null,null,39,"div",[],null,null,null,null,null)),(t()(),u._23(-1,null,["\n  "])),(t()(),u._3(2,0,null,null,36,"table",[],null,null,null,null,null)),(t()(),u._23(-1,null,["\n    "])),(t()(),u._3(4,0,null,null,27,"thead",[],null,null,null,null,null)),(t()(),u._23(-1,null,["\n      "])),(t()(),u._3(6,0,null,null,24,"tr",[],null,null,null,null,null)),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(8,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),u._23(-1,null,["#"])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(11,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),u._23(-1,null,["Year"])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(14,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),u._23(-1,null,["Make"])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),u._23(-1,null,["Model"])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(20,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),u._23(-1,null,["Trim"])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),u._23(-1,null,["Created at"])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(26,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),u._23(-1,null,["Images Number"])),(t()(),u._23(-1,null,["\n        "])),(t()(),u._3(29,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),u._23(-1,null,["\n      "])),(t()(),u._23(-1,null,["\n    "])),(t()(),u._23(-1,null,["\n    "])),(t()(),u._3(33,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),u._23(-1,null,["\n      "])),(t()(),u.Y(16777216,null,null,1,null,o)),u._2(36,802816,null,0,l.k,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(t()(),u._23(-1,null,["\n    "])),(t()(),u._23(-1,null,["\n  "])),(t()(),u._23(-1,null,["\n"]))],function(t,e){t(e,36,0,e.component.carsList)},null)}function s(t){return u._25(0,[u._18(0,l.e,[u.s]),(t()(),u.Y(16777216,null,null,1,null,r)),u._2(2,16384,null,0,l.l,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(t()(),u._23(-1,null,["\n"])),(t()(),u.Y(16777216,null,null,1,null,i)),u._2(5,16384,null,0,l.l,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(t()(),u._23(-1,null,["\n"])),(t()(),u.Y(16777216,null,null,1,null,a)),u._2(8,16384,null,0,l.l,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(t()(),u._23(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,2,0,!n.carsList),t(e,5,0,0===(null==n.carsList?null:n.carsList.length)),t(e,8,0,null==n.carsList?null:n.carsList.length)},null)}var u=n("LMZF"),c=n("UHIZ"),l=n("Un6q"),h=n("4Tnn"),f=n("T7WB");n.d(e,"a",function(){return d});var p=u._1({encapsulation:0,styles:[[""]],data:{}}),d=u.Z("crayf-cars",h.a,function(t){return u._25(0,[(t()(),u._3(0,0,null,null,1,"crayf-cars",[],null,null,null,s,p)),u._2(1,114688,null,0,h.a,[f.a],null,null)],function(t,e){t(e,1,0)},null)},{},{},[])},b5Wm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("2BLv"),a=n("JEJ4"),s=n("p+VM"),u=n("/fob"),c=n("stu6"),l={};e.IndexMap=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return i.assert(l&&u.PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),r=r||new t({".priority":l},{".priority":u.PRIORITY_INDEX})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===l?null:e},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){i.assert(e!==c.KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],u=!1,h=n.getIterator(s.NamedNode.Wrap),f=h.getNext();f;)u=u||e.isDefinedOn(f.node),r.push(f),f=h.getNext();var p;p=u?o.buildChildSet(r,e.getCompare()):l;var d=e.toString(),y=a.clone(this.indexSet_);y[d]=e;var g=a.clone(this.indexes_);return g[d]=p,new t(g,y)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(a.map(this.indexes_,function(t,u){var c=a.safeGet(r.indexSet_,u);if(i.assert(c,"Missing index implementation for "+u),t===l){if(c.isDefinedOn(e.node)){for(var h=[],f=n.getIterator(s.NamedNode.Wrap),p=f.getNext();p;)p.name!=e.name&&h.push(p),p=f.getNext();return h.push(e),o.buildChildSet(h,c.getCompare())}return l}var d=n.get(e.name),y=t;return d&&(y=y.remove(new s.NamedNode(e.name,d))),y.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,function(t){if(t===l)return t;var r=n.get(e.name);return r?t.remove(new s.NamedNode(e.name,r)):t}),this.indexSet_)},t}()},bN85:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("R3TC"),i=n("y8hQ");e.ViewCache=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new i.CacheNode(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new i.CacheNode(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1),new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1)),t}()},blHQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n("6Xbx"),n("LMZF"),n("UHIZ");var r=n("kUdC"),i=(n.n(r),n("2LMR"),n("AP4T")),o=(n("RSzd"),n("NtEA"),function(){function t(t,e,n){var r=this;this.afAuth=t,this.fbs=e,this.router=n,this.user=this.afAuth.authState.switchMap(function(t){return t?r.getUseById(t.uid):i.a.of(null)})}return t.prototype.getUseById=function(t){return this.fbs.getDocById$("users",t)},t.prototype.googleLogin=function(){var t=new r.auth.GoogleAuthProvider;return this.oAuthLogin(t)},t.prototype.oAuthLogin=function(t){var e=this;return this.afAuth.auth.signInWithPopup(t).then(function(t){e.updateUserData(t.user)})},t.prototype.updateUserData=function(t){var e={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL};return console.log(e),this.fbs.updateDoc("users",e)},t.prototype.signOut=function(){var t=this;this.afAuth.auth.signOut().then(function(){t.router.navigate(["/cars"])})},Object.defineProperty(t.prototype,"userId",{get:function(){return this.afAuth.auth.currentUser.uid},enumerable:!0,configurable:!0}),t}())},bywS:function(t,e,n){"use strict";function r(t){return t}var i=n("wP3s");e.a=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(i.a)(r,null,t)}},cDNt:function(t,e,n){"use strict";function r(t){return o._25(0,[(t()(),o._3(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),o._23(-1,null,["\n  not-found works!\n"])),(t()(),o._23(-1,null,["\n"]))],null,null)}function i(t){return o._25(0,[(t()(),o._3(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),o._2(1,212992,null,0,s.o,[s.b,o.M,o.j,[8,null],o.h],null,null),(t()(),o._23(-1,null,["\n"]))],function(t,e){t(e,1,0)},null)}Object.defineProperty(e,"__esModule",{value:!0});var o=n("LMZF"),a=(n("6Xbx"),n("RyBE")),s=n("UHIZ"),u=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),c=function(){},l=n("13je"),h=function(){this.title="crayf"},f=n("T2Au"),p=n("fgGg"),d=function(){},y=o._1({encapsulation:0,styles:[[""]],data:{}}),g=o.Z("crayf-not-found",u,function(t){return o._25(0,[(t()(),o._3(0,0,null,null,1,"crayf-not-found",[],null,null,null,r,y)),o._2(1,114688,null,0,u,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),v=n("zdAF"),m=n("cfuN"),_=n("ZPeE"),b=o._1({encapsulation:0,styles:[[""]],data:{}}),w=o.Z("crayf-root",h,function(t){return o._25(0,[(t()(),o._3(0,0,null,null,1,"crayf-root",[],null,null,null,i,b)),o._2(1,49152,null,0,h,[],null,null)],null,null)},{},{},[]),E=n("Un6q"),C=n("0nO6"),S=n("Z0p1"),T=n("2LMR"),I=n("NtEA"),O=n("blHQ"),N=n("gcLq"),A=n("mGH2"),P=n("wnwn"),R=n("9iV4"),k=n("T7WB"),D=n("Tb9p"),x=n("hcEN"),M=n("woed"),L=n("4Tnn"),F=n("yR5I"),j=n("gF71"),V=o._0(d,[h],function(t){return o._14([o._15(512,o.j,o.W,[[8,[g,v.a,m.a,_.a,w]],[3,o.j],o.v]),o._15(5120,o.s,o._13,[[3,o.s]]),o._15(4608,E.n,E.m,[o.s,[2,E.r]]),o._15(5120,o.c,o._4,[]),o._15(5120,o.q,o._10,[]),o._15(5120,o.r,o._11,[]),o._15(4608,a.b,a.q,[E.d]),o._15(6144,o.E,null,[a.b]),o._15(4608,a.e,a.f,[]),o._15(5120,a.c,function(t,e,n,r,i){return[new a.j(t,e),new a.n(n),new a.m(r,i)]},[E.d,o.x,E.d,E.d,a.e]),o._15(4608,a.d,a.d,[a.c,o.x]),o._15(135680,a.l,a.l,[E.d]),o._15(4608,a.k,a.k,[a.d,a.l]),o._15(6144,o.C,null,[a.k]),o._15(6144,a.o,null,[a.l]),o._15(4608,o.K,o.K,[o.x]),o._15(4608,a.g,a.g,[E.d]),o._15(4608,a.h,a.h,[E.d]),o._15(5120,s.a,s.x,[s.k]),o._15(4608,s.d,s.d,[]),o._15(6144,s.f,null,[s.d]),o._15(135680,s.p,s.p,[s.k,o.u,o.i,o.p,s.f]),o._15(4608,s.e,s.e,[]),o._15(5120,s.h,s.A,[s.y]),o._15(5120,o.b,function(t){return[t]},[s.h]),o._15(4608,C.e,C.e,[]),o._15(4608,C.v,C.v,[]),o._15(5120,l.b,l.f,[l.c,l.d]),o._15(5120,S.a,S.d,[l.b,S.c]),o._15(5120,T.a,T.c,[l.b]),o._15(4608,I.a,I.a,[S.a]),o._15(4608,O.a,O.a,[T.a,I.a,s.k]),o._15(4608,N.a,N.a,[I.a]),o._15(4608,A.a,A.a,[I.a]),o._15(4608,P.a,P.a,[I.a]),o._15(5120,R.m,R.n,[]),o._15(4608,R.j,R.j,[R.m,E.d]),o._15(4608,R.i,R.r,[E.d,o.z,R.p]),o._15(4608,R.s,R.s,[R.i,R.q]),o._15(5120,R.a,function(t,e){return[new R.k(t),e]},[R.j,R.s]),o._15(4608,R.o,R.o,[]),o._15(6144,R.l,null,[R.o]),o._15(4608,R.h,R.h,[R.l]),o._15(6144,R.b,null,[R.h]),o._15(5120,R.g,R.t,[R.b,[2,R.a]]),o._15(4608,R.c,R.c,[R.g]),o._15(4608,k.a,k.a,[I.a,P.a]),o._15(4608,D.a,D.a,[R.c]),o._15(512,E.c,E.c,[]),o._15(1024,o.l,a.p,[]),o._15(1024,o.w,function(){return[s.t()]},[]),o._15(512,s.y,s.y,[o.p]),o._15(1024,o.d,function(t,e){return[a.s(t),s.z(e)]},[[2,o.w],s.y]),o._15(512,o.e,o.e,[[2,o.d]]),o._15(131584,o.g,o.g,[o.x,o.X,o.p,o.l,o.j,o.e]),o._15(512,o.f,o.f,[o.g]),o._15(512,a.a,a.a,[[3,a.a]]),o._15(1024,s.s,s.v,[[3,s.k]]),o._15(512,s.r,s.c,[]),o._15(512,s.b,s.b,[]),o._15(256,s.g,{},[]),o._15(1024,E.j,s.u,[E.p,[2,E.a],s.g]),o._15(512,E.i,E.i,[E.j]),o._15(512,o.i,o.i,[]),o._15(512,o.u,o.H,[o.i,[2,o.I]]),o._15(1024,s.i,function(){return[[{path:"",loadChildren:"./layout/layout.module#LayoutModule"},{path:"admin",loadChildren:"./admin/admin.module#AdminModule"},{path:"not-found",component:u},{path:"**",redirectTo:"not-found"}],[{path:"",component:x.a,children:[{path:"",redirectTo:"cars",pathMatch:"full"},{path:"add-car",component:M.a},{path:"cars",component:L.a},{path:"cars/:id",component:M.a}]}]]},[]),o._15(1024,s.k,s.w,[o.g,s.r,s.b,E.i,o.p,o.u,o.i,s.i,s.g,[2,s.q],[2,s.j]]),o._15(512,s.n,s.n,[[2,s.s],[2,s.k]]),o._15(512,c,c,[]),o._15(512,C.t,C.t,[]),o._15(512,C.q,C.q,[]),o._15(512,l.a,l.a,[]),o._15(512,S.b,S.b,[]),o._15(512,T.b,T.b,[]),o._15(512,C.i,C.i,[]),o._15(512,f.a,f.a,[]),o._15(512,F.a,F.a,[]),o._15(512,R.d,R.d,[]),o._15(512,R.f,R.f,[]),o._15(512,R.e,R.e,[]),o._15(512,j.a,j.a,[]),o._15(512,p.a,p.a,[]),o._15(512,d,d,[]),o._15(256,l.c,{apiKey:"AIzaSyBb4IvTgj_szibI7EUtialQ0Xp2AKKSiUE",authDomain:"rentcar-dev.firebaseapp.com",databaseURL:"https://rentcar-dev.firebaseio.com",projectId:"rentcar-dev",storageBucket:"rentcar-dev.appspot.com",messagingSenderId:"638006894157"},[]),o._15(256,l.d,void 0,[]),o._15(256,S.c,!1,[]),o._15(256,R.p,"XSRF-TOKEN",[]),o._15(256,R.q,"X-XSRF-TOKEN",[])])});Object(o.Q)(),a.i().bootstrapModuleFactory(V).catch(function(t){return console.log(t)})},"ce4+":function(t,e,n){n("usOC")},cfuN:function(t,e,n){"use strict";function r(t){return w._25(0,[(t()(),w._3(0,0,null,null,0,"img",[["class","car-images__img"]],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,0,0,e.parent.context.$implicit.src)})}function i(t){return w._25(0,[(t()(),w._3(0,0,null,null,1,"h6",[["class","car-images__heading"]],null,null,null,null,null)),(t()(),w._23(1,null,["Progress: ","% Complete"]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.progress)})}function o(t){return w._25(0,[(t()(),w._3(0,0,null,null,13,"div",[["class","car-images__preview"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n      "])),(t()(),w.Y(16777216,null,null,1,null,r)),w._2(3,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n      "])),(t()(),w.Y(16777216,null,null,1,null,i)),w._2(6,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(8,0,null,null,1,"button",[["class","btn btn_reset car-images__delete"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteImage(t.context.$implicit)&&r),r},null,null)),(t()(),w._23(-1,null,["\u0445"])),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(11,0,null,null,1,"button",[["class","btn car-images__default"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setDefaultImage(t.context.$implicit)&&r),r},null,null)),(t()(),w._23(-1,null,["v"])),(t()(),w._23(-1,null,["\n    "]))],function(t,e){t(e,3,0,null==e.context.$implicit?null:e.context.$implicit.src),t(e,6,0,e.context.$implicit.progress)},null)}function a(t){return w._25(0,[(t()(),w._3(0,0,null,null,7,"div",[["class","car-images"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n  "])),(t()(),w._3(2,0,null,null,4,"div",[["class","car-images__row"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n    "])),(t()(),w.Y(16777216,null,null,1,null,o)),w._2(5,802816,null,0,C.k,[w.M,w.J,w.q],{ngForOf:[0,"ngForOf"]},null),(t()(),w._23(-1,null,["\n  "])),(t()(),w._23(-1,null,["\n"])),(t()(),w._23(-1,null,["\n\n"]))],function(t,e){t(e,5,0,e.component.carImgList)},null)}function s(t){return w._25(0,[(t()(),w._3(0,0,null,null,3,"option",[],null,null,null,null,null)),w._2(1,147456,null,0,E.p,[w.k,w.B,[2,E.r]],{value:[0,"value"]},null),w._2(2,147456,null,0,E.w,[w.k,w.B,[8,null]],{value:[0,"value"]},null),(t()(),w._23(3,null,["\n            ","\n          "]))],function(t,e){t(e,1,0,w._6(1,"",e.context.$implicit,"")),t(e,2,0,w._6(1,"",e.context.$implicit,""))},function(t,e){t(e,3,0,e.context.$implicit)})}function u(t){return w._25(0,[(t()(),w._3(0,0,null,null,20,"div",[["class","form__group"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n        "])),(t()(),w._3(2,0,null,null,1,"label",[["class","form__label"]],[[8,"htmlFor",0]],null,null,null,null)),(t()(),w._23(3,null,["\n          ","\n        "])),(t()(),w._23(-1,null,["\n        "])),(t()(),w._3(5,0,null,null,14,"select",[["class","form__control"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==w._16(t,6).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==w._16(t,6).onTouched()&&r),"change"===e&&(r=!1!==i.onMainFormChange(t.parent.context.$implicit)&&r),r},null,null)),w._2(6,16384,null,0,E.r,[w.B,w.k],null,null),w._20(1024,null,E.j,function(t){return[t]},[E.r]),w._2(8,671744,null,0,E.f,[[3,E.c],[8,null],[8,null],[2,E.j]],{name:[0,"name"]},null),w._20(2048,null,E.k,null,[E.f]),w._2(10,16384,null,0,E.l,[E.k],null,null),(t()(),w._23(-1,null,["\n          "])),(t()(),w._3(12,0,null,null,3,"option",[],null,null,null,null,null)),w._2(13,147456,null,0,E.p,[w.k,w.B,[2,E.r]],{value:[0,"value"]},null),w._2(14,147456,null,0,E.w,[w.k,w.B,[8,null]],{value:[0,"value"]},null),(t()(),w._23(15,null,["",""])),(t()(),w._23(-1,null,["\n          "])),(t()(),w.Y(16777216,null,null,1,null,s)),w._2(18,802816,null,0,C.k,[w.M,w.J,w.q],{ngForOf:[0,"ngForOf"]},null),(t()(),w._23(-1,null,["\n        "])),(t()(),w._23(-1,null,["\n      "]))],function(t,e){t(e,8,0,w._6(1,"",e.parent.context.$implicit.name,"")),t(e,13,0,null),t(e,14,0,null),t(e,18,0,e.parent.context.$implicit.optionsList)},function(t,e){t(e,2,0,w._6(1,"",e.parent.context.$implicit.name,"")),t(e,3,0,e.parent.context.$implicit.label),t(e,5,0,w._6(1,"",e.parent.context.$implicit.name,""),w._6(1,"",e.parent.context.$implicit.name,""),w._16(e,10).ngClassUntouched,w._16(e,10).ngClassTouched,w._16(e,10).ngClassPristine,w._16(e,10).ngClassDirty,w._16(e,10).ngClassValid,w._16(e,10).ngClassInvalid,w._16(e,10).ngClassPending),t(e,15,0,e.parent.context.$implicit.placeholder)})}function c(t){return w._25(0,[(t()(),w._3(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),w._23(-1,null,["\n      "])),(t()(),w.Y(16777216,null,null,1,null,u)),w._2(3,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n    "]))],function(t,e){t(e,3,0,e.context.$implicit.optionsList||e.context.$implicit.value)},null)}function l(t){return w._25(0,[(t()(),w._3(0,0,null,null,3,"div",[["class","loader"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n    "])),(t()(),w._3(2,0,null,null,0,"img",[["src","../../../assets/img/loader.gif"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n  "]))],null,null)}function h(t){return w._25(0,[(t()(),w._3(0,0,null,null,14,null,null,null,null,null,null,null)),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(2,0,null,null,11,"div",[["class","form__group"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n        "])),(t()(),w._3(4,0,null,null,1,"label",[["class","form__label"]],[[8,"htmlFor",0]],null,null,null,null)),(t()(),w._23(5,null,["\n          ","\n        "])),(t()(),w._23(-1,null,["\n        "])),(t()(),w._3(7,0,null,null,5,"input",[["class","form__control"],["type","text"]],[[8,"name",0],[8,"id",0],[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==w._16(t,8)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==w._16(t,8).onTouched()&&r),"compositionstart"===e&&(r=!1!==w._16(t,8)._compositionStart()&&r),"compositionend"===e&&(r=!1!==w._16(t,8)._compositionEnd(n.target.value)&&r),r},null,null)),w._2(8,16384,null,0,E.d,[w.B,w.k,[2,E.a]],null,null),w._20(1024,null,E.j,function(t){return[t]},[E.d]),w._2(10,671744,null,0,E.f,[[3,E.c],[8,null],[8,null],[2,E.j]],{name:[0,"name"]},null),w._20(2048,null,E.k,null,[E.f]),w._2(12,16384,null,0,E.l,[E.k],null,null),(t()(),w._23(-1,null,["\n      "])),(t()(),w._23(-1,null,["\n    "]))],function(t,e){t(e,10,0,w._6(1,"",e.context.$implicit.name,""))},function(t,e){t(e,4,0,w._6(1,"",e.context.$implicit.name,"")),t(e,5,0,e.context.$implicit.label),t(e,7,0,w._6(1,"",e.context.$implicit.name,""),w._6(1,"",e.context.$implicit.name,""),w._6(1,"",e.context.$implicit.placeholder,""),w._16(e,12).ngClassUntouched,w._16(e,12).ngClassTouched,w._16(e,12).ngClassPristine,w._16(e,12).ngClassDirty,w._16(e,12).ngClassValid,w._16(e,12).ngClassInvalid,w._16(e,12).ngClassPending)})}function f(t){return w._25(0,[(t()(),w._3(0,0,null,null,7,"fieldset",[["formGroupName","api"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),w._2(1,212992,null,0,E.h,[[3,E.c],[8,null],[8,null]],{name:[0,"name"]},null),w._20(2048,null,E.c,null,[E.h]),w._2(3,16384,null,0,E.m,[E.c],null,null),(t()(),w._23(-1,null,["\n    "])),(t()(),w.Y(16777216,null,null,1,null,h)),w._2(6,802816,null,0,C.k,[w.M,w.J,w.q],{ngForOf:[0,"ngForOf"]},null),(t()(),w._23(-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,1,0,"api"),t(e,6,0,n.apiCarFormParams)},function(t,e){t(e,0,0,w._16(e,3).ngClassUntouched,w._16(e,3).ngClassTouched,w._16(e,3).ngClassPristine,w._16(e,3).ngClassDirty,w._16(e,3).ngClassValid,w._16(e,3).ngClassInvalid,w._16(e,3).ngClassPending)})}function p(t){return w._25(0,[(t()(),w._3(0,0,null,null,11,"div",[["class","form__group"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(2,0,null,null,1,"label",[["class","form__label"],["for","saleAmount"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n        \u0412\u0435\u043b\u0438\u0447\u0438\u043d\u0430 \u0441\u043a\u0438\u0434\u043a\u0438 %:\n      "])),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(5,0,null,null,5,"input",[["class","form__control"],["formControlName","saleAmount"],["id","saleAmount"],["name","saleAmount"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==w._16(t,6)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==w._16(t,6).onTouched()&&r),"compositionstart"===e&&(r=!1!==w._16(t,6)._compositionStart()&&r),"compositionend"===e&&(r=!1!==w._16(t,6)._compositionEnd(n.target.value)&&r),r},null,null)),w._2(6,16384,null,0,E.d,[w.B,w.k,[2,E.a]],null,null),w._20(1024,null,E.j,function(t){return[t]},[E.d]),w._2(8,671744,null,0,E.f,[[3,E.c],[8,null],[8,null],[2,E.j]],{name:[0,"name"]},null),w._20(2048,null,E.k,null,[E.f]),w._2(10,16384,null,0,E.l,[E.k],null,null),(t()(),w._23(-1,null,["\n    "]))],function(t,e){t(e,8,0,"saleAmount")},function(t,e){t(e,5,0,w._16(e,10).ngClassUntouched,w._16(e,10).ngClassTouched,w._16(e,10).ngClassPristine,w._16(e,10).ngClassDirty,w._16(e,10).ngClassValid,w._16(e,10).ngClassInvalid,w._16(e,10).ngClassPending)})}function d(t){return w._25(0,[(t()(),w._3(0,0,null,null,2,"crayf-preview-images",[],null,null,null,a,T)),w._2(1,4833280,null,0,S.a,[w.k],{carImgList:[0,"carImgList"]},null),(t()(),w._23(-1,null,["\n    \n    "]))],function(t,e){t(e,1,0,e.component.carImgList)},null)}function y(t){return w._25(0,[(t()(),w._3(0,0,null,null,62,"fieldset",[["formGroupName","custom"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),w._2(1,212992,null,0,E.h,[[3,E.c],[8,null],[8,null]],{name:[0,"name"]},null),w._20(2048,null,E.c,null,[E.h]),w._2(3,16384,null,0,E.m,[E.c],null,null),(t()(),w._23(-1,null,["\n    "])),(t()(),w._3(5,0,null,null,11,"div",[["class","form__group"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(7,0,null,null,1,"label",[["class","form__label"],["for","isAirConditioning"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n        \u041a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440:\n      "])),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(10,0,null,null,5,"input",[["class","form__control"],["formControlName","isAirConditioning"],["id","isAirConditioning"],["name","isAirConditioning"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==w._16(t,11).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==w._16(t,11).onTouched()&&r),r},null,null)),w._2(11,16384,null,0,E.b,[w.B,w.k],null,null),w._20(1024,null,E.j,function(t){return[t]},[E.b]),w._2(13,671744,null,0,E.f,[[3,E.c],[8,null],[8,null],[2,E.j]],{name:[0,"name"]},null),w._20(2048,null,E.k,null,[E.f]),w._2(15,16384,null,0,E.l,[E.k],null,null),(t()(),w._23(-1,null,["\n    "])),(t()(),w._23(-1,null,["\n    "])),(t()(),w._3(18,0,null,null,11,"div",[["class","form__group"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(20,0,null,null,1,"label",[["class","form__label"],["for","isSale"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n        \u0421\u043a\u0438\u0434\u043a\u0430:\n      "])),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(23,0,[["isSale",1]],null,5,"input",[["class","form__control"],["formControlName","isSale"],["id","isSale"],["name","isSale"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==w._16(t,24).onChange(n.target.checked)&&r),"blur"===e&&(r=!1!==w._16(t,24).onTouched()&&r),r},null,null)),w._2(24,16384,null,0,E.b,[w.B,w.k],null,null),w._20(1024,null,E.j,function(t){return[t]},[E.b]),w._2(26,671744,null,0,E.f,[[3,E.c],[8,null],[8,null],[2,E.j]],{name:[0,"name"]},null),w._20(2048,null,E.k,null,[E.f]),w._2(28,16384,null,0,E.l,[E.k],null,null),(t()(),w._23(-1,null,["\n    "])),(t()(),w._23(-1,null,["\n    "])),(t()(),w.Y(16777216,null,null,1,null,p)),w._2(32,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n"])),(t()(),w._23(-1,null,["\n    "])),(t()(),w._3(35,0,null,null,1,"h3",[["class","car-images__heading"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u043e\u0442\u043e \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f:"])),(t()(),w._23(-1,null,["\n    "])),(t()(),w.Y(16777216,null,null,1,null,d)),w._2(39,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n    "])),(t()(),w._3(41,0,null,null,6,"div",[["class","car-images__group"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(43,0,null,null,1,"label",[["class","car-images__btn btn_submit"],["for","image"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n        +Add photo\n      "])),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(46,0,null,null,0,"input",[["class","car-images__input"],["id","image"],["multiple",""],["name","image"],["type","file"]],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.addImages(n.target)&&r),r},null,null)),(t()(),w._23(-1,null,["\n    "])),(t()(),w._23(-1,null,["\n    "])),(t()(),w._3(49,0,null,null,12,"div",[["class","form__group"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(51,0,null,null,1,"label",[["class","form__label"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n        \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:\n      "])),(t()(),w._23(-1,null,["\n      "])),(t()(),w._3(54,0,null,null,6,"textarea",[["class","form__control form__control_textarea"],["formControlName","additionalInfo"],["name","additionalInfo"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==w._16(t,55)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==w._16(t,55).onTouched()&&r),"compositionstart"===e&&(r=!1!==w._16(t,55)._compositionStart()&&r),"compositionend"===e&&(r=!1!==w._16(t,55)._compositionEnd(n.target.value)&&r),r},null,null)),w._2(55,16384,null,0,E.d,[w.B,w.k,[2,E.a]],null,null),w._20(1024,null,E.j,function(t){return[t]},[E.d]),w._2(57,671744,null,0,E.f,[[3,E.c],[8,null],[8,null],[2,E.j]],{name:[0,"name"]},null),w._20(2048,null,E.k,null,[E.f]),w._2(59,16384,null,0,E.l,[E.k],null,null),(t()(),w._23(-1,null,["        \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\n      "])),(t()(),w._23(-1,null,["\n    "])),(t()(),w._23(-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,1,0,"custom"),t(e,13,0,"isAirConditioning"),t(e,26,0,"isSale"),t(e,32,0,w._16(e,23).checked),t(e,39,0,n.carImgList),t(e,57,0,"additionalInfo")},function(t,e){t(e,0,0,w._16(e,3).ngClassUntouched,w._16(e,3).ngClassTouched,w._16(e,3).ngClassPristine,w._16(e,3).ngClassDirty,w._16(e,3).ngClassValid,w._16(e,3).ngClassInvalid,w._16(e,3).ngClassPending),t(e,10,0,w._16(e,15).ngClassUntouched,w._16(e,15).ngClassTouched,w._16(e,15).ngClassPristine,w._16(e,15).ngClassDirty,w._16(e,15).ngClassValid,w._16(e,15).ngClassInvalid,w._16(e,15).ngClassPending),t(e,23,0,w._16(e,28).ngClassUntouched,w._16(e,28).ngClassTouched,w._16(e,28).ngClassPristine,w._16(e,28).ngClassDirty,w._16(e,28).ngClassValid,w._16(e,28).ngClassInvalid,w._16(e,28).ngClassPending),t(e,54,0,w._16(e,59).ngClassUntouched,w._16(e,59).ngClassTouched,w._16(e,59).ngClassPristine,w._16(e,59).ngClassDirty,w._16(e,59).ngClassValid,w._16(e,59).ngClassInvalid,w._16(e,59).ngClassPending)})}function g(t){return w._25(0,[(t()(),w._3(0,0,null,null,1,"button",[["class","btn btn_submit"],["type","submit"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSubmit()&&r),r},null,null)),(t()(),w._23(-1,null,["\n        \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c\n      "]))],null,null)}function v(t){return w._25(0,[(t()(),w._3(0,0,null,null,1,"button",[["class","btn btn_reset"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onReset()&&r),r},null,null)),(t()(),w._23(-1,null,["\n        \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443\n      "]))],null,null)}function m(t){return w._25(0,[(t()(),w._3(0,0,null,null,32,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==w._16(t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==w._16(t,2).onReset()&&r),r},null,null)),w._2(1,16384,null,0,E.u,[],null,null),w._2(2,540672,null,0,E.g,[[8,null],[8,null]],{form:[0,"form"]},null),w._20(2048,null,E.c,null,[E.g]),w._2(4,16384,null,0,E.m,[E.c],null,null),(t()(),w._23(-1,null,["\n  "])),(t()(),w._3(6,0,null,null,7,"fieldset",[["formGroupName","main"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),w._2(7,212992,null,0,E.h,[[3,E.c],[8,null],[8,null]],{name:[0,"name"]},null),w._20(2048,null,E.c,null,[E.h]),w._2(9,16384,null,0,E.m,[E.c],null,null),(t()(),w._23(-1,null,["\n    "])),(t()(),w.Y(16777216,null,null,1,null,c)),w._2(12,802816,null,0,C.k,[w.M,w.J,w.q],{ngForOf:[0,"ngForOf"]},null),(t()(),w._23(-1,null,["\n  "])),(t()(),w._23(-1,null,["\n  "])),(t()(),w.Y(16777216,null,null,1,null,l)),w._2(16,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n  "])),(t()(),w.Y(16777216,null,null,1,null,f)),w._2(19,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n\n  "])),(t()(),w.Y(16777216,null,null,1,null,y)),w._2(22,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n  "])),(t()(),w._3(24,0,null,null,7,"div",[["class","form__btn"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n      "])),(t()(),w.Y(16777216,null,null,1,null,g)),w._2(27,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n      "])),(t()(),w.Y(16777216,null,null,1,null,v)),w._2(30,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n    "])),(t()(),w._23(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,2,0,n.carForm),t(e,7,0,"main"),t(e,12,0,n.mainCarFormParams),t(e,16,0,n.isShowSelectLoader),t(e,19,0,n.mainCarForm.valid),t(e,22,0,n.mainCarForm.valid&&n.apiCarForm.valid),t(e,27,0,n.carForm.valid),t(e,30,0,n.mainCarForm.controls.year.value)},function(t,e){t(e,0,0,w._16(e,4).ngClassUntouched,w._16(e,4).ngClassTouched,w._16(e,4).ngClassPristine,w._16(e,4).ngClassDirty,w._16(e,4).ngClassValid,w._16(e,4).ngClassInvalid,w._16(e,4).ngClassPending),t(e,6,0,w._16(e,9).ngClassUntouched,w._16(e,9).ngClassTouched,w._16(e,9).ngClassPristine,w._16(e,9).ngClassDirty,w._16(e,9).ngClassValid,w._16(e,9).ngClassInvalid,w._16(e,9).ngClassPending)})}function _(t){return w._25(0,[(t()(),w._3(0,0,null,null,5,"div",[["class","loader"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n  "])),(t()(),w._3(2,0,null,null,0,"img",[["src","../../../assets/img/loader.gif"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n  "])),(t()(),w._3(4,0,null,null,0,"img",[["src","../../../assets/img/loader.gif"]],null,null,null,null,null)),(t()(),w._23(-1,null,["\n"]))],null,null)}function b(t){return w._25(0,[(t()(),w.Y(16777216,null,null,1,null,m)),w._2(1,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n"])),(t()(),w.Y(16777216,null,null,1,null,_)),w._2(4,16384,null,0,C.l,[w.M,w.J],{ngIf:[0,"ngIf"]},null),(t()(),w._23(-1,null,["\n  \n  \n  "]))],function(t,e){var n=e.component;t(e,1,0,!n.isShowPageLoader),t(e,4,0,n.isShowPageLoader)},null)}var w=n("LMZF"),E=n("0nO6"),C=n("Un6q"),S=n("NomC"),T=w._1({encapsulation:0,styles:[[".test[_ngcontent-%COMP%]{margin-bottom:30px}"]],data:{}}),I=n("woed"),O=n("UHIZ"),N=n("Tb9p"),A=n("T7WB");n.d(e,"a",function(){return R});var P=w._1({encapsulation:0,styles:[[".form[_ngcontent-%COMP%]{margin:10px 30px}.form__group[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:10px 20px}.form__label[_ngcontent-%COMP%]{width:30%;-webkit-box-flex:0;-ms-flex:0 1 300px;flex:0 1 300px}.form__alert[_ngcontent-%COMP%]{padding-left:320px;color:red}.form__control[_ngcontent-%COMP%]{width:50%;-webkit-box-flex:1;-ms-flex:1 1 300px;flex:1 1 300px;padding:6px 0 4px 10px;border:1px solid #cecece;background:#f6f6f6;border-radius:8px;outline:none}.form__control.ng-touched.ng-invalid[_ngcontent-%COMP%]{border-left:4px solid red}.form__control.ng-valid[_ngcontent-%COMP%]{border-left:4px solid #90ee90}.form__control_textarea[_ngcontent-%COMP%]{height:5rem}.form__btn[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:5px 20px;margin:20px;font-size:16px;font-weight:700;border:1px solid #ccc;background:#fff;color:#666;border-radius:5px;box-shadow:inset 0 2px 2px #ccc;cursor:pointer}.btn_submit[_ngcontent-%COMP%]{background:#adff2f}.btn_reset[_ngcontent-%COMP%]{background:red}.btn[_ngcontent-%COMP%]:disabled{background:#fff;cursor:not-allowed}.loader[_ngcontent-%COMP%]{text-align:center}"]],data:{}}),R=w.Z("crayf-add-edit-car",I.a,function(t){return w._25(0,[(t()(),w._3(0,0,null,null,1,"crayf-add-edit-car",[],null,null,null,b,P)),w._2(1,245760,null,0,I.a,[E.e,O.a,N.a,A.a],null,null)],function(t,e){t(e,1,0)},null)},{},{},[])},cm6g:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/HC2");e.StatsManager=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new r.StatsCollection),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}()},ctu8:function(t,e){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){if(t.call(r,e[i],i,e))return i;i++}return-1}})},dVae:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("isNy"),o=n("fvGz"),a=n("F1yO"),s=n("JEJ4"),u=function(){return r||(r=new i.SortedMap(a.stringCompare)),r};e.ImmutableTree=function(){function t(t,e){void 0===e&&(e=u()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return s.forEach(e,function(t,e){n=n.set(new o.Path(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:o.Path.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new o.Path(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(o.Path.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,o.Path.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,o.Path.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(o.Path.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}()},"dmC+":function(t,e,n){"use strict";var r=n("6Xbx"),i=n("E9/g"),o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return Object(r.b)(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a);e.a=function(t,e){return function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}(t,e)(this)}},"e9+7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){for(var e=[],n=0,r=0;r<t.length;r++){for(var i=t.charCodeAt(r);i>255;)e[n++]=255&i,i>>=8;e[n++]=i}return e};e.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){if(t.length<8192)return String.fromCharCode.apply(null,t);for(var e="",n=0;n<t.length;n+=8192){var r=t.slice(n,n+8192);e+=String.fromCharCode.apply(null,r)}return e}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},e.base64Encode=function(t){var n=r(t);return e.base64.encodeByteArray(n,!0)},e.base64Decode=function(t){try{return e.base64.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}},eL9U:function(t,e,n){"use strict";var r=n("wP3s");e.a=function(t,e){return function(t,e){return Object(r.a)(t,e,1)}(t,e)(this)}},ertD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Change=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}()},fAJX:function(t,e,n){(function(t){var e=function(){if(void 0!==t)return t;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self;throw new Error("unable to locate global object")}();"undefined"==typeof Promise&&(e.Promise=Promise=n("mNfF"))}).call(e,n("fRUx"))},fRUx:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},fgGg:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF"),n("Un6q"),n("hcEN"),n("yR5I"),n("Wi4w"),n("VS+H"),n("4Tnn"),n("woed"),n("T2Au"),n("gF71"),n("NomC");var r=function(){}},"fgj+":function(t,e,n){"use strict";var r=n("6Xbx"),i=n("1j/l"),o=n("kQVV"),a=n("mHG6"),s=n("KRwF"),u=n("xIGM"),c=n("AP4T"),l=n("X3fp"),h=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=function(t){var e=t[l.a];if(!e&&"string"==typeof t)return new f(t);if(!e&&void 0!==t.length)return new p(t);if(!e)throw new TypeError("object is not iterable");return t[l.a]()}(e)}return Object(r.b)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.iterator,r=t.subscriber;if(t.hasError)r.error(t.error);else{var i=n.next();i.done?r.complete():(r.next(i.value),t.index=e+1,r.closed?"function"==typeof n.return&&n.return():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this.iterator,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n.return&&n.return();break}}},e}(c.a),f=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),p=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=function(e){var n=+t.length;return isNaN(n)?0:0!==n&&"number"==typeof n&&u.a.isFinite(n)?(n=function(t){var e=+n;return 0===e?e:isNaN(e)?e:e<0?-1:1}()*Math.floor(Math.abs(n)))<=0?0:n>d?d:n:n}()),this.arr=t,this.idx=e,this.len=n}return t.prototype[l.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1,y=n("Oryw"),g=n("8Ut3"),v=n("Ecq+"),m=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(r.b)(e,t),e.create=function(t,n){var r=t.length;return 0===r?new v.a:1===r?new g.a(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.subscriber;r.closed||(n>=t.length?r.complete():(r.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.arrayLike,r=this.scheduler,i=n.length;if(r)return r.schedule(e.dispatch,0,{arrayLike:n,index:0,length:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}(c.a),_=n("YRqN"),b=n("mz3w"),w=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return Object(r.b)(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[b.a])return t instanceof c.a&&!n?t:new e(t,n);if(Object(i.a)(t))return new y.a(t,n);if(Object(a.a)(t))return new s.a(t,n);if("function"==typeof t[l.a]||"string"==typeof t)return new h(t,n);if(Object(o.a)(t))return new m(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[b.a]().subscribe(t):e[b.a]().subscribe(new _.a(t,n,0))},e}(c.a);n.d(e,"a",function(){return E});var E=w.create},fvGz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),i=n("JEJ4");e.Path=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),o=0;o<n.length&&o<i.length;o++){var a=r.nameCompare(n[o],i[o]);if(0!==a)return a}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),e.ValidationPath=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=i.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=i.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=i.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}()},gF71:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF"),n("Un6q"),n("T7WB"),n("9iV4"),n("Tb9p");var r=function(){}},gOHv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(e.OperationType||(e.OperationType={})),e.OperationSource=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,r.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}()},gcLq:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF"),n("NtEA");var r=function(){function t(t){this.fbs=t}return t.prototype.getCars$=function(){return this.fbs.getCollection$("cars",this.carQueryFn)},t.prototype.getCarById$=function(t){return this.fbs.getDocById$("cars",t)},t.prototype.carQueryFn=function(t){return t.orderBy("year","desc")},t}()},grVA:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},hFw6:function(t,e,n){"use strict";function r(){return Ct}function i(t){Ct=t}function o(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Ct<=Et.DEBUG){var i=(new Date).toISOString(),o=n.map(s);console.log.apply(console,["Firestore ("+wt+") "+i+" ["+t+"]: "+e].concat(o))}}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ct<=Et.ERROR){var r=(new Date).toISOString(),i=e.map(s);console.error.apply(console,["Firestore ("+wt+") "+r+": "+t].concat(i))}}function s(t){if("string"==typeof t)return t;var e=St.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function u(t){var e="FIRESTORE ("+wt+") INTERNAL ASSERTION FAILED: "+t;throw a(e),new Error(e)}function c(t,e){t||u(e)}function l(){return St.getPlatform().emptyByteString}function h(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new Ot(It.INVALID_ARGUMENT,t)}n.prototype=t.prototype;for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=parseInt(n,10);isNaN(r)||e(r,t[n])}}function d(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y(t){c(null!=t&&"object"==typeof t,"isEmpty() expects object parameter.");for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function g(t){c(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function v(t,e,n){if(e.length!==n)throw new Ot(It.INVALID_ARGUMENT,"Function "+t+"() requires "+R(n,"argument")+", but was called with "+R(e.length,"argument")+".")}function m(t,e,n){if(e.length<n)throw new Ot(It.INVALID_ARGUMENT,"Function "+t+"() requires at least "+R(n,"argument")+", but was called with "+R(e.length,"argument")+".")}function _(t,e,n,r){if(e.length<n||e.length>r)throw new Ot(It.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+R(e.length,"argument")+".")}function b(t,e,n,r){S(t,e,P(n)+" argument",r)}function w(t,e,n,r){void 0!==r&&b(t,e,n,r)}function E(t,e,n,r){S(t,e,n+" option",r)}function C(t,e,n,r){void 0!==r&&E(t,e,n,r)}function S(t,e,n,r){if(typeof r!==e||"object"===e&&!T(r)){var i=I(r);throw new Ot(It.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function T(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function I(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(e){if(t.constructor){var n=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(n&&n.length>1)return n[1]}return null}();return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":u("Unknown wrong type: "+typeof t)}function O(t,e,n){if(void 0===n)throw new Ot(It.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+P(e)+" argument, but it was undefined.")}function N(t,e,n){d(e,function(e,r){if(n.indexOf(e)<0)throw new Ot(It.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function A(t,e,n,r){var i=I(r);return new Ot(It.INVALID_ARGUMENT,"Function "+t+"() requires its "+P(n)+" argument to be a "+e+", but it was: "+i)}function P(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function R(t,e){return t+" "+e+(1===t?"":"s")}function k(t,e){return t<e?-1:t>e?1:0}function D(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}function x(){if("undefined"==typeof Uint8Array)throw new Ot(It.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function M(){if(!St.getPlatform().base64Available)throw new Ot(It.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function L(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function F(t){return null===t||void 0===t}function j(t){switch(t){case It.OK:return u("Treated status OK as error");case It.CANCELLED:case It.UNKNOWN:case It.DEADLINE_EXCEEDED:case It.RESOURCE_EXHAUSTED:case It.INTERNAL:case It.UNAVAILABLE:case It.UNAUTHENTICATED:return!1;case It.INVALID_ARGUMENT:case It.NOT_FOUND:case It.ALREADY_EXISTS:case It.PERMISSION_DENIED:case It.FAILED_PRECONDITION:case It.ABORTED:case It.OUT_OF_RANGE:case It.UNIMPLEMENTED:case It.DATA_LOSS:return!0;default:return u("Unknown status code: "+t)}}function V(t){if(void 0===t)return a("GRPC error has no .code"),It.UNKNOWN;switch(t){case Te.OK:return It.OK;case Te.CANCELLED:return It.CANCELLED;case Te.UNKNOWN:return It.UNKNOWN;case Te.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case Te.INTERNAL:return It.INTERNAL;case Te.UNAVAILABLE:return It.UNAVAILABLE;case Te.UNAUTHENTICATED:return It.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case Te.NOT_FOUND:return It.NOT_FOUND;case Te.ALREADY_EXISTS:return It.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return It.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case Te.ABORTED:return It.ABORTED;case Te.OUT_OF_RANGE:return It.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return It.UNIMPLEMENTED;case Te.DATA_LOSS:return It.DATA_LOSS;default:return u("Unknown status code: "+t)}}function U(){return Be}function B(){return qe}function q(){return We}function W(){return He}function H(t,e){e.length>0&&(t.resumeToken=e)}function G(t,e){c(!F(t),e+" is missing")}function K(t){return"number"==typeof t?t:"string"==typeof t?parseInt(t,10):u("can't parse "+t)}function Q(t,e,n){return e===n||!e&&n in t}function z(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=J(e)),e=function(t,n){for(var r=e,i=t.length,o=0;o<i;o++){var a=t.charAt(o);switch(a){case"\0":r+=Ln+jn;break;case Ln:r+=Ln+Vn;break;default:r+=a}}return r}(t.get(n));return J(e)}function J(t){return t+Ln+Fn}function X(t){var e=t.length;if(c(e>=2,"Invalid path "+t),2===e)return c(t.charAt(0)===Ln&&t.charAt(1)===Fn,"Non-empty path "+t+" had length 2"),Lt.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(Ln,o);switch((a<0||a>n)&&u('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case Fn:var s=t.substring(o,a),l=void 0;0===i.length?l=s:(l=i+=s,i=""),r.push(l);break;case jn:i+=t.substring(o,a),i+="\0";break;case Vn:i+=t.substring(o,a+1);break;default:u('Invalid encoded resource path: "'+t+'"')}o=a+2}return new Lt(r)}function Y(t,e){c(0===e,"Unexpected upgrade from version "+e),t.createObjectStore(qn.store,{keyPath:qn.keyPath}),t.createObjectStore(Wn.store,{keyPath:Wn.keyPath}),t.createObjectStore(Qn.store,{keyPath:Qn.keyPath}).createIndex(Qn.documentTargetsIndex,Qn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.queryTargetsIndexName,Kn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Hn.store),t.createObjectStore(Gn.store),t.createObjectStore(Bn.store),t.createObjectStore(zn.store)}function Z(t){return new wn(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}function $(t){return c("string"==typeof t,"Persisting non-string stream token not supported."),t}function tt(t){return rt(t,Wn.store)}function et(t){return rt(t,Hn.store)}function nt(t){return rt(t,qn.store)}function rt(t,e){return t instanceof $n?t.store(e):u("Invalid transaction object provided!")}function it(t){return st(t,Kn.store)}function ot(t){return st(t,zn.store)}function at(t){return st(t,Qn.store)}function st(t,e){return t instanceof $n?t.store(e):u("Invalid transaction object provided!")}function ut(t){return t instanceof $n?t.store(Gn.store):u("Invalid transaction object provided!")}function ct(t){return t.path.toArray()}function lt(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t,["next","error","complete"])}function ht(t){switch(t){case br.Set:case br.MergeSet:case br.Update:return!0;case br.QueryValue:return!1;default:throw u("Unexpected case for UserDataSource: "+t)}}function ft(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof At||t instanceof zr||t instanceof Ur)}function pt(t,e,n){if(!ft(n)||!T(n)){var r=I(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function dt(t,e){if(e instanceof hn)return e._internalPath;if("string"==typeof e)return yt(t,e);throw new Ot(It.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function yt(t,e){try{return function(t){if(t.search(fn)>=0)throw new Ot(It.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(hn.bind.apply(hn,[void 0].concat(t.split("."))))}catch(e){throw new Ot(It.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=gt(e);throw new Ot(It.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function gt(t){return t instanceof Error?t.message:t.toString()}function vt(t,e){return void 0===e?{merge:!1}:(N(t,e,["merge"]),C(t,"boolean","merge",e.merge),e)}function mt(t,e,n){if(e instanceof ii){if(e.firestore!==n)throw new Ot(It.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw A(t,"DocumentReference",1,e)}function _t(t){t.INTERNAL.registerService("firestore",function(t){return new ei(t)},g(vi))}Object.defineProperty(e,"__esModule",{value:!0});var bt=n("XtH8"),wt=bt.default.SDK_VERSION,Et=function(){var t={};return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}(),Ct=Et.ERROR,St=function(){function t(){}return t.setPlatform=function(e){t.platform&&u("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||u("Platform not set"),t.platform},t}(),Tt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ot=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Tt(e,t),e}(Error),Nt=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return c(20===e.length,"Invalid auto ID: "+e),e},t}(),At=function(){function t(t){M(),this._binaryString=t}return t.fromBase64String=function(e){v("Blob.fromBase64String",arguments,1),b("Blob.fromBase64String","string",1,e),M();try{return new t(St.getPlatform().atob(e))}catch(t){throw new Ot(It.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(v("Blob.fromUint8Array",arguments,1),x(),!(e instanceof Uint8Array))throw A("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return v("Blob.toBase64",arguments,0),M(),St.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){v("Blob.toUint8Array",arguments,0),x();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype._equals=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return k(this._binaryString,t._binaryString)},t}(),Pt=h(At,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Rt=function(){function t(t,e){if(v("GeoPoint",arguments,2),b("GeoPoint","number",1,t),b("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new Ot(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ot(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype._equals=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return k(this._lat,t._lat)||k(this._long,t._long)},t}(),kt="(default)",Dt=function(){function t(t,e){this.projectId=t,this.database=e||kt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===kt},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return k(this.projectId,t.projectId)||k(this.database,t.database)},t}(),xt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&u("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&u("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):u("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,c(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return c(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return c(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return c(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return c(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new Ot(It.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(Mt),Ft=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xt(e,t),e.isValidIdentifier=function(t){return Ft.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ot(It.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Ot(It.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ot(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ot(It.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(Mt),Vt=function(){function t(e){this.path=e,c(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.equals=function(t){return null!==t&&0===Lt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Lt.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Lt(e.slice()))},t.fromPathString=function(e){return new t(Lt.fromString(e))},t.EMPTY=new t(new Lt([])),t}(),Ut=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.version.equals(e.version)&&this.data.equals(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return Vt.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):u("Trying to compare documents on fields that don't exist")},t}(),Bt=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.equals=function(t){return t&&t.version.equals(this.version)&&t.key.equals(this.key)},t.compareByKey=function(t,e){return Vt.comparator(t.key,e.key)},t}(),qt=function(){function t(t,e){this.comparator=t,this.root=e||Ht.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e=this.root,n=null;!e.isEmpty();){var r=this.comparator(t,e.key);if(0===r){if(e.left.isEmpty())return n?n.key:null;for(e=e.left;!e.right.isEmpty();)e=e.right;return e.key}r<0?e=e.left:r>0&&(n=e,e=e.right)}throw u("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Wt(this.root,null,this.comparator,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Wt(this.root,t,this.comparator,!1,e)},t.prototype.getReverseIterator=function(t){return new Wt(this.root,null,this.comparator,!0,t)},t.prototype.getReverseIteratorFrom=function(t,e){return new Wt(this.root,t,this.comparator,!0,e)},t}(),Wt=function(){function t(t,e,n,r,i){this.resultGenerator=i||null,this.isReverse=r,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){c(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t,e=this.nodeStack.pop();if(t=this.resultGenerator?this.resultGenerator(e.key,e.value):{key:e.key,value:e.value},this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return this.resultGenerator?this.resultGenerator(t.key,t.value):{key:t.key,value:t.value}},t}(),Ht=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw u("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw u("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw u("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();Ht.EMPTY=new(function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ht(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Gt,Kt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(Gt||(Gt={}));var Qt,zt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return c(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),k(this.typeOrder,t.typeOrder)},t}(),Jt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Gt.NullValue,e.internalValue=null,e}return Kt(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(zt),Xt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Gt.BooleanValue,n}return Kt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?k(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(zt),Yt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Gt.NumberValue,n}return Kt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?function(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(zt),Zt=function(t){function e(e){return t.call(this,e)||this}return Kt(e,t),e.prototype.equals=function(t){return t instanceof e&&L(this.internalValue,t.internalValue)},e}(Yt),$t=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return Kt(e,t),e.prototype.equals=function(t){return t instanceof e&&L(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Yt),te=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Gt.StringValue,n}return Kt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?k(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(zt),ee=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Gt.TimestampValue,n}return Kt(e,t),e.prototype.value=function(){return this.internalValue.toDate()},e.prototype.equals=function(t){return t instanceof e&&this.internalValue.equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.compareTo(t.internalValue):t instanceof ne?-1:this.defaultCompareTo(t)},e}(zt),ne=function(t){function e(e){var n=t.call(this)||this;return n.localWriteTime=e,n.typeOrder=Gt.TimestampValue,n}return Kt(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e&&this.localWriteTime.equals(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime.compareTo(t.localWriteTime):t instanceof ee?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(zt),re=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Gt.BlobValue,n}return Kt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue._equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(zt),ie=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Gt.RefValue,r}return Kt(e,t),e.prototype.value=function(){return this.key},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.databaseId.equals(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:Vt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(zt),oe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Gt.GeoPointValue,n}return Kt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue._equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(zt),ae=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Gt.ObjectValue,n}return Kt(e,t),e.prototype.value=function(){var t={};return this.internalValue.inorderTraversal(function(e,n){t[e]=n.value()}),t},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.equals=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.equals(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=k(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return k(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(c(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(c(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){c(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t)||void 0:void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new qt(k)),e}(zt),se=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Gt.ArrayValue,n}return Kt(e,t),e.prototype.value=function(){return this.internalValue.map(function(t){return t.value()})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.equals=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].equals(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return k(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(zt),ue=Number,ce=ue.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),le=ue.MAX_SAFE_INTEGER||Math.pow(2,53)-1,he=ue.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},fe=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[be]:[new _e(t),be];else{c(null===t||null!==e&&t.equals(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ve.ASCENDING)===ve.ASCENDING?be:we)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){c(null==this.getInequalityFilterField()||!(e instanceof de)||!e.isInequality()||e.field.equals(this.getInequalityFilterField()),"Query must only have one inequality field."),c(!Vt.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){c(!Vt.isDocumentKey(this.path),"No ordering allowed for document query"),c(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";F(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),F(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.equals=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].equals(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].equals(t.filters[e]))return!1;return!!this.path.equals(t.path)&&!(null!==this.startAt?!this.startAt.equals(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.equals(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return c(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!F(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof de&&n.isInequality())return n.field}return null},t.prototype.isDocumentQuery=function(){return Vt.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return Vt.isDocumentKey(this.path)?this.path.equals(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){c(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),pe=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;default:return u("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.equals=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t}(),de=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){c(this.value instanceof ie,"Comparing on key, but filter value not a RefValue");var e=Vt.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},t.prototype.matchesValue=function(t){return this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case pe.LESS_THAN:return t<0;case pe.LESS_THAN_OR_EQUAL:return t<=0;case pe.EQUAL:return 0===t;case pe.GREATER_THAN:return t>0;case pe.GREATER_THAN_OR_EQUAL:return t>=0;default:return u("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==pe.EQUAL},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.equals=function(e){return e instanceof t&&this.op.equals(e.op)&&this.field.equals(e.field)&&this.value.equals(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(),ye=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}(),ge=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}(),ve=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),me=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){c(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())c(o instanceof ie,"Bound has a non-key value where the key path is being used."),n=Vt.comparator(o.key,e.key);else{var a=e.field(i.field);c(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===ve.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.equals=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].equals(t.position[e]);return!0},t}(),_e=function(){function t(t,e){this.field=t,void 0===e&&(e=ve.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?Ut.compareByKey(t,e):Ut.compareByField(this.field,t,e);switch(this.dir){case ve.ASCENDING:return n;case ve.DESCENDING:return-1*n;default:return u("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.equals=function(t){return this.dir===t.dir&&this.field.equals(t.field)},t}(),be=new _e(jt.keyField(),ve.ASCENDING),we=new _e(jt.keyField(),ve.DESCENDING),Ee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),Ce=function(){function t(t,e){this.seconds=t,this.nanos=e,c(e>=0,"timestamp nanoseconds out of range: "+e),c(e<1e9,"timestamp nanoseconds out of range"+e),c(t>=-62135596800,"timestamp seconds out of range: "+t),c(t<253402300800,"timestamp seconds out of range"+t)}return t.now=function(){return t.fromEpochMilliseconds(Date.now())},t.fromDate=function(e){return t.fromEpochMilliseconds(e.getTime())},t.fromEpochMilliseconds=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.fromISOString=function(e){var n=0,r=Ee.exec(e);if(c(!!r,"invalid timestamp: "+e),r[1]){var i=r[1];i=(i+"000000000").substr(0,9),n=parseInt(i,10)}var o=new Date(e);return new t(Math.floor(o.getTime()/1e3),n)},t.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},t.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},t.prototype.compareTo=function(t){return this.seconds===t.seconds?k(this.nanos,t.nanos):k(this.seconds,t.seconds)},t.prototype.equals=function(t){return t.seconds===this.seconds&&t.nanos===this.nanos},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},t}(),Se=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Ce(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp.compareTo(t.timestamp)},t.prototype.equals=function(t){return this.timestamp.equals(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Ce(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(Qt||(Qt={}));var Te,Ie=function(){function t(t,e,n,r,i){void 0===r&&(r=Se.MIN),void 0===i&&(i=l()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.equals=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.equals(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.equals(t.query)},t}(),Oe=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ne=function(){function t(t){this.fields=t}return t.prototype.equals=function(t){return D(this.fields,t.fields)},t}(),Ae=function(){function t(){}return t.prototype.equals=function(e){return e instanceof t},t.instance=new t,t}(),Pe=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.equals=function(t){return this.field.equals(t.field)&&this.transform.equals(t.transform)},t}(),Re=function(){var t={};return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}(),ke=function(){function t(t,e){this.updateTime=t,this.exists=e,c(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof Ut&&t.version.equals(this.updateTime):void 0!==this.exists?this.exists?t instanceof Ut:null===t||t instanceof Bt:(c(this.isNone,"Precondition should be empty"),!0)},t.prototype.equals=function(t){return function(t,e){return null!==t&&void 0!==t?!(!e||!t.equals(e)):t===e}(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}(),De=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&c(t.key.equals(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof Ut?t.version:Se.MIN},t}(),xe=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Re.Set,i}return Oe(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by SetMutation.");var n=De.getPostMutationVersion(t);return new Ut(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=De.getPostMutationVersion(t);return new Ut(this.key,n,this.value,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.value.equals(t.value)&&this.precondition.equals(t.precondition)},e}(De),Me=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Re.Patch,o}return Oe(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=De.getPostMutationVersion(t),r=this.patchDocument(t);return new Ut(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=De.getPostMutationVersion(t),r=this.patchDocument(t);return new Ut(this.key,n,r,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.fieldMask.equals(t.fieldMask)&&this.precondition.equals(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof Ut?t.data:ae.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}return t},e}(De),Le=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Re.Transform,r.precondition=ke.exists(!0),r}return Oe(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),c(null!=e.transformResults,"Transform results missing for TransformMutation.");var n=e.transformResults;if(!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.transformObject(r.data,n);return new Ut(this.key,r.version,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.localTransformResults(e),i=this.transformObject(n.data,r);return new Ut(this.key,n.version,i,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&D(this.fieldTransforms,t.fieldTransforms)&&this.precondition.equals(t.precondition)},e.prototype.requireDocument=function(t){c(t instanceof Ut,"Unknown MaybeDocument type "+t);var e=t;return c(e.key.equals(this.key),"Can only transform a document with the same key"),e},e.prototype.localTransformResults=function(t){for(var e=[],n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n].transform;if(!(i instanceof Ae))return u("Encountered unknown transform: "+i);e.push(new ne(t))}return e},e.prototype.transformObject=function(t,e){c(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.transform,o=r.field;if(!(i instanceof Ae))return u("Encountered unknown transform: "+i);t=t.set(o,e[n])}return t},e}(De),Fe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Re.Delete,r}return Oe(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by DeleteMutation."),new Bt(this.key,Se.MIN)},e.prototype.applyToLocalView=function(t,e){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&c(t.key.equals(this.key),"Can only apply mutation to document with same key"),new Bt(this.key,Se.forDeletedDoc())):t},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.precondition.equals(t.precondition)},e}(De),je=function(){function t(t){this.count=t}return t.prototype.equals=function(t){return t&&t.count===this.count},t}();!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(Te||(Te={}));var Ve,Ue=function(){function t(t){this.comparator=t,this.data=new qt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Be=new qt(Vt.comparator),qe=new qt(Vt.comparator),We=new qt(Vt.comparator),He=new Ue(Vt.comparator),Ge=function(){function t(t,e,n){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new Qe,snapshotVersion:Se.MIN,currentStatusUpdate:Ve.MarkNotCurrent,resumeToken:l()}},t}();!function(t){t[t.None=0]="None",t[t.MarkNotCurrent=1]="MarkNotCurrent",t[t.MarkCurrent=2]="MarkCurrent"}(Ve||(Ve={}));var Ke=W(),Qe=function(){function t(){this.docs=Ke}return Object.defineProperty(t.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.equals=function(t){return null!==t&&this.docs.equals(t.docs)},t}(),ze=function(){function t(){this.addedDocuments=Ke,this.removedDocuments=Ke}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.equals=function(t){return null!==t&&this.addedDocuments.equals(t.addedDocuments)&&this.removedDocuments.equals(t.removedDocuments)},t}(),Je=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Xe=function(t,e){this.targetId=t,this.existenceFilter=e},Ye=function(){var t={};return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}(),Ze=function(){return function(t,e,n,r){void 0===n&&(n=l()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),$e=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=U(),this.frozen=!1,this.pendingTargetResponses=g(n)}return t.prototype.add=function(t){c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t instanceof Je?this.addDocumentChange(t):t instanceof Ze?this.addTargetChange(t):t instanceof Xe?this.addExistenceFilterChange(t):u("Unknown watch change: "+t)},t.prototype.addChanges=function(t){var e=this;c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return p(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new Ge(this.snapshotVersion,e,this.documentUpdates)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:Ve.None,snapshotVersion:this.snapshotVersion,mapping:new ze,resumeToken:l()},this.targetChanges[t]=e),e},t.prototype.isActiveTarget=function(t){return!f(this.pendingTargetResponses,t)&&f(this.listenTargets,t)},t.prototype.addDocumentChange=function(t){for(var e=!1,n=0,r=t.updatedTargetIds;n<r.length;n++)this.isActiveTarget(a=r[n])&&(this.ensureTargetChange(a).mapping.add(t.key),e=!0);for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a;this.isActiveTarget(a=o[i])&&(this.ensureTargetChange(a).mapping.delete(t.key),e=!0)}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetChange(n);switch(t.state){case Ye.NoChange:e.isActiveTarget(n)&&H(r,t.resumeToken);break;case Ye.Added:e.recordTargetResponse(n),f(e.pendingTargetResponses,n)||(r.mapping=new ze,r.currentStatusUpdate=Ve.None,delete e.existenceFilters[n]),H(r,t.resumeToken);break;case Ye.Removed:e.recordTargetResponse(n),c(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ye.Current:e.isActiveTarget(n)&&(r.currentStatusUpdate=Ve.MarkCurrent,H(r,t.resumeToken));break;case Ye.Reset:e.isActiveTarget(n)&&(r.mapping=new Qe,H(r,t.resumeToken));break;default:u("Unknown target watch change state: "+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}(),tn=function(){var t={};return t[ve.ASCENDING.name]="ASCENDING",t[ve.DESCENDING.name]="DESCENDING",t}(),en=function(){var t={};return t[pe.LESS_THAN.name]="LESS_THAN",t[pe.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[pe.GREATER_THAN.name]="GREATER_THAN",t[pe.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[pe.EQUAL.name]="EQUAL",t}(),nn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?It.UNKNOWN:V(t.code);return new Ot(e,t.message||"")},t.prototype.toInt32Value=function(t){return F(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return e="object"==typeof t?t.value:t,F(e)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanos}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return Ce.fromISOString(t);c(!!t,"Cannot deserialize null or undefined timestamp.");var e=K(t.seconds||"0");return new Ce(e,t.nanos||0)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(c(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),At.fromBase64String(t)):(c(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),At.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return c(!!t,"Trying to deserialize version that isn't set"),Se.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=Lt.fromString(t);return c(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return c(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),c(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new Vt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?Lt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new Lt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new Lt(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return c(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Jt)return{nullValue:"NULL_VALUE"};if(t instanceof Xt)return{booleanValue:t.value()};if(t instanceof Zt)return{integerValue:""+t.value()};if(t instanceof $t){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof te?{stringValue:t.value()}:t instanceof ae?{mapValue:this.toMapValue(t)}:t instanceof se?{arrayValue:this.toArrayValue(t)}:t instanceof ee?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof oe?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof re?{bytesValue:this.toBytes(t.value())}:t instanceof ie?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:u("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(Q(t,n,"nullValue"))return Jt.INSTANCE;if(Q(t,n,"booleanValue"))return Xt.of(t.booleanValue);if(Q(t,n,"integerValue"))return new Zt(K(t.integerValue));if(Q(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return $t.NAN;if("Infinity"===t.doubleValue)return $t.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return $t.NEGATIVE_INFINITY}return new $t(t.doubleValue)}if(Q(t,n,"stringValue"))return new te(t.stringValue);if(Q(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(Q(t,n,"arrayValue"))return G(t.arrayValue,"arrayValue"),new se((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(Q(t,n,"timestampValue"))return G(t.timestampValue,"timestampValue"),new ee(this.fromTimestamp(t.timestampValue));if(Q(t,n,"geoPointValue"))return G(t.geoPointValue,"geoPointValue"),new oe(new Rt(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(Q(t,n,"bytesValue")){G(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new re(r)}if(Q(t,n,"referenceValue")){G(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),o=new Dt(i.get(1),i.get(3)),a=new Vt(this.extractLocalPathFromResourceName(i));return new ie(o,a)}return u("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return c(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new Ut(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=ae.EMPTY;return d(t,function(t,r){n=n.set(new jt([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){c(!!t.found,"Tried to deserialize a found document from a missing document."),G(t.found.name,"doc.found.name"),G(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new Ut(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){c(!!t.missing,"Tried to deserialize a missing document from a found document."),c(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new Bt(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return Q(t,e,"found")?this.fromFound(t):Q(t,e,"missing")?this.fromMissing(t):u("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ye.Added:return"ADD";case Ye.Current:return"CURRENT";case Ye.NoChange:return"NO_CHANGE";case Ye.Removed:return"REMOVE";case Ye.Reset:return"RESET";default:return u("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Xe)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Je){if(t.newDoc instanceof Ut)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof Bt){var e;return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ze){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return Te.OK;switch(t){case It.OK:return Te.OK;case It.CANCELLED:return Te.CANCELLED;case It.UNKNOWN:return Te.UNKNOWN;case It.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case It.INTERNAL:return Te.INTERNAL;case It.UNAVAILABLE:return Te.UNAVAILABLE;case It.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case It.NOT_FOUND:return Te.NOT_FOUND;case It.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case It.ABORTED:return Te.ABORTED;case It.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case It.DATA_LOSS:return Te.DATA_LOSS;default:return u("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return u("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(Q(t,n,"targetChange")){G(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Ze(r,i,o,s||null)}else if(Q(t,n,"documentChange")){G(t.documentChange,"documentChange"),G(t.documentChange.document,"documentChange.name"),G(t.documentChange.document.name,"documentChange.document.name"),G(t.documentChange.document.updateTime,"documentChange.document.updateTime");var c=t.documentChange,l=this.fromName(c.document.name),h=this.fromVersion(c.document.updateTime),f=this.fromFields(c.document.fields||{}),p=new Ut(l,h,f,{hasLocalMutations:!1});e=new Je(c.targetIds||[],c.removedTargetIds||[],p.key,p)}else if(Q(t,n,"documentDelete")){G(t.documentDelete,"documentDelete"),G(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;l=this.fromName(d.document),h=d.readTime?this.fromVersion(d.readTime):Se.forDeletedDoc(),p=new Bt(l,h),e=new Je([],d.removedTargetIds||[],p.key,p)}else if(Q(t,n,"documentRemove")){G(t.documentRemove,"documentRemove"),G(t.documentRemove.document,"documentRemove");var y=t.documentRemove;l=this.fromName(y.document),e=new Je([],y.removedTargetIds||[],l,null)}else{if(!Q(t,n,"filter"))return u("Unknown change type "+JSON.stringify(t));G(t.filter,"filter"),G(t.filter.targetId,"filter.targetId");var g=t.filter,v=new je(g.count||0);e=new Xe(g.targetId,v)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ye.NoChange:"ADD"===t?Ye.Added:"REMOVE"===t?Ye.Removed:"CURRENT"===t?Ye.Current:"RESET"===t?Ye.Reset:u("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!Q(t,t.response_type,"targetChange"))return Se.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Se.MIN:e.readTime?this.fromVersion(e.readTime):Se.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof xe)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Fe)e={delete:this.toName(t.key)};else if(t instanceof Me)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Le))return u("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ke.NONE;if(t.update){G(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new Me(r,i,o,n)}return new xe(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new Fe(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return c(!0===n.exists,'Transforms only support precondition "exists == true"'),new Le(r,a)}return u("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return c(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:u("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ke.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ke.exists(t.exists):ke.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new function(t,e){this.version=t,this.transformResults=e}(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){return c(t.transform instanceof Ae,"Unknown transform: "+t.transform),{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},t.prototype.fromFieldTransform=function(t){c("REQUEST_TIME"===t.setToServerValue,"Unknown transform proto: "+JSON.stringify(t));var e=jt.fromServerFormat(t.fieldPath);return new Pe(e,Ae.instance)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return c(1===e,"DocumentsTarget contained other than 1 document: "+e),fe.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(Lt.EMPTY_PATH);else{var n=t.path;c(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;r>0&&(c(1===r,"StructuredQuery.from with more than one collection is not supported."),e=e.child(n.from[0].collectionId));var i=[];n.where&&(i=this.fromFilter(n.where));var o=[];n.orderBy&&(o=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=this.fromInt32Value(n.limit));var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var u=null;return n.endAt&&(u=this.fromCursor(n.endAt)),new fe(e,o,i,a,s,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Qt.Listen:return null;case Qt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Qt.LimboResolution:return"limbo-document";default:return u("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},e.targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof de?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):u("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new me(r,n)},t.prototype.toDirection=function(t){return tn[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return ve.ASCENDING;case"DESCENDING":return ve.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return en[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return pe.EQUAL;case"GREATER_THAN":return pe.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return pe.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return pe.LESS_THAN;case"LESS_THAN_OR_EQUAL":return pe.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return u("Unspecified relation");default:return u("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return jt.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new _e(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof de?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new de(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof ge?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof ye?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new ge(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new ye(n);case"OPERATOR_UNSPECIFIED":return u("Unspecified filter");default:return u("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return jt.fromServerFormat(t)});return new Ne(e)},t}(),rn=n("P9wo"),on=function(){function t(t){this.wrappedOnOpen=null,this.wrappedOnClose=null,this.wrappedOnMessage=null,this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){c(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){c(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){c(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){c(null!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){c(null!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){c(null!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),an="Connection",sn={BatchGetDocuments:"batchGet",Commit:"commit"},un="gl-js/ fire/"+wt,cn=function(){function t(t){this.databaseId=t.databaseId,this.pool=new rn.XhrIoPool,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=un,t["google-cloud-resource-prefix"]="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(a,s){r.pool.getObject(function(c){c.listenOnce(rn.EventType.COMPLETE,function(){try{switch(c.getLastErrorCode()){case rn.ErrorCode.NO_ERROR:var e=c.getResponseJson();o(an,"XHR received:",JSON.stringify(e)),a(e);break;case rn.ErrorCode.TIMEOUT:o(an,'RPC "'+t+'" timed out'),s(new Ot(It.DEADLINE_EXCEEDED,"Request time out"));break;case rn.ErrorCode.HTTP_ERROR:var n=c.getStatus();o(an,'RPC "'+t+'" failed with status:',n,"response text:",c.getResponseText()),n>0?s(new Ot(function(t){switch(t){case 200:return It.OK;case 400:return It.INVALID_ARGUMENT;case 401:return It.UNAUTHENTICATED;case 403:return It.PERMISSION_DENIED;case 404:return It.NOT_FOUND;case 409:return It.ABORTED;case 416:return It.OUT_OF_RANGE;case 429:return It.RESOURCE_EXHAUSTED;case 499:return It.CANCELLED;case 500:return It.UNKNOWN;case 501:return It.UNIMPLEMENTED;case 503:return It.UNAVAILABLE;case 504:return It.DEADLINE_EXCEEDED;default:return t>=200&&t<300?It.OK:t>=400&&t<500?It.FAILED_PRECONDITION:t>=500&&t<600?It.INTERNAL:It.UNKNOWN}}(n),"Server responded with status "+c.getStatusText())):(o(an,'RPC "'+t+'" failed'),s(new Ot(It.UNAVAILABLE,"Connection failed.")));break;default:u('RPC "'+t+'" failed with unanticipated webchannel error '+c.getLastErrorCode()+": "+c.getLastError()+", giving up.")}}finally{o(an,'RPC "'+t+'" completed.'),r.pool.releaseObject(c)}});var l=JSON.stringify(e);o(an,"XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r.modifyHeadersForRequest(h,n),c.send(i,"POST",l,h,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=Object(rn.createWebChannelTransport)(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},httpHeadersOverwriteParam:"$httpHeaders",sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e);var a=n.join("");o(an,"Creating WebChannel: "+a+" "+i);var s=r.createWebChannel(a,i),u=!1,l=!1,h=new on({sendFn:function(t){l?o(an,"Not sending because WebChannel is closed:",t):(u||(o(an,"Opening WebChannel transport."),s.open(),u=!0),o(an,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}}),f=function(t,e){s.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(rn.WebChannel.EventType.OPEN,function(){l||o(an,"WebChannel transport opened.")}),f(rn.WebChannel.EventType.CLOSE,function(){l||(l=!0,o(an,"WebChannel transport closed"),h.callOnClose())}),f(rn.WebChannel.EventType.ERROR,function(t){l||(l=!0,o(an,"WebChannel transport errored:",t),h.callOnClose(new Ot(It.UNAVAILABLE,"The operation could not be completed")))}),f(rn.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];c(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){o(an,"WebChannel received error:",n);var r=n.status,i=function(t){var e=Te[r];if(void 0!==e)return V(e)}(),a=n.message;void 0===i&&(i=It.INTERNAL,a="Unknown error status: "+r+" with message "+n.message),l=!0,h.callOnClose(new Ot(i,a)),s.close()}else o(an,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=sn[t];c(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();St.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new cn(t))},t.prototype.newSerializer=function(t){return new nn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var ln,hn=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new Ot(It.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+R(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(b("FieldPath","string",n,t[n]),0===t[n].length)throw new Ot(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(t)}return t.documentId=function(){return t._DOCUMENT_ID},t._DOCUMENT_ID=new t(jt.keyField().canonicalString()),t}(),fn=new RegExp("[~\\*/\\[\\]]");!function(t){t[t.Unknown=0]="Unknown",t[t.Healthy=1]="Healthy",t[t.Failed=2]="Failed"}(ln||(ln={}));var pn,dn=function(){var t={};return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}(),yn=function(){var t={};return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}(),gn=function(){function t(){this.changeMap=new qt(Vt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==dn.Added&&n.type===dn.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===dn.Metadata&&n.type!==dn.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===dn.Modified&&n.type===dn.Modified?this.changeMap=this.changeMap.insert(e,{type:dn.Modified,doc:t.doc}):t.type===dn.Modified&&n.type===dn.Added?this.changeMap=this.changeMap.insert(e,{type:dn.Added,doc:t.doc}):t.type===dn.Removed&&n.type===dn.Added?this.changeMap=this.changeMap.remove(e):t.type===dn.Removed&&n.type===dn.Modified?this.changeMap=this.changeMap.insert(e,{type:dn.Removed,doc:n.doc}):t.type===dn.Added&&n.type===dn.Removed?this.changeMap=this.changeMap.insert(e,{type:dn.Modified,doc:t.doc}):u("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),vn=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Vt.comparator(e.key,n.key)}:function(t,e){return Vt.comparator(t.key,e.key)},this.keyedMap=B(),this.sortedSet=new qt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.prevDoc=function(t){c(this.has(t),"Trying to get a previous document to non-existing key: "+t);var e=this.keyedMap.get(t);return this.sortedSet.getPredecessorKey(e)},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.equals(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),mn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].equals(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].equals(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].equals(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){d(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return y(this.inner)},t}(),_n=function(){function t(t){this.syncEngine=t,this.queries=new mn(function(t){return t.canonicalId()}),this.onlineState=ln.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new function(){this.listeners=[]},this.queries.set(e,r)),r.listeners.push(t),t.onOnlineStateChanged(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){var e=t.query,n=!1,r=this.queries.get(e);if(r){var i=r.listeners.indexOf(t);i>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length)}return n?(this.queries.delete(e),this.syncEngine.unlisten(e)):Promise.resolve()},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].onOnlineStateChanged(t)})},t}(),bn=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=ln.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(c(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==dn.Metadata&&e.push(i)}t={query:t.query,docs:t.docs,oldDocs:t.oldDocs,docChanges:e,fromCache:t.fromCache,hasPendingWrites:t.hasPendingWrites,syncStateChanged:t.syncStateChanged}}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return c(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==ln.Failed?(c(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===ln.Failed)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeQueryMetadataChanges},t.prototype.raiseInitialEvent=function(e){c(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e={query:e.query,docs:e.docs,oldDocs:vn.emptySet(e.docs),docChanges:t.getInitialViewChanges(e),fromCache:e.fromCache,hasPendingWrites:e.hasPendingWrites,syncStateChanged:!0},this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:dn.Added,doc:t})}),e},t}(),wn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=null,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&u("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return e.reduce(function(t,e,n){return t.next(function(){return e})},t.resolve())},t.map=function(e){var n=[],r=!0,i=t.resolve(null);return e.reduce(function(t,e){return t.next(function(t){return r||n.push(t),r=!1,e})},i).next(function(t){return n.push(t),n})},t}(),En=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=W()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=W();return this.potentialGarbage.forEach(function(i){var o=e.documentHasAnyReferences(t,i);n.push(o.next(function(t){return t||(r=r.add(i)),wn.resolve()}))}),this.potentialGarbage=W(),wn.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=wn.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?wn.resolve(!0):e()})},n)},t}(),Cn=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=W(),r=W(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case dn.Added:n=n.add(a.doc.key);break;case dn.Removed:r=r.add(a.doc.key)}}return new t(e.query,n,r)},t}(),Sn=function(){function t(){this.refsByKey=new Ue(Tn.compareByKey),this.refsByTarget=new Ue(Tn.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Tn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Tn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=Vt.EMPTY,r=new Tn(n,t),i=new Tn(n,t+1);this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=Vt.EMPTY,n=new Tn(e,t),r=new Tn(e,t+1),i=W();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new Tn(e,0),r=this.refsByKey.firstAfterOrEqual(n);return wn.resolve(null!==r&&e.equals(r.key))},t}(),Tn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return Vt.comparator(t.key,e.key)||k(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return k(t.targetOrBatchId,e.targetOrBatchId)||Vt.comparator(t.key,e.key)},t}(),In=1,On=function(){var t={};return t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine",t}(),Nn=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>In<<In;this.previousId=e-n>=t?n|this.generatorId:(n|this.generatorId)-(1<<In)}return t.prototype.next=function(){return this.previousId+=1<<In,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(On.LocalStore,e)},t.forSyncEngine=function(){return new t(On.SyncEngine)},t}(),An=function(t){this.key=t},Pn=function(t){this.key=t},Rn=function(){function t(t,e){this.query=t,this.syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=W(),this.mutatedKeys=W(),this.documentSet=new vn(t.docComparator.bind(t))}return t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new gn,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof Ut?e:null;if(h&&(c(t.equals(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null),h?(a=a.add(h),o=h.hasLocalMutations?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)),l&&h){var f=l.data.equals(h.data);f&&l.hasLocalMutations===h.hasLocalMutations||(r.track(f?{type:dn.Metadata,doc:h}:{type:dn.Modified,doc:h}),u&&n.query.docComparator(h,u)>0&&(s=!0))}else!l&&h?r.track({type:dn.Added,doc:h}):l&&!h&&(r.track({type:dn.Removed,doc:l}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),r.track({type:dn.Removed,doc:l})}return c(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.applyChanges=function(t,e){var n=this;c(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return function(e,n){var r=function(t){switch(t){case dn.Added:return 1;case dn.Modified:case dn.Metadata:return 2;case dn.Removed:return 0;default:return u("Unknown ChangeType: "+t)}};return r(t.type)-r(n)}(0,e.type)||n.query.docComparator(t.doc,e.doc)});var o=this.applyTargetChange(e),a=0===this.limboDocuments.size&&this.current?yn.Synced:yn.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:{query:this.query,docs:t.documentSet,oldDocs:r,docChanges:i,fromCache:a===yn.Local,syncStateChanged:s,hasPendingWrites:!t.mutatedKeys.isEmpty()},limboChanges:o}:{limboChanges:o}},t.prototype.shouldBeInLimbo=function(t){return!this.syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;if(t){var n=t.mapping;switch(n instanceof Qe?this.syncedDocuments=n.documents:n instanceof ze&&(this.syncedDocuments=n.applyToKeySet(this.syncedDocuments)),t.currentStatusUpdate){case Ve.MarkCurrent:this.current=!0;break;case Ve.MarkNotCurrent:this.current=!1;break;case Ve.None:break;default:u("Unknown current status update: "+t.currentStatusUpdate)}}var r=this.limboDocuments;this.limboDocuments=W(),this.current&&this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var i=[];return r.forEach(function(t){e.limboDocuments.has(t)||i.push(new Pn(t))}),this.limboDocuments.forEach(function(t){r.has(t)||i.push(new An(t))}),i},t}(),kn=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new mn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new qt(Vt.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new Sn,this.limboCollector=new En,this.mutationUserCallbacks={},this.targetIdGenerator=Nn.forSyncEngine()}return t.prototype.subscribe=function(t,e){c(null!==t&&null!==e,"View and error handlers cannot be null"),c(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),c(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new Rn(t,i),a=o.computeDocChanges(r),s=o.applyChanges(a);c(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),c(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new function(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r}(t,n.targetId,n.resumeToken,o);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return c(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),c(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!F(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),p(t.targetChanges,function(n,r){var i=e.limboKeysByTarget[n];i&&r.currentStatusUpdate===Ve.MarkCurrent&&!t.documentUpdates.get(i)&&t.addDocumentUpdate(new Bt(i,t.snapshotVersion))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[t];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[t];var i=new qt(Vt.comparator);i=i.insert(r,new Bt(r,Se.forDeletedDoc()));var o=new Ge(Se.MIN,{},i);return this.applyRemoteEvent(o)}var a=this.queryViewsByTarget[t];return c(!!a,"Unknown targetId: "+t),this.localStore.releaseQuery(a.query).then(function(){return n.removeAndCleanupQuery(a).then(function(){n.errorHandler(a.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new qt(k)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(c(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof An?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof Pn?(o("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t)):u("Unknown limbo change: "+JSON.stringify(i))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){o("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=fe.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new Ie(r,n,Qt.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var o=s.view.applyChanges(t,e&&e.targetChanges[s.targetId]);return n.updateTrackedLimbos(s.targetId,o.limboChanges).then(function(){if(o.snapshot){r.push(o.snapshot);var t=Cn.fromSnapshot(o.snapshot);i.push(t)}})}))}),Promise.all(o).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){c(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}(),Dn=-1,xn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&c(e.key.equals(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;c(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.equals(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&c(e.key.equals(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0;n<this.mutations.length;n++){var r=this.mutations[n];r.key.equals(t)&&(e=r.applyToLocalView(e,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=W(),e=0,n=this.mutations;e<n.length;e++)t=t.add(n[e].key);return t},t.prototype.equals=function(t){return this.batchId===t.batchId&&D(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),Mn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){c(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=q(),a=e.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new t(e,n,r,i,o)},t}(),Ln="\x01",Fn="\x01",jn="\x10",Vn="\x11",Un=function(t,e){this.seconds=t,this.nanos=e},Bn=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),qn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Wn=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),Hn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,z(e)]},t.key=function(t,e,n){return[t,z(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Gn=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),Kn=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Qn=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),zn=function(){function t(t,e,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Jn=[qn.store,Wn.store,Hn.store,Gn.store,Kn.store,Bn.store,zn.store,Qn.store],Xn="SimpleDb",Yn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return c(t.isAvailable(),"IndexedDB not supported in current environment."),o(Xn,"Opening database:",e),new wn(function(i,a){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onerror=function(t){a(t.target.error)},s.onupgradeneeded=function(t){o(Xn,'Database "'+e+'" requires upgrade from version:',t.oldVersion),r(t.target.result,t.oldVersion)}}).toPromise()},t.delete=function(t){return o(Xn,"Removing database:",t),Z(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.prototype.runTransaction=function(t,e,n){var r=new $n(this.db,t,e),i=n(r).catch(function(t){return r.abort(),wn.reject(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Zn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Z(this.dbCursor.delete())},t}(),$n=function(){function t(t,e,n){var r=this;this.aborted=!1,this.transaction=t.transaction(n,e),this.completionPromise=new Promise(function(t,e){r.transaction.onabort=r.transaction.oncomplete=function(e){t()},r.transaction.onerror=function(t){e(t.target.error)}})}return t.prototype.abort=function(){this.aborted||(o(Xn,"Aborting transaction."),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return c(!!e,"Object store not part of transaction: "+t),new tr(e)},t}(),tr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(o(Xn,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(o(Xn,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Z(n)},t.prototype.get=function(t){var e=this;return Z(this.store.get(t)).next(function(n){return void 0===n&&(n=null),o(Xn,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return o(Xn,"DELETE",this.store.name,t),Z(this.store.delete(t))},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){o(Xn,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new wn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Zn(i),a=e(i.primaryKey,i.value,o);a instanceof wn&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return wn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(c(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}(),er=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return c(""!==e.uid,"UserID must not be an empty string."),new t(e.isUnauthenticated()?"":e.uid,n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,nt(e).get(n.userId)}).next(function(t){return t||(t=new qn(n.userId,Dn,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return c(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=Dn,nt(e).put(n.metadata)}):wn.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=Dn;return tt(t).iterate({reverse:!0},function(t,n,r){var i=t[0];if(t[1]>e&&(e=n.batchId),""===i)r.done();else{var o=function(t){var e=t.length-1;return 0===t.length?"":"\0"===t.charAt(e)?t.substring(0,e):t.substring(0,e)+String.fromCharCode(t.charCodeAt(e)-1)}(i);r.skip([o])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return tt(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return wn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return wn.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return c(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=$(n),nt(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return wn.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=$(e),nt(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new xn(i,e,n),a=this.serializer.toDbMutationBatch(this.userId,o);return tt(t).put(a).next(function(){for(var e=0,o=n;e<o.length;e++){var a=o[e],s=(z(a.key.path),Hn.key(r.userId,a.key.path,i));et(t).put(s,Hn.PLACEHOLDER)}return wn.waitFor([])}).next(function(){return o})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return tt(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=IDBKeyRange.lowerBound(this.keyForBatchId(e+1)),i=null;return tt(t).iterate({range:r},function(t,r,o){r.userId===n.userId&&(c(r.batchId>e,"Should have found mutation after "+e),i=n.serializer.fromDbMutationBatch(r)),o.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(Dn),this.keyForBatchId(Number.POSITIVE_INFINITY));return tt(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(Dn),this.keyForBatchId(e));return tt(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Hn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return et(t).iterate({range:i},function(r,i,a){var s=r[0],c=r[2],l=X(r[1]);if(s===n.userId&&e.path.equals(l)){var h=n.keyForBatchId(c);return tt(t).get(h).next(function(t){null===t&&u("Dangling document-mutation reference found: "+r+" which points to "+h),o.push(n.serializer.fromDbMutationBatch(t))})}a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;c(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=Hn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ue(k);return et(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],c=X(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){var e=[],r=[];return s.forEach(function(i){var o=n.keyForBatchId(i);r.push(tt(t).get(o).next(function(t){null===t&&u("Dangling document-mutation reference found, which points to "+o),e.push(n.serializer.fromDbMutationBatch(t))}))}),wn.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=tt(t),r=et(t),i=[],o=function(t){var e=IDBKeyRange.only(a.keyForBatchId(t.batchId)),o=0,s=n.iterate({range:e},function(t,e,n){return o++,n.delete()});i.push(s.next(function(){c(1===o,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,l=t.mutations;u<l.length;u++){var h=l[u],f=Hn.key(a.userId,h.key.path,t.batchId);i.push(r.delete(f)),null!==a.garbageCollector&&a.garbageCollector.addPotentialGarbageKey(h.key)}},a=this,s=0,u=e;s<u.length;s++)o(u[s]);return wn.waitFor(i)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return wn.resolve();var r=IDBKeyRange.lowerBound(Hn.prefixForUser(e.userId)),i=[];return et(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=X(t[1]);i.push(o)}else r.done()}).next(function(){c(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=Hn.prefixForPath(this.userId,e.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return et(t).iterate({range:o,keysOnly:!0},function(t,e,r){t[0]===n.userId&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}(),nr=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Se.MIN,this.metadata=new zn(0,0,Se.MIN.toTimestamp()),this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return ot(t).get(zn.key).next(function(t){if(null!==t){e.metadata=t;var n=t.lastRemoteSnapshotVersion;e.lastRemoteSnapshotVersion=Se.fromTimestamp(new Ce(n.seconds,n.nanos))}return wn.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),ot(t).put(zn.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this,r=e.targetId,i=it(t).put(this.serializer.toDbTarget(e));return r>this.metadata.highestTargetId?(this.metadata.highestTargetId=r,i.next(function(){return ot(t).put(zn.key,n.metadata)})):i},t.prototype.removeQueryData=function(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){it(t).delete(e.targetId)})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return it(t).iterate({range:i,index:Kn.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.equals(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],i=at(t);return e.forEach(function(t){var e=z(t.path);r.push(i.put(new Qn(n,e)))}),wn.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=[],o=at(t);return e.forEach(function(t){var e=z(t.path);i.push(o.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),wn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=at(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=at(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var i=X(t[1]),o=new Vt(i);c(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):wn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=at(t),i=W();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=X(t[1]),o=new Vt(r);i=i.add(o)}).next(function(){return i})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){c(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n=z(e.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return at(t).iterate({index:Qn.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){i++,n.done()}).next(function(){return i>0})},t}(),rr=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return ut(t).put(ct(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return ut(t).delete(ct(e))},t.prototype.getEntry=function(t,e){var n=this;return ut(t).get(ct(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=B(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return ut(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof Ut&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t}(),ir=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=Vt.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new Ce(n.seconds,n.nanos);return new Bt(e,Se.fromTimestamp(r))}return u("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof Ut){var e=this.remoteSerializer.toDocument(t);return new Gn(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),i=new Un(r.seconds,r.nanos);return new Gn(new function(t,e){this.path=t,this.readTime=e}(n,i),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Wn(t,e.batchId,e.localWriteTime.toEpochMilliseconds(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=Ce.fromEpochMilliseconds(t.localWriteTimeMs);return new xn(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new Ce(t.readTime.seconds,t.readTime.nanos),r=Se.fromTimestamp(n);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Ie(e,t.targetId,Qt.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){c(Qt.Listen===t.purpose,"Only queries with purpose "+Qt.Listen+" may be stored, got "+t.purpose);var e,n=t.snapshotVersion.toTimestamp(),r=new Un(n.seconds,n.nanos);e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),c("string"==typeof t.resumeToken,"Persisting non-string resume token not supported.");var i=t.resumeToken;return new Kn(t.targetId,t.query.canonicalId(),r,i,0,e)},t}(),or="IndexedDbPersistence",ar="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",sr=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new ir(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(c(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,Yn.openOrCreate(this.dbName,1,Y).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new Ot(It.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(){var t=this;return c(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){t.simpleDb.close()})},t.prototype.getMutationQueue=function(t){return er.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new nr(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new rr(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(o(or,"Starting transaction:",t),this.simpleDb.runTransaction("readwrite",Jn,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return Yn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Bn.store],function(e){var n=e.store(Bn.store);return n.get("owner").next(function(e){if(t.validOwner(e))return o(or,"Valid owner already. Failing. Current owner:",e),t.persistenceError=new Ot(It.FAILED_PRECONDITION,ar),wn.reject(t.persistenceError);var r=new Bn(t.ownerId,Date.now());return o(or,"No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Bn.store],function(e){var n=e.store(Bn.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(o(or,"Releasing owner lease."),n.delete("owner")):wn.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(Bn.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new Ot(It.FAILED_PRECONDITION,ar),wn.reject(e.persistenceError)):wn.resolve()})},t.prototype.validOwner=function(t){var e=Date.now();return!(null===t||t.leaseTimestampMs<e-5e3||(t.leaseTimestampMs>e?(a("Persistence owner-lease is in the future. Discarding.",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction("Refresh owner timestamp",function(e){return e.store(Bn.store).put("owner",new Bn(t.ownerId,Date.now()))}).catch(function(e){a(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return o(or,"Zombied ownerID from LocalStorage:",t),t}catch(t){return a(or,"Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){a(or,"Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return Nt.newId()},t.MAIN_DATABASE="main",t}(),ur=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,r=[],i=U();return e.forEach(function(e){r.push(n.getDocument(t,e).next(function(t){t||(t=new Bt(e,Se.forDeletedDoc())),i=i.insert(e,t)}))}),wn.waitFor(r).next(function(){return i})},t.prototype.getDocumentsMatchingQuery=function(t,e){return Vt.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new Vt(e)).next(function(t){var e=B();return t instanceof Ut&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var i=W(),o=0,a=e;o<a.length;o++)for(var s=0,u=a[o].mutations;s<u.length;s++){var c=u[s];n.get(c.key)||(i=i.add(c.key))}var l=[];return i.forEach(function(e){l.push(r.getDocument(t,e).next(function(t){t instanceof Ut&&(n=n.insert(t.key,t))}))}),wn.waitFor(l)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,i=t;r<i.length;r++)n=i[r].applyToLocalView(e,n);return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(i,o){r.push(n.computeLocalDocument(t,i,o).next(function(t){t instanceof Ut?e=e.insert(t.key,t):t instanceof Bt?e=e.remove(t.key):u("Unknown MaybeDocument: "+t)}))}),wn.waitFor(r).next(function(){return e})},t}(),cr=function(){function t(t){this.remoteDocumentCache=t,this.changes=U()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?wn.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=[];return this.assertChanges().forEach(function(r,i){n.push(e.remoteDocumentCache.addEntry(t,i))}),this.changes=null,wn.waitFor(n)},t.prototype.assertChanges=function(){return c(null!==this.changes,"Changes have already been applied."),this.changes},t}(),lr=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new Sn,this.targetIds={},this.targetIdGenerator=Nn.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new ur(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new ur(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=W(),o=0,a=[r,t];o<a.length;o++)for(var s=0,u=a[o];s<u.length;s++)for(var c=0,l=u[s].mutations;c<l.length;c++)i=i.add(l[c].key);return e.localDocuments.getDocuments(n,i)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=Nn.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==Dn?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):wn.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):wn.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,i=Ce.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=W(),wn.resolve();var i=new cr(e.remoteDocuments);return e.releaseBatchResults(n,[t],i).next(function(t){return r=t,i.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,i;return e.mutationQueue.lookupMutationBatch(n,t).next(function(i){return c(null!=i,"Attempt to reject nonexistent batch!"),r=i,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return c(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return i=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new cr(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var i=[];p(t.targetChanges,function(t,n){var o=e.targetIds[t];if(o){var a=n.mapping;if(a)if(a instanceof Qe)i.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,a.documents,t)}));else{if(!(a instanceof ze))return u("Unknown mapping type: "+JSON.stringify(a));i.push(e.queryCache.removeMatchingKeys(r,a.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,a.addedDocuments,t)}))}var s=n.resumeToken;s.length>0&&(o=o.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=o,i.push(e.queryCache.addQueryData(r,o)))}});var a=W();t.documentUpdates.forEach(function(t,s){a=a.add(t),i.push(n.getEntry(r,t).next(function(r){null==r||s.version.equals(Se.MIN)||s.version.compareTo(r.version)>=0?n.addEntry(s):o("LocalStore","Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",s.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var s=e.queryCache.getLastRemoteSnapshotVersion(),l=t.snapshotVersion;l.equals(Se.MIN)||(c(l.compareTo(s)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+s),i.push(e.queryCache.setLastRemoteSnapshotVersion(r,l)));var h;return wn.waitFor(i).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return h=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,a.unionWith(h))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],i=function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){c(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))},o=0,a=t;o<a.length;o++)i(a[o]);return wn.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=Dn),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){if(i)return r=i,wn.resolve();var o=e.targetIdGenerator.next();return r=new Ie(t,o,Qt.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return c(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return c(null!=r,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):wn.resolve()}).next(function(){if(y(e.targetIds)){var t=new cr(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return wn.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),wn.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?wn.resolve(W()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||y(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,i=wn.resolve(),o=function(e){i=i.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})},a=0,s=e;a<s.length;a++)o(s[a]);return i.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=W(),r=0,i=e;r<i.length;r++)for(var o=0,a=i[r].mutations;o<a.length;o++)n=n.add(a[o].key);return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,i=r.keys(),o=wn.resolve();return i.forEach(function(i){o=o.next(function(){return n.getEntry(t,i)}).next(function(t){var o=t,a=e.docVersions.get(i);c(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o):c(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),o},t}(),hr=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=Dn,this.lastStreamToken=l(),this.garbageCollector=null,this.batchesByDocumentKey=new Ue(Tn.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=Dn),c(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),wn.resolve()},t.prototype.checkEmpty=function(t){return wn.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return wn.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return wn.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;c(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return c(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),c(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,wn.resolve()},t.prototype.getLastStreamToken=function(t){return wn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,wn.resolve()},t.prototype.addMutationBatch=function(t,e,n){c(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&c(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new xn(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Tn(a[o].key,r));return wn.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return wn.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.mutationQueue.length;e=Math.max(e+1,this.highestAcknowledgedBatchId);for(var r=this.indexOfBatchId(e),i=r<0?0:r;i<n;i++){var o=this.mutationQueue[i];if(!o.isTombstone())return wn.resolve(o)}return wn.resolve(null)},t.prototype.getAllMutationBatches=function(t){return wn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,wn.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Tn(e,0),i=new Tn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){c(e.equals(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);c(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),wn.resolve(o)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=r;Vt.isDocumentKey(o)||(o=o.child(""));var a=new Tn(new Vt(o),0),s=new Ue(k);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.targetOrBatchId)),!0)},a);var u=[];return s.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&u.push(e)}),wn.resolve(u)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;c(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,"removed");c(this.mutationQueue[o].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=o+1;a<n&&s<i;)(p=this.mutationQueue[s]).isTombstone()?s++:(c(p.batchId===e[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++);if(0===o){for(;s<i&&(p=this.mutationQueue[s]).isTombstone();s++);this.mutationQueue.splice(o,s-o)}else for(var u=o;u<s;u++)this.mutationQueue[u]=this.mutationQueue[u].toTombstone();for(var l=this.batchesByDocumentKey,h=0,f=e;h<f.length;h++)for(var p,d=(p=f[h]).batchId,y=0,g=p.mutations;y<g.length;y++){var v=g[y].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(v);var m=new Tn(v,d);l=l.delete(m)}return this.batchesByDocumentKey=l,wn.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new Tn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return wn.resolve(e.equals(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&c(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),wn.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return c(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return c(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),fr=function(){function t(){this.queries=new mn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Se.MIN,this.highestTargetId=0,this.references=new Sn}return t.prototype.start=function(t){return wn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,wn.resolve()},t.prototype.addQueryData=function(t,e){this.queries.set(e.query,e);var n=e.targetId;return n>this.highestTargetId&&(this.highestTargetId=n),wn.resolve()},t.prototype.removeQueryData=function(t,e){return this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),wn.resolve()},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return wn.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),wn.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),wn.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),wn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return wn.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),pr=function(){function t(){this.docs=U()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),wn.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),wn.resolve()},t.prototype.getEntry=function(t,e){return wn.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=B(),r=new Vt(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value;if(!e.path.isPrefixOf(o.key.path))break;a instanceof Ut&&e.matches(a)&&(n=n.insert(a.key,a))}return wn.resolve(n)},t}(),dr=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new pr,this.queryCache=new fr,this.started=!1}return t.prototype.start=function(){return c(!this.started,"MemoryPersistence double-started!"),this.started=!0,Promise.resolve()},t.prototype.shutdown=function(){return c(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,Promise.resolve()},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new hr,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return o("MemoryPersistence","Starting transaction:",t),e(new yr).toPromise()},t}(),yr=function(){},gr=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return wn.resolve(W())},t}(),vr=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}(),mr=function(){function t(t,e,n){this.initialDelayMs=t,this.backoffFactor=e,this.maxDelayMs=n,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndWait=function(){var t=new vr,e=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&o("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),setTimeout(function(){t.resolve()},e),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs),t.promise},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),_r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped"}(pn||(pn={}));var br,wr=1e3,Er=6e4,Cr=1.5,Sr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentialsProvider=n,this.idle=!1,this.stream=null,this.listener=null,this.backoff=new mr(r||wr,Cr,Er),this.state=pn.Initial}return t.prototype.isStarted=function(){return this.state===pn.Backoff||this.state===pn.Auth||this.state===pn.Open},t.prototype.isOpen=function(){return this.state===pn.Open},t.prototype.start=function(t){this.state!==pn.Error?(c(this.state===pn.Initial,"Already started"),this.listener=t,this.auth()):this.performBackoff(t)},t.prototype.stop=function(){this.isStarted()&&this.close(pn.Stopped)},t.prototype.inhibitBackoff=function(){c(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=pn.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.idle=!0,this.queue.schedule(function(){return t.handleIdleCloseTimer()},6e4).catch(function(t){c(t.code===It.CANCELLED,"Received unexpected error in idle timeout closure. Expected CANCELLED, but was: "+t)})},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return this.isOpen()&&this.idle?this.close(pn.Initial):Promise.resolve()},t.prototype.cancelIdleCheck=function(){this.idle=!1},t.prototype.close=function(t,e){c(t==pn.Error||F(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),t!=pn.Error?this.backoff.reset():e&&e.code===It.RESOURCE_EXHAUSTED&&(o("PersistentStream","Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t;var n=this.listener;return this.listener=null,t!=pn.Stopped?n.onClose(e):Promise.resolve()},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;c(this.state===pn.Initial,"Must be in initial state to auth"),this.state=pn.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.schedule(function(){if(t.state!==pn.Stopped){var n=new Ot(It.UNKNOWN,"Fetching auth token failed: "+e.message);return t.handleStreamClose(n)}return Promise.resolve()})})},t.prototype.startStream=function(t){var e=this;if(this.state!==pn.Stopped){c(this.state===pn.Auth,"Trying to start stream in a non-auth state");var n=function(t,n){e.queue.schedule(function(){return e.stream===t?n():Promise.resolve()})};if(null!==this.listener){var r=this.startRpc(t);this.stream=r,this.stream.onOpen(function(){n(r,function(){return c(e.state===pn.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=pn.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(r,function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(r,function(){return e.onMessage(t)})})}}},t.prototype.performBackoff=function(t){var e=this;c(this.state===pn.Error,"Should only perform backoff in an error case"),this.state=pn.Backoff,this.backoff.backoffAndWait().then(function(){e.queue.schedule(function(){return e.state===pn.Stopped?Promise.resolve():(e.state=pn.Initial,e.start(t),c(e.isStarted(),"PersistentStream should have started"),Promise.resolve())})})},t.prototype.handleStreamClose=function(t){return c(this.isStarted(),"Can't handle server close on non-started stream"),o("PersistentStream","close with error: "+t),this.stream=null,this.close(pn.Error,t)},t}(),Tr=function(t){function e(e,n,r,i,o,a){var s=t.call(this,n,r,i,a)||this;return s.databaseInfo=e,s.serializer=o,s}return _r(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Sr),Ir=function(t){function e(e,n,r,i,o,a){var s=t.call(this,n,r,i,a)||this;return s.databaseInfo=e,s.serializer=o,s.handshakeComplete_=!1,s}return _r(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(e){this.handshakeComplete_=!1,t.prototype.start.call(this,e)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(c(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return c(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){c(this.isOpen(),"Writing handshake requires an opened stream"),c(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;c(this.isOpen(),"Writing mutations requires an opened stream"),c(this.handshakeComplete_,"Handshake must be complete before writing mutations"),c(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Sr),Or=function(){function t(t,e,n,r,i,o){this.databaseInfo=t,this.queue=e,this.connection=n,this.credentials=r,this.serializer=i,this.initialBackoffDelay=o}return t.prototype.newPersistentWriteStream=function(){return new Ir(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,this.initialBackoffDelay)},t.prototype.newPersistentWatchStream=function(){return new Tr(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,this.initialBackoffDelay)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=U();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);c(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeRPC(t,e,r)})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeStreamingRPC(t,e,r)})},t}(),Nr=function(){function t(t){this.datastore=t,this.readVersions=q(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof Bt&&(e=Se.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.equals(n))throw new Ot(It.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new Ot(It.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ke.updateTime(e):ke.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.equals(Se.forDeletedDoc()))throw new Ot(It.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ke.updateTime(e):ke.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new Fe(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Se.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),Ar="RemoteStore",Pr=function(){function t(t,e,n,r,i){this.databaseInfo=t,this.asyncQueue=e,this.localStore=n,this.datastore=r,this.onlineStateHandler=i,this.pendingWrites=[],this.lastBatchSeen=Dn,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.watchStreamOnlineState=ln.Unknown,this.watchStreamFailures=0,this.shouldWarnOffline=!0}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.setOnlineStateToHealthy=function(){this.shouldWarnOffline=!1,this.updateAndBroadcastOnlineState(ln.Healthy)},t.prototype.setOnlineStateToUnknown=function(){this.watchStreamFailures=0,this.updateAndBroadcastOnlineState(ln.Unknown)},t.prototype.updateOnlineStateAfterFailure=function(){this.watchStreamOnlineState===ln.Healthy?this.setOnlineStateToUnknown():(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.shouldWarnOffline&&(o(Ar,"Could not reach Firestore backend."),this.shouldWarnOffline=!1),this.updateAndBroadcastOnlineState(ln.Failed)))},t.prototype.updateAndBroadcastOnlineState=function(t){var e=this.watchStreamOnlineState!==t;this.watchStreamOnlineState=t,e&&this.onlineStateHandler(t)},t.prototype.isNetworkEnabled=function(){return c(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return c(null==this.watchStream,"enableNetwork() called with non-null watchStream."),c(null==this.writeStream,"enableNetwork() called with non-null writeStream."),this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()&&t.startWatchStream(),t.updateAndBroadcastOnlineState(ln.Unknown),t.fillWritePipeline()})},t.prototype.disableNetwork=function(){return this.updateAndBroadcastOnlineState(ln.Failed),this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null,Promise.resolve()},t.prototype.shutdown=function(){return o(Ar,"RemoteStore shutting down."),this.disableNetwork(),Promise.resolve(void 0)},t.prototype.listen=function(t){c(!f(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){c(f(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),y(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){c(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)})},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!y(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){var t=this;return p(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),Promise.resolve()},t.prototype.onWatchStreamClose=function(t){return c(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.updateOnlineStateAfterFailure(),this.startWatchStream()):this.setOnlineStateToUnknown(),Promise.resolve()},t.prototype.onWatchStreamChange=function(t,e){if(this.setOnlineStateToHealthy(),t instanceof Ze&&t.state===Ye.Removed&&t.cause)return this.handleTargetError(t);if(this.accumulatedWatchChanges.push(t),!e.equals(Se.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0){var n=this.accumulatedWatchChanges;return this.accumulatedWatchChanges=[],this.handleWatchChangeBatch(e,n)}return Promise.resolve()},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,r=new $e(t,this.listenTargets,this.pendingTargetResponses);r.addChanges(e);var i=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var o=[];return p(r.existenceFilters,function(e,r){var a=n.listenTargets[e];if(a){var s=a.query;if(s.isDocumentQuery())if(0===r.count){var u=new Vt(s.path),l=new Bt(u,t);i.addDocumentUpdate(l)}else c(1===r.count,"Single document existence filter with count: "+r.count);else{var h=n.localStore.remoteDocumentKeys(e).then(function(t){if(i.targetChanges[e]){var o=i.targetChanges[e].mapping;null!==o&&(o instanceof ze?t=o.applyToKeySet(t):(c(o instanceof Qe,"Expected either reset or update mapping but got something else: "+o),t=o.documents))}if(t.size!==r.count){i.handleExistenceFilterMismatch(e);var u=new Ie(s,e,a.purpose);n.listenTargets[e]=u,n.sendUnwatchRequest(e);var l=new Ie(s,e,Qt.ExistenceFilterMismatch);n.sendWatchRequest(l)}});o.push(h)}}}),Promise.all(o).then(function(){return p(i.targetChanges,function(t,e){if(e.resumeToken.length>0){var r=n.listenTargets[t];r&&(n.listenTargets[t]=r.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(i)})},t.prototype.handleTargetError=function(t){var e=this;c(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return f(e.listenTargets,t)?(delete e.listenTargets[t],e.syncEngine.rejectListen(t,n)):Promise.resolve()})}),r},t.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=Dn,this.pendingWrites=[]},t.prototype.fillWritePipeline=function(){var t=this;return this.canWriteMutations()?this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){return null===e?(0==t.pendingWrites.length&&t.writeStream.markIdle(),Promise.resolve()):(t.commit(e),t.fillWritePipeline())}):Promise.resolve()},t.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){c(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},t.prototype.startWriteStream=function(){c(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},t.prototype.onWriteStreamOpen=function(){return this.writeStream.writeHandshake(),Promise.resolve()},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})},t.prototype.onMutationResult=function(t,e){var n=this;c(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),i=Mn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){var e=this;return c(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),t&&this.pendingWrites.length>0?(c(!!t,"We have pending writes, but the write stream closed without an error"),(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})):Promise.resolve()},t.prototype.handleHandshakeError=function(t){return j(t.code)||t.code===It.ABORTED?(o(Ar,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=l(),this.localStore.setLastStreamToken(l())):Promise.resolve()},t.prototype.handleWriteError=function(t){var e=this;if(j(t.code)){var n=this.pendingWrites.shift();return this.writeStream.inhibitBackoff(),this.syncEngine.rejectFailedWrite(n.batchId,t).then(function(){return e.fillWritePipeline()})}return Promise.resolve()},t.prototype.createTransaction=function(){return new Nr(this.datastore)},t.prototype.handleUserChange=function(t){return o(Ar,"RemoteStore changing users: uid=",t.uid),this.disableNetwork(),this.enableNetwork()},t}(),Rr=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new vr,r=new vr,i=!1;return this.credentials.setUserChangeListener(function(o){i?e.asyncQueue.schedule(function(){return e.handleUserChange(o)}):(i=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.schedule(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.schedule(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t.code===It.FAILED_PRECONDITION||t.code===It.UNIMPLEMENTED},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new gr;var t=sr.buildStoragePrefix(this.databaseInfo),e=new nn(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new sr(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new En,this.persistence=new dr,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new lr(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),i=new Or(e.databaseInfo,e.asyncQueue,n,e.credentials,r);return e.remoteStore=new Pr(e.databaseInfo,e.asyncQueue,e.localStore,i,function(t){e.eventMgr.onOnlineStateChanged(t)}),e.syncEngine=new kn(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new _n(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),o("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.schedule(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.schedule(function(){return t.credentials.removeUserChangeListener(),t.remoteStore.shutdown()}).then(function(){return t.persistence.shutdown()})},t.prototype.listen=function(t,e,n){var r=this,i=new bn(t,e,n);return this.asyncQueue.schedule(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.schedule(function(){return e.eventMgr.unlisten(t)})},t.prototype.write=function(t){var e=this,n=new vr;return this.asyncQueue.schedule(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.schedule(function(){return Promise.resolve()}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),kr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Dr=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.delayedOperationsCount=0,this.operationInProgress=!1}return t.prototype.schedule=function(t,e){var n=this;if(this.failure&&u("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message)),(e||0)>0){this.delayedOperationsCount++;var r={handle:null,op:t,deferred:new vr};return r.handle=setTimeout(function(){n.scheduleInternal(function(){return r.op().then(function(t){r.deferred.resolve(t)})}),r.handle=null,n.delayedOperationsCount--,0===n.delayedOperationsCount&&(n.delayedOperations=[])},e),this.delayedOperations.push(r),r.deferred.promise}return this.scheduleInternal(t)},t.prototype.scheduleInternal=function(t){var e=this;return this.tail=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw a("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(){e.operationInProgress=!1})}),this.tail},t.prototype.verifyOperationInProgress=function(){c(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(t){var e=this;return this.delayedOperations.forEach(function(n){n.handle&&(clearTimeout(n.handle),t?e.scheduleInternal(n.op).then(n.deferred.resolve,n.deferred.reject):n.deferred.reject(new Ot(It.CANCELLED,"Operation cancelled by shutdown")))}),this.delayedOperations=[],this.delayedOperationsCount=0,this.schedule(function(){return Promise.resolve()})},t}(),xr=function(){function t(t){this.uid=t}return t.prototype.isUnauthenticated=function(){return null==this.uid},t.prototype.toKey=function(){return this.isUnauthenticated()?"anonymous-user":"uid:"+this.uid},t.prototype.equals=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Mr=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return Promise.resolve(null)},t.prototype.setUserChangeListener=function(t){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(xr.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){c(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),Lr=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.equals(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;c(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new Ot(It.ABORTED,"getToken aborted due to uid change.");return t?(c("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){c(null!=this.tokenListener,"removeUserChangeListener() called twice"),c(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&u("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return c(null===t||"string"==typeof t,"Received invalid UID: "+t),new xr(t)},t}(),Fr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=xr.FIRST_PARTY,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),jr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(t){return Promise.resolve(new Fr(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(xr.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}(),Vr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ur=function(){function t(){}return t.delete=function(){return Br.instance},t.serverTimestamp=function(){return qr.instance},t}(),Br=function(t){function e(){return t.call(this)||this}return Vr(e,t),e.instance=new e,e}(Ur),qr=function(t){function e(){return t.call(this)||this}return Vr(e,t),e.instance=new e,e}(Ur),Wr=h(Ur,"Use FieldValue.<field>() instead."),Hr=/^__.*__$/,Gr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new Me(t,this.data,this.fieldMask,e):new xe(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Le(t,this.fieldTransforms)),n},t}(),Kr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new Me(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Le(t,this.fieldTransforms)),n},t}();!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.QueryValue=3]="QueryValue"}(br||(br={}));var Qr=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Ot(It.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(ht(this.dataSource)&&Hr.test(t))throw this.createError("Document fields cannot begin and end with __")},t.prototype.isWrite=function(){return this.dataSource===br.Set||this.dataSource===br.Update},t}(),zr=function(t,e){this.databaseId=t,this.key=e},Jr=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new Qr(br.Set,t,jt.EMPTY_PATH);pt("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new Gr(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e){var n=new Qr(br.MergeSet,t,jt.EMPTY_PATH);pt("Data must be an object, but it was:",n,e);var r=this.parseData(e,n),i=new Ne(n.fieldMask);return new Gr(r,i,n.fieldTransforms)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new Qr(br.Update,t,jt.EMPTY_PATH);pt("Data must be an object, but it was:",r,e);var i=[],o=ae.EMPTY;d(e,function(e,a){var s=yt(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Br)i.push(s);else{var c=n.parseData(a,u);null!=c&&(i.push(s),o=o.set(s,c))}});var a=new Ne(i);return new Kr(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new Qr(br.Update,t,jt.EMPTY_PATH),o=[dt(t,e)],a=[n];if(r.length%2!=0)throw new Ot(It.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(dt(t,r[s])),a.push(r[s+1]);var u=[],c=ae.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof Br)u.push(l);else{var p=this.parseData(f,h);null!=p&&(u.push(l),c=c.set(l,p))}}var d=new Ne(u);return new Kr(c,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new Qr(br.QueryValue,t,jt.EMPTY_PATH),r=this.parseData(e,n);return c(null!=r,"Parsed data should not be null."),c(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=gt(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if((t=this.runPreConverter(t,e))instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return e.path&&e.fieldMask.push(e.path),this.parseArray(t,e)}return ft(t)?(pt("Unsupported field value:",e,t),this.parseObject(t,e)):(e.path&&e.fieldMask.push(e.path),this.parseScalarValue(t,e))},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=Jt.INSTANCE),n.push(a),r++}return new se(n)},t.prototype.parseObject=function(t,e){var n=this,r=new qt(k);return d(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new ae(r)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Jt.INSTANCE;if("number"==typeof t)return function(t){return he(t)&&t<=le&&t>=ce}(t)?new Zt(t):new $t(t);if("boolean"==typeof t)return Xt.of(t);if("string"==typeof t)return new te(t);if(t instanceof Date)return new ee(Ce.fromDate(t));if(t instanceof Rt)return new oe(t);if(t instanceof At)return new re(t);if(t instanceof zr)return new ie(t.databaseId,t.key);if(t instanceof Ur){if(t instanceof Br){if(e.dataSource==br.MergeSet)return null;throw e.dataSource===br.Update?(c(null==e.path||e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() can only be used with update() and set() with {merge:true}")}if(t instanceof qr){if(!ht(e.dataSource))throw e.createError("FieldValue.serverTimestamp() can only be used with set() and update()");if(null===e.path)throw e.createError("FieldValue.serverTimestamp() is not currently supported inside arrays");return e.fieldTransforms.push(new Pe(e.path,Ae.instance)),null}return u("Unknown FieldValue type: "+t)}throw e.createError("Unsupported field value: "+I(t))},t}(),Xr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yr="firestore.googleapis.com",Zr=!0,$r=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new Ot(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yr,this.ssl=Zr}else E("settings","string","host",t.host),this.host=t.host,C("settings","boolean","ssl",t.ssl),this.ssl=function(t,e){return void 0!==t?t:Zr}(t.ssl);N("settings",t,["host","ssl","credentials"]),C("settings","object","credentials",t.credentials),this.credentials=t.credentials}return t.prototype.equals=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials},t}(),ti=function(){},ei=function(){function t(e){var n=this;this._queue=new Dr,this.INTERNAL={delete:function(){return n._firestoreClient?n._firestoreClient.shutdown():Promise.resolve()},disableNetwork:function(){return n._firestoreClient.disableNetwork()},enableNetwork:function(){return n._firestoreClient.enableNetwork()},drainAsyncQueue:function(t){return n._queue.drain(t)}};var r=new ti;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Lr(i)}else{var o=e;if(!o.projectId)throw new Ot(It.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new Dt(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Mr}r.settings=new $r({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(v("Firestore.settings",arguments,1),b("Firestore.settings","object",1,t),f(t,"persistence"))throw new Ot(It.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new $r(t);if(this._firestoreClient&&!this._config.settings.equals(e))throw new Ot(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Mr;switch(t.type){case"gapi":return new jr(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ot(It.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new Ot(It.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;c(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),c(!this._firestoreClient,"configureClient() called multiple times");var n=new function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new Jr(function(t){if(t instanceof ii){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.equals(n))throw new Ot(It.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new zr(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Rr(St.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!f(e,"projectId")){if(f(e,"firestoreId"))throw new Ot(It.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new Ot(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(f(e,"firestoreOptions"))throw new Ot(It.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new Ot(It.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Dt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new Ot(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(v("Firestore.collection",arguments,1),b("Firestore.collection","string",1,t),!t)throw new Ot(It.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new ui(Lt.fromString(t),this)},t.prototype.doc=function(t){if(v("Firestore.doc",arguments,1),b("Firestore.doc","string",1,t),!t)throw new Ot(It.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),ii.forPath(Lt.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return v("Firestore.runTransaction",arguments,1),b("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new ni(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new ri(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(r()){case Et.DEBUG:return"debug";case Et.ERROR:return"error";case Et.SILENT:return"silent";default:return u("Unknown log level: "+r())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(v("Firestore.setLogLevel",arguments,1),b("Firestore.setLogLevel","string",1,t),t){case"debug":i(Et.DEBUG);break;case"error":i(Et.ERROR);break;case"silent":i(Et.SILENT);break;default:throw new Ot(It.INVALID_ARGUMENT,"Invalid log level: "+t)}},t}(),ni=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;v("Transaction.get",arguments,1);var n=mt("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return u("Mismatch in docs returned from document lookup.");var r=t[0];return new oi(e._firestore,n._key,r instanceof Bt?null:r,!1)})},t.prototype.set=function(t,e,n){_("Transaction.set",arguments,2,3);var r=mt("Transaction.set",t,this._firestore),i=(n=vt("Transaction.set",n)).merge?this._firestore._dataConverter.parseMergeData("Transaction.set",e):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a;return"string"==typeof e||e instanceof hn?(m("Transaction.update",arguments,3),o=mt("Transaction.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,r)):(v("Transaction.update",arguments,2),o=mt("Transaction.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(o._key,a),this},t.prototype.delete=function(t){v("Transaction.delete",arguments,1);var e=mt("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),ri=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){_("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=mt("WriteBatch.set",t,this._firestore),i=(n=vt("WriteBatch.set",n)).merge?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ke.NONE)),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.verifyNotCommitted();var o,a;return"string"==typeof e||e instanceof hn?(m("WriteBatch.update",arguments,3),o=mt("WriteBatch.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,r)):(v("WriteBatch.update",arguments,2),o=mt("WriteBatch.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(a.toMutations(o._key,ke.exists(!0))),this},t.prototype.delete=function(t){v("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=mt("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Fe(e._key,ke.NONE)),this},t.prototype.commit=function(){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._firestore.ensureClientConfigured().write(this._mutations):Promise.resolve()},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new Ot(It.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ii=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new Ot(It.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new Vt(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ui(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(v("DocumentReference.collection",arguments,1),b("DocumentReference.collection","string",1,t),!t)throw new Ot(It.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Lt.fromString(t);return new ui(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw A("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.equals(e._key)},t.prototype.set=function(t,e){_("DocumentReference.set",arguments,1,2);var n=(e=vt("DocumentReference.set",e)).merge?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ke.NONE))},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i;return"string"==typeof t||t instanceof hn?(m("DocumentReference.update",arguments,2),i=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,n)):(v("DocumentReference.update",arguments,1),i=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(i.toMutations(this._key,ke.exists(!0)))},t.prototype.delete=function(){return v("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Fe(this._key,ke.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];_("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||lt(t[i])||(N("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),C("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeDocumentMetadataChanges:r.includeMetadataChanges,includeQueryMetadataChanges:r.includeMetadataChanges};return lt(t[i])?n=t[i]:(b("DocumentReference.onSnapshot","function",i,t[i]),w("DocumentReference.onSnapshot","function",i+1,t[i+1]),w("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new kr({next:function(t){if(e.next){c(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new oi(n.firestore,n._key,r,t.fromCache))}},error:r}),o=this._firestoreClient.listen(fe.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(){var t=this;return v("DocumentReference.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),!t.exists&&t.metadata.fromCache?n(new Ot(It.ABORTED,"Failed to get document because the client is offline.")):e(t)},error:n})})},t}(),oi=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(){if(v("DocumentSnapshot.data",arguments,0),!this._document)throw new Ot(It.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.data().");return this.convertObject(this._document.data)},t.prototype.get=function(t){if(v("DocumentSnapshot.get",arguments,1),!this._document)throw new Ot(It.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.get().");var e=this._document.data.field(dt("DocumentSnapshot.get",t));return void 0===e?void 0:this.convertValue(e)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ii(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return{hasPendingWrites:null!==this._document&&this._document.hasLocalMutations,fromCache:this._fromCache}},enumerable:!0,configurable:!0}),t.prototype.convertObject=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.convertValue(r)}),n},t.prototype.convertValue=function(t){if(t instanceof ae)return this.convertObject(t);if(t instanceof se)return this.convertArray(t);if(t instanceof ie){var e=t.value(),n=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.equals(n)||a("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new ii(e,this._firestore)}return t.value()},t.prototype.convertArray=function(t){var e=this;return t.internalValue.map(function(t){return e.convertValue(t)})},t}(),ai=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){v("Query.where",arguments,3),b("Query.where","string",2,n),O("Query.where",3,r);var i,o=dt("Query.where",e);if(o.isKeyField())if("string"==typeof r){if(-1!==r.indexOf("/"))throw new Ot(It.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new Ot(It.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var a=this._query.path.child(new Lt([r]));c(a.length%2==0,"Path should be a document key"),i=new ie(this.firestore._databaseId,new Vt(a))}else{if(!(r instanceof ii))throw new Ot(It.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+I(r)+".");i=new ie(this.firestore._databaseId,r._key)}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var s=function(t,e,n){if(n.equals(Jt.INSTANCE)){if(e!==pe.EQUAL)throw new Ot(It.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new ye(t)}if(n.equals($t.NAN)){if(e!==pe.EQUAL)throw new Ot(It.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new ge(t)}return new de(t,e,n)}(o,pe.fromString(n),i);return this.validateNewFilter(s),new t(this._query.addFilter(s),this.firestore)},t.prototype.orderBy=function(e,n){_("Query.orderBy",arguments,1,2),w("Query.orderBy","string",2,n);var r;if(void 0===n||"asc"===n)r=ve.ASCENDING;else{if("desc"!==n)throw new Ot(It.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=ve.DESCENDING}if(null!==this._query.startAt)throw new Ot(It.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Ot(It.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=dt("Query.orderBy",e),o=new _e(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(v("Query.limit",arguments,1),b("Query.limit","number",1,e),e<=0)throw new Ot(It.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];m("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];m("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];m("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];m("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw A("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.equals(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(O(t,1,e),e instanceof oi){if(n.length>0)throw new Ot(It.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new Ot(It.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new ie(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new Ot(It.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new me(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new Ot(It.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new Ot(It.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new Ot(It.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new Vt(this._query.path.child(a));i.push(new ie(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new me(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];_("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||lt(t[i])||(N("Query.onSnapshot",r=t[i],["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),C("Query.onSnapshot","boolean","includeDocumentMetadataChanges",r.includeDocumentMetadataChanges),C("Query.onSnapshot","boolean","includeQueryMetadataChanges",r.includeQueryMetadataChanges),i++),lt(t[i])?n=t[i]:(b("Query.onSnapshot","function",i,t[i]),w("Query.onSnapshot","function",i+1,t[i+1]),w("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new kr({next:function(t){e.next&&e.next(new si(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(){var t=this;return v("Query.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),e(t)},error:n})})},t.prototype.validateNewFilter=function(t){if(t instanceof de&&t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.equals(t.field))throw new Ot(It.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.equals(t))throw new Ot(It.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),si=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this.metadata={fromCache:n.fromCache,hasPendingWrites:n.hasPendingWrites}}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;_("QuerySnapshot.forEach",arguments,1,2),b("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new ai(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=function(t,e){if(e.oldDocs.isEmpty()){var n,r=0;return e.docChanges.map(function(i){var o=new oi(t,i.doc.key,i.doc,e.fromCache);return c(i.type===dn.Added,"Invalid event type for first snapshot"),c(!n||e.query.docComparator(n,i.doc)<0,"Got added events in wrong order"),n=i.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}})}var i=e.oldDocs;return e.docChanges.map(function(n){var r=new oi(t,n.doc.key,n.doc,e.fromCache),o=-1,a=-1;return n.type!==dn.Added&&(c((o=i.indexOf(n.doc.key))>=0,"Index for document not found"),i=i.delete(n.doc.key)),n.type!==dn.Removed&&(a=(i=i.add(n.doc)).indexOf(n.doc.key)),{type:function(t){switch(t){case dn.Added:return"added";case dn.Modified:case dn.Metadata:return"modified";case dn.Removed:return"removed";default:return u("Unknown change type: "+t)}}(n.type),doc:r,oldIndex:o,newIndex:a}})}(this._firestore,this._snapshot)),this._cachedChanges},enumerable:!0,configurable:!0}),t.prototype.convertToDocumentImpl=function(t){return new oi(this._firestore,t.key,t,this.metadata.fromCache)},t}(),ui=function(t){function e(e,n){var r=t.call(this,fe.atPath(e),n)||this;if(e.length%2!=1)throw new Ot(It.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return Xr(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new ii(new Vt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(_("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Nt.newId()),b("CollectionReference.doc","string",1,t),""===t)throw new Ot(It.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=Lt.fromString(t);return ii.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){v("CollectionReference.add",arguments,1),b("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(ai),ci=h(ei,"Use firebase.firestore() instead."),li=h(ni,"Use firebase.firestore().runTransaction() instead."),hi=h(ri,"Use firebase.firestore().batch() instead."),fi=h(ii,"Use firebase.firestore().doc() instead."),pi=h(oi),di=h(ai),yi=h(si),gi=h(ui,"Use firebase.firestore().collection() instead."),vi={Firestore:ci,GeoPoint:Rt,Blob:Pt,Transaction:li,WriteBatch:hi,DocumentReference:fi,DocumentSnapshot:pi,Query:di,QuerySnapshot:yi,CollectionReference:gi,FieldPath:hn,FieldValue:Wr,setLogLevel:ei.setLogLevel};e.registerFirestore=_t,_t(bt.default)},hQ4o:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO");e.PacketReceiver=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var e=function(e){t[e]&&r.exceptionGuard(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}()},hcEN:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF");var r=function(){function t(){}return t.prototype.ngOnInit=function(){},t}()},hkXn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("fvGz"),o=n("JEJ4"),a=function(){this.children={},this.childCount=0,this.value=null};e.TreeNode=a,e.Tree=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new a),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof i.Path?e:new i.Path(e),s=this;null!==(n=r.getFront());)s=new t(n,s,o.safeGet(s.node_.children,n)||new a),r=r.popFront();return s},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){r.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;o.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new i.Path(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=o.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}()},iEW0:function(t,e,n){var r=n("kUdC");n("Rv9P"),n("Dvgu"),n("Y5DG"),n("ce4+"),t.exports=r},isNy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}();e.SortedMapIterator=r;var i=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:a.EMPTY_NODE,this.right=null!=o?o:a.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return i=this,r=n(t,i.key),(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return a.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return a.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}();e.LLRBNode=i;var o=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new i(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}();e.LLRBEmptyNode=o;var a=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,i.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,i.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new r(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new r(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new r(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new r(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new o,t}();e.SortedMap=a},j0qB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),i=n("Rgd9"),o=n("UcKF"),a=n("FGYS");e.Connection=function(){function t(t,e,n,i,o,s,u){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=r.logWrapper("c:"+this.id+":"),this.transportManager_=new a.TransportManager(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=r.setTimeoutNonBlocking(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=r.requireKey("t",t),n=r.requireKey("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=r.requireKey("t",t),n=r.requireKey("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=r.requireKey("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?r.error("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):r.error("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),o.PROTOCOL_VERSION!==n&&r.warn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),r.setTimeoutNonBlocking(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):r.setTimeoutNonBlocking(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(i.PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}()},j3M3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("R3TC");e.SnapshotHolder=function(){function t(){this.rootNode_=r.ChildrenNode.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}()},kCHx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gOHv"),i=n("fvGz");e.Overwrite=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=r.OperationType.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,i.Path.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}()},kQVV:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length}},kUdC:function(t,e,n){n("ryHz"),t.exports=n("XtH8").default},lDZL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO");e.EventQueue=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.getPath();null===e||o.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new i(o)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}();var i=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();r.logger&&r.log("event: "+e.toString()),r.exceptionGuard(n)}}},t.prototype.getPath=function(){return this.path_},t}();e.EventList=i},lI6h:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(){t.apply(this,arguments)}return Object(r.b)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("E9/g").a)},mGH2:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF"),n("NtEA");var r=function(){function t(t){this.fbs=t}return t.prototype.getUserStars=function(t){var e=this.fbs.queryFn("where",["userId","==",t]);return this.fbs.getCollectionRef("car-stars",e).valueChanges()},t.prototype.getCarStars=function(t){return this.fbs.getCollectionRef("car-stars",this.carIdQueryFn(t)).valueChanges()},t.prototype.carIdQueryFn=function(t){return function(e){return e.where("carId","==",t)}},t.prototype.setStar=function(t,e,n){var r={userId:t,carId:e,value:n};return r.id=r.userId+"_"+r.carId,this.fbs.updateDoc("car-stars",r)},t.prototype.getAvgCarRating=function(t){return this.getCarStars(t).map(function(t){var e=t.map(function(t){return t.value});return{avgRating:e.length?e.reduce(function(t,e){return t+e})/t.length:"not reviewed",votes:e.length?e.length:null}})},t}()},mHG6:function(t,e,n){"use strict";e.a=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},mNfF:function(t,e){!function(e){function n(){}function r(t){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}function i(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,r._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void a(e.promise,t)}o(e.promise,r)}else(1===t._state?o:a)(e.promise,t._value)})):t._deferreds.push(e)}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void u(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,s(t)}catch(e){a(t,e)}}function a(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)i(t,t._deferreds[e]);t._deferreds=null}function u(t,e){var n=!1;try{t(function(t){n||(n=!0,o(e,t))},function(t){n||(n=!0,a(e,t))})}catch(t){if(n)return;n=!0,a(e,t)}}var c=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var r=new this.constructor(n);return i(this,new function(e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=r}(t,e,r)),r},r.all=function(t){return new r(function(e,n){function r(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(t,e)},n)}i[t]=a,0==--o&&e(i)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){c(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=r:e.Promise||(e.Promise=r)}(this)},mZoP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("JEJ4"),o=n("Rgd9"),a=n("UcKF");e.RepoInfo=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=o.PersistentStorage.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&o.PersistentStorage.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){r.assert("string"==typeof t,"typeof type must == string"),r.assert("object"==typeof e,"typeof params must == object");var n;if(t===a.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==a.LONG_POLLING)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var o=[];return i.forEach(e,function(t,e){o.push(t+"="+e)}),n+o.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}()},miEe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("F1yO"),o=n("stu6"),a=n("/fob"),s=n("Nq7v"),u=n("G0Qy"),c=n("W4Cj"),l=n("n3qp"),h=n("XiwH"),f=n("JEJ4");e.QueryParams=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=a.PRIORITY_INDEX}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:i.MIN_NAME},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:i.MAX_NAME},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return r.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==a.PRIORITY_INDEX&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==a.PRIORITY_INDEX},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new c.IndexedFilter(this.getIndex()):this.hasLimit()?new l.LimitedFilter(this):new h.RangedFilter(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var i;return this.index_===a.PRIORITY_INDEX?i=e.PRIORITY_INDEX:this.index_===s.VALUE_INDEX?i=e.VALUE_INDEX:this.index_===o.KEY_INDEX?i=e.KEY_INDEX:(r.assert(this.index_ instanceof u.PathIndex,"Unrecognized index type!"),i=this.index_.toString()),n[e.ORDER_BY]=f.stringify(i),this.startSet_&&(n[e.START_AT]=f.stringify(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+f.stringify(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=f.stringify(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+f.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}()},mz3w:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e,r=n("xIGM").a.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}()},n3qp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("XiwH"),i=n("R3TC"),o=n("p+VM"),a=n("JEJ4"),s=n("ertD");e.LimitedFilter=function(){function t(t){this.rangedFilter_=new r.RangedFilter(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,a,s){return this.rangedFilter_.matches(new o.NamedNode(e,n))||(n=i.ChildrenNode.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,a,s):this.fullLimitUpdateChild_(t,e,n,a,s)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var s=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),a++}}else{r=(r=e.withIndex(this.index_)).updatePriority(i.ChildrenNode.EMPTY_NODE);var u=void 0,c=void 0,l=void 0;if(o=void 0,this.reverse_){o=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(t,e){return h(e,t)}}else o=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();a=0;for(var f=!1;o.hasNext();)s=o.getNext(),!f&&l(u,s)<=0&&(f=!0),f&&a<this.limit_&&l(s,c)<=0?a++:r=r.updateImmediateChild(s.name,i.ChildrenNode.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,u){var c;if(this.reverse_){var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else c=this.index_.getCompare();var h=t;a.assert(h.numChildren()==this.limit_,"");var f=new o.NamedNode(e,n),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),d=this.rangedFilter_.matches(f);if(h.hasChild(e)){for(var y=h.getImmediateChild(e),g=r.getChildAfterChild(this.index_,p,this.reverse_);null!=g&&(g.name==e||h.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);var v=null==g?1:c(g,f);if(d&&!n.isEmpty()&&v>=0)return null!=u&&u.trackChildChange(s.Change.childChangedChange(e,n,y)),h.updateImmediateChild(e,n);null!=u&&u.trackChildChange(s.Change.childRemovedChange(e,y));var m=h.updateImmediateChild(e,i.ChildrenNode.EMPTY_NODE);return null!=g&&this.rangedFilter_.matches(g)?(null!=u&&u.trackChildChange(s.Change.childAddedChange(g.name,g.node)),m.updateImmediateChild(g.name,g.node)):m}return n.isEmpty()?t:d&&c(p,f)>=0?(null!=u&&(u.trackChildChange(s.Change.childRemovedChange(p.name,p.node)),u.trackChildChange(s.Change.childAddedChange(e,n))),h.updateImmediateChild(e,n).updateImmediateChild(p.name,i.ChildrenNode.EMPTY_NODE)):t},t}()},nAqi:function(t,e,n){"use strict";e.a=function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}};var r=n("6Xbx"),i=n("E9/g"),o=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(i.a)},opdF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.StatsListener=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=r.clone(t);return this.last_&&r.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}()},oyal:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("xfHL"),o=n("F1yO"),a=n("JEJ4");e.OnDisconnect=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){r.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),r.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){r.validateArgCount("OnDisconnect.remove",0,1,arguments.length),i.validateWritablePath("OnDisconnect.remove",this.path_),r.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){r.validateArgCount("OnDisconnect.set",1,2,arguments.length),i.validateWritablePath("OnDisconnect.set",this.path_),i.validateFirebaseDataArg("OnDisconnect.set",1,t,this.path_,!1),r.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){r.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),i.validateWritablePath("OnDisconnect.setWithPriority",this.path_),i.validateFirebaseDataArg("OnDisconnect.setWithPriority",1,t,this.path_,!1),i.validatePriority("OnDisconnect.setWithPriority",2,e,!1),r.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var o=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,o.wrapCallback(n)),o.promise},t.prototype.update=function(t,e){if(r.validateArgCount("OnDisconnect.update",1,2,arguments.length),i.validateWritablePath("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},s=0;s<t.length;++s)n[""+s]=t[s];t=n,o.warn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}i.validateFirebaseMergeDataArg("OnDisconnect.update",1,t,this.path_,!1),r.validateCallback("OnDisconnect.update",2,e,!0);var u=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,u.wrapCallback(e)),u.promise},t}()},ozyc:function(t,e,n){"use strict";e.a=function(t,e){return void 0===e&&(e=0),Object(r.b)(t,e)(this)};var r=n("YRqN")},"p+VM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}()},pHuv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("ZGn5"),i=n("43Go"),o=n("fvGz"),a=n("z8+r"),s=n("Htcq"),u=n("j3M3"),c=n("JEJ4"),l=n("F1yO"),h=n("JEJ4"),f=n("phte"),p=n("cm6g"),d=n("zPe/"),y=n("opdF"),g=n("lDZL"),v=n("xhf5"),m=n("6oqh"),_=n("8UuO");e.Repo=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g.EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new a.SparseSnapshotTree,this.persistentConnection_=null;var i=new f.AuthTokenProvider(n);if(this.stats_=p.StatsManager.getCollection(t),e||l.beingCrawled())this.server_=new m.ReadonlyRestClient(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{c.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new v.PersistentConnection(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=p.StatsManager.getOrCreateReporter(t,function(){return new d.StatsReporter(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new u.SnapshotHolder,this.infoSyncTree_=new s.SyncTree({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new s.SyncTree({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new o.Path(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return r.generateWithValues({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var a=new o.Path(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var u=h.map(e,function(t){return i.nodeFromJSON(t)});s=this.serverSyncTree_.applyTaggedQueryMerge(a,u,r)}else{var c=i.nodeFromJSON(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(a,c,r)}else if(n){var l=h.map(e,function(t){return i.nodeFromJSON(t)});s=this.serverSyncTree_.applyServerMerge(a,l)}else{var f=i.nodeFromJSON(e);s=this.serverSyncTree_.applyServerOverwrite(a,f)}var p=a;s.length>0&&(p=this.rerunTransactions_(a)),this.eventQueue_.raiseEventsForChangedPath(p,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;l.each(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new o.Path("/.info/"+t),r=i.nodeFromJSON(e);this.infoData_.updateSnapshot(n,r);var a=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,a)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,o){var a=this;this.log_("set",{path:t.toString(),value:e,priority:n});var s=this.generateServerValues(),u=i.nodeFromJSON(e,n),c=r.resolveDeferredValueSnapshot(u,s),h=this.getNextWriteId_(),f=this.serverSyncTree_.applyUserOverwrite(t,c,h,!0);this.eventQueue_.queueEvents(f),this.server_.put(t.toString(),u.val(!0),function(e,n){var r="ok"===e;r||l.warn("set at "+t+" failed: "+e);var i=a.serverSyncTree_.ackUserWrite(h,!r);a.eventQueue_.raiseEventsForChangedPath(t,i),a.callOnCompleteCallback(o,e,n)});var p=this.abortTransactions_(t);this.rerunTransactions_(p),this.eventQueue_.raiseEventsForChangedPath(p,[])},t.prototype.update=function(t,e,n){var o=this;this.log_("update",{path:t.toString(),value:e});var a=!0,s=this.generateServerValues(),u={};if(h.forEach(e,function(t,e){a=!1;var n=i.nodeFromJSON(e);u[t]=r.resolveDeferredValueSnapshot(n,s)}),a)l.log("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var c=this.getNextWriteId_(),f=this.serverSyncTree_.applyUserMerge(t,u,c);this.eventQueue_.queueEvents(f),this.server_.merge(t.toString(),e,function(e,r){var i="ok"===e;i||l.warn("update at "+t+" failed: "+e);var a=o.serverSyncTree_.ackUserWrite(c,!i),s=a.length>0?o.rerunTransactions_(t):t;o.eventQueue_.raiseEventsForChangedPath(s,a),o.callOnCompleteCallback(n,e,r)}),h.forEach(e,function(e){var n=o.abortTransactions_(t.child(e));o.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=[];r.resolveDeferredValueTree(this.onDisconnect_,e).forEachTree(o.Path.Empty,function(e,r){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,r));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new a.SparseSnapshotTree,this.eventQueue_.raiseEventsForChangedPath(o.Path.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,o=i.nodeFromJSON(e);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,i){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(n,e,i)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var o=this,a=i.nodeFromJSON(e,n);this.server_.onDisconnectPut(t.toString(),a.val(!0),function(e,n){"ok"===e&&o.onDisconnect_.remember(t,a),o.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(h.isEmpty(e))return l.log("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(o,a){"ok"===o&&h.forEach(e,function(e,n){var o=i.nodeFromJSON(n);r.onDisconnect_.remember(t.child(e),o)}),r.callOnCompleteCallback(n,o,a)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new y.StatsListener(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);h.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),l.log.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&l.exceptionGuard(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new _.Database(this))},enumerable:!0,configurable:!0}),t}()},phte:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO");e.AuthTokenProvider=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(r.log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';r.warn(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}()},qLnt:function(t,e,n){"use strict";function r(){try{return a.apply(this,arguments)}catch(t){return l.e=t,l}}function i(t){return a=t,r}function o(t){return t.reduce(function(t,e){return t.concat(e instanceof f?e.errors:e)},[])}var a,s=n("1j/l"),u=n("NGRF"),c=n("B1iP"),l={e:{}},h=n("6Xbx"),f=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return Object(h.b)(e,t),e}(Error);n.d(e,"a",function(){return p});var p=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,a=this._unsubscribe,h=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=r?r.length:0;n;)n.remove(this),n=++p<d&&r[p]||null;if(Object(c.a)(a)&&i(a).call(this)===l&&(e=!0,t=t||(l.e instanceof f?o(l.e.errors):[l.e])),Object(s.a)(h))for(p=-1,d=h.length;++p<d;){var y=h[p];if(Object(u.a)(y)&&i(y.unsubscribe).call(y)===l){e=!0,t=t||[];var g=l.e;g instanceof f?t=t.concat(o(g.errors)):t.push(g)}}if(e)throw new f(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},qYrH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),i=n("r9Yg"),o=n("cm6g"),a=n("hQ4o"),s=n("UcKF"),u=n("JEJ4"),c=n("JEJ4");e.FIREBASE_LONGPOLL_START_PARAM="start",e.FIREBASE_LONGPOLL_CLOSE_COMMAND="close",e.FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",e.FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",e.FIREBASE_LONGPOLL_ID_PARAM="id",e.FIREBASE_LONGPOLL_PW_PARAM="pw",e.FIREBASE_LONGPOLL_SERIAL_PARAM="ser",e.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",e.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",e.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",e.FIREBASE_LONGPOLL_DATA_PARAM="d",e.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",e.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",e.BrowserPollConnection=function(){function t(t,e,n,i){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=r.logWrapper(t),this.stats_=o.StatsManager.getCollection(e),this.urlFn=function(t){return e.connectionURL(s.LONG_POLLING,t)}}return t.prototype.open=function(t,n){var i=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new a.PacketReceiver(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null},Math.floor(3e4)),r.executeWhenDOMReady(function(){if(!i.isClosed_){i.scriptTagHolder=new l(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t[1],a=t[2];if(i.incrementIncomingBytes_(t),i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,r==e.FIREBASE_LONGPOLL_START_PARAM)i.id=o,i.password=a;else{if(r!==e.FIREBASE_LONGPOLL_CLOSE_COMMAND)throw new Error("Unrecognized command received: "+r);o?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(o,function(){i.onClosed_()})):i.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];i.incrementIncomingBytes_(t),i.myPacketOrderer.handleResponse(n,r)},function(){i.onClosed_()},i.urlFn);var t={};t[e.FIREBASE_LONGPOLL_START_PARAM]="t",t[e.FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(t[e.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=i.scriptTagHolder.uniqueCallbackIdentifier),t[s.VERSION_PARAM]=s.PROTOCOL_VERSION,i.transportSessionId&&(t[s.TRANSPORT_SESSION_PARAM]=i.transportSessionId),i.lastSessionId&&(t[s.LAST_SESSION_PARAM]=i.lastSessionId),!c.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(t[s.REFERER_PARAM]=s.FORGE_REF);var n=i.urlFn(t);i.log_("Connecting via long-poll to "+n),i.scriptTagHolder.addTag(n,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!r.isChromeExtensionContentScript()&&!r.isWindowsStoreApp()&&!c.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=u.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=u.base64Encode(e),i=r.splitStringBySize(n,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,n){if(!c.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var r={};r[e.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",r[e.FIREBASE_LONGPOLL_ID_PARAM]=t,r[e.FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=u.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}();var l=function(){function t(n,o,a,s){if(this.onDisconnect=a,this.urlFn=s,this.outstandingRequests=new i.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,c.isNodeSdk())this.commandCB=n,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=r.LUIDGenerator(),window[e.FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=n,window[e.FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=o,this.myIFrame=t.createIFrame_();var u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(u='<script>document.domain="'+document.domain+'";<\/script>');var l="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(t){r.log("frame writing exception"),t.stack&&r.log(t.stack),r.log(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||r.log("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var n=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==n.myIFrame&&(document.body.removeChild(n.myIFrame),n.myIFrame=null)},Math.floor(0))),c.isNodeSdk()&&this.myID){var r={};r[e.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM]="t",r[e.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,r[e.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW;var i=this.urlFn(r);t.nodeRestRequest(i)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[e.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,t[e.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,t[e.FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){var o=this.pendingSegs.shift();r=r+"&"+e.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+i+"="+o.seg+"&"+e.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+i+"="+o.ts+"&"+e.FIREBASE_LONGPOLL_DATA_PARAM+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;c.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){r.log("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(t){}},Math.floor(1))},t}();e.FirebaseIFrameScriptHolder=l},qgI0:function(t,e,n){"use strict";var r=n("xIGM"),i=n("kQVV"),o=n("mHG6"),a=n("NGRF"),s=n("AP4T"),u=n("X3fp"),c=n("6Xbx"),l=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return Object(c.b)(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("E9/g").a),h=n("mz3w");e.a=function(t,e,n,c){var f=new l(t,n,c);if(f.closed)return null;if(e instanceof s.a)return e._isScalar?(f.next(e.value),f.complete(),null):(f.syncErrorThrowable=!0,e.subscribe(f));if(Object(i.a)(e)){for(var p=0,d=e.length;p<d&&!f.closed;p++)f.next(e[p]);f.closed||f.complete()}else{if(Object(o.a)(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){r.a.setTimeout(function(){throw t})}),f;if(e&&"function"==typeof e[u.a])for(var y=e[u.a]();;){var g=y.next();if(g.done){f.complete();break}if(f.next(g.value),f.closed)break}else if(e&&"function"==typeof e[h.a]){var v=e[h.a]();if("function"==typeof v.subscribe)return v.subscribe(new l(t,n,c));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var m="You provided "+(Object(a.a)(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(m))}}return null}},r9Yg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.CountedSet=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return r.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return r.isEmpty(this.set)},t.prototype.count=function(){return r.getCount(this.set)},t.prototype.each=function(t){r.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return r.forEach(this.set,function(e){t.push(e)}),t},t}()},rB9K:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("stu6"),a=n("/fob"),s=n("Nq7v"),u=n("G0Qy"),c=n("F1yO"),l=n("fvGz"),h=n("xfHL"),f=n("JEJ4"),p=n("rtGJ"),d=n("JEJ4");e.Query=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return i.assert(r,"Reference.ts has not been loaded"),r},set:function(t){r=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===o.KEY_INDEX){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=c.MIN_NAME)throw new Error(r);if("string"!=typeof e)throw new Error(l)}if(t.hasEnd()){if(t.getIndexEndName()!=c.MAX_NAME)throw new Error(r);if("string"!=typeof n)throw new Error(l)}}else if(t.getIndex()===a.PRIORITY_INDEX){if(null!=e&&!h.isValidPriority(e)||null!=n&&!h.isValidPriority(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(i.assert(t.getIndex()instanceof u.PathIndex||t.getIndex()===s.VALUE_INDEX,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return f.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){f.validateArgCount("Query.on",2,4,arguments.length),h.validateEventType("Query.on",1,e,!1),f.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new p.ValueEventRegistration(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new p.ChildEventRegistration(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){f.validateArgCount("Query.off",0,3,arguments.length),h.validateEventType("Query.off",1,t,!0),f.validateCallback("Query.off",2,e,!0),f.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new p.ValueEventRegistration(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new p.ChildEventRegistration(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;f.validateArgCount("Query.once",1,4,arguments.length),h.validateEventType("Query.once",1,e,!1),f.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new d.Deferred;u.promise.catch(function(){});var c=function(t){s&&(s=!1,o.off(e,c),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,c,function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(f.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(f.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(f.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');h.validatePathString("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new l.Path(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new u.PathIndex(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){f.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(o.KEY_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){f.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(a.PRIORITY_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){f.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(s.VALUE_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),f.validateArgCount("Query.startAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.startAt",1,e,this.path,!0),h.validateKey("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),f.validateArgCount("Query.endAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.endAt",1,e,this.path,!0),h.validateKey("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(f.validateArgCount("Query.equalTo",1,2,arguments.length),h.validateFirebaseDataArg("Query.equalTo",1,t,this.path,!1),h.validateKey("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return f.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return f.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=c.ObjectToUniqueKey(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(f.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,f.validateCallback(t,3,r.cancel,!0),r.context=n,f.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(f.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}()},rbSf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("fvGz"),o=n("gOHv");e.AckUserWrite=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=o.OperationType.ACK_USER_WRITE,this.source=o.OperationSource.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return r.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new i.Path(e));return new t(i.Path.Empty,n,this.revert)}return r.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}()},rtGJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("GnQ5"),i=n("A4jy"),o=n("JEJ4"),a=n("JEJ4");e.ValueEventRegistration=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new i.DataEvent("value",this,new r.DataSnapshot(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new i.CancelEvent(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),e.ChildEventRegistration=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,o.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new i.CancelEvent(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),o=e.getQueryParams().getIndex();return new i.DataEvent(t.type,this,new r.DataSnapshot(t.snapshotNode,n,o),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=o.getCount(e.callbacks_);if(n===o.getCount(this.callbacks_)){if(1===n){var r=o.getAnyKey(e.callbacks_),i=o.getAnyKey(this.callbacks_);return!(i!==r||e.callbacks_[r]&&this.callbacks_[i]&&e.callbacks_[r]!==this.callbacks_[i])}return o.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}()},ryHz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fAJX"),i=(n.n(r),n("vrVh")),o=(n.n(i),n("ctu8"));n.n(o)},sZ8A:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.nextPushId=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(i){var o=i===e;e=i;var a,s=new Array(8);for(a=7;a>=0;a--)s[a]=t.charAt(i%64),i=Math.floor(i/64);r.assert(0===i,"Cannot push at time == 0");var u=s.join("");if(o){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)u+=t.charAt(n[a]);return r.assert(20===u.length,"nextPushId: Length should be 20."),u}}()},stu6:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("GboV"),a=n("p+VM"),s=n("F1yO"),u=n("JEJ4"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return i},set:function(t){i=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return s.nameCompare(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw u.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return a.NamedNode.MIN},e.prototype.maxPost=function(){return new a.NamedNode(s.MAX_NAME,i)},e.prototype.makePost=function(t,e){return u.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new a.NamedNode(t,i)},e.prototype.toString=function(){return".key"},e}(o.Index);e.KeyIndex=c,e.KEY_INDEX=new c},tYwN:function(t,e,n){"use strict";function r(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return c.RepoManager.getInstance().databaseFromApp(t,n)},{Reference:s.Reference,Query:a.Query,Database:o.Database,enableLogging:u.enableLogging,INTERNAL:l,ServerValue:p,TEST_ACCESS:h},null,!0);f.isNodeSdk()&&(t.exports=n)}Object.defineProperty(e,"__esModule",{value:!0});var i=n("XtH8"),o=n("8UuO");e.Database=o.Database;var a=n("rB9K");e.Query=a.Query;var s=n("5pXs");e.Reference=s.Reference;var u=n("F1yO");e.enableLogging=u.enableLogging;var c=n("+VeI"),l=n("xvZM"),h=n("7qHF"),f=n("JEJ4"),p=o.Database.ServerValue;e.ServerValue=p,e.registerDatabase=r,r(i.default);var d=n("GnQ5");e.DataSnapshot=d.DataSnapshot;var y=n("oyal");e.OnDisconnect=y.OnDisconnect},uCc5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("y8hQ"),o=n("R3TC"),a=n("JEJ4"),s=n("JEJ4"),u=n("bN85"),c=n("0npo");e.SyncPoint=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(r,"Reference.ts has not been loaded"),r},set:function(t){a.assert(!r,"__referenceConstructor has already been defined"),r=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return s.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=s.safeGet(this.views_,r);return a.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return s.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,a){var l=t.queryIdentifier(),h=s.safeGet(this.views_,l);if(!h){var f=n.calcCompleteEventCache(a?r:null),p=!1;f?p=!0:r instanceof o.ChildrenNode?(f=n.calcCompleteEventChildren(r),p=!1):(f=o.ChildrenNode.EMPTY_NODE,p=!1);var d=new u.ViewCache(new i.CacheNode(f,p,!1),new i.CacheNode(r,a,!1));h=new c.View(t,d),this.views_[l]=h}return h.addEventRegistration(e),h.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],a=[],u=this.hasCompleteView();if("default"===i){var c=this;s.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete c.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var l=s.safeGet(this.views_,i);l&&(a=a.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return s.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return s.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return s.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}()},usOC:function(t,e,n){"use strict";function r(t){return"storage/"+t}function i(){return new at(st.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(){return new at(st.CANCELED,"User canceled the upload/download.")}function a(){return new at(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function s(t,e,n){return new at(st.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function u(){return new at(st.APP_DELETED,"The Firebase app was deleted.")}function c(t,e){return new at(st.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function l(t){throw new at(st.INTERNAL_ERROR,"Internal error: "+t)}function h(t){switch(t){case ut.RAW:case ut.BASE64:case ut.BASE64URL:case ut.DATA_URL:return;default:throw"Expected one of the event types: ["+ut.RAW+", "+ut.BASE64+", "+ut.BASE64URL+", "+ut.DATA_URL+"]."}}function f(t,e){switch(t){case ut.RAW:return new ct(p(e));case ut.BASE64:case ut.BASE64URL:return new ct(d(t,e));case ut.DATA_URL:return new ct(function(t){var n=new lt(e);return n.base64?d(ut.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw c(ut.DATA_URL,"Malformed data URL.")}return p(e)}(n.rest)}(),new lt(e).contentType)}throw i()}function p(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function d(t,e){switch(t){case ut.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw c(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ut.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw c(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw c(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}function y(t){switch(t){case ft.RUNNING:case ft.PAUSING:case ft.CANCELING:return pt.RUNNING;case ft.PAUSED:return pt.PAUSED;case ft.SUCCESS:return pt.SUCCESS;case ft.CANCELED:return pt.CANCELED;case ft.ERROR:default:return pt.ERROR}}function g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function v(t,e){for(var n in t)g(t,n)&&e(n,t[n])}function m(t){if(null==t)return{};var e={};return v(t,function(t,n){e[t]=n}),e}function _(t){return new Promise(t)}function b(t){return Promise.resolve(t)}function w(t){return null!=t}function E(t){return void 0!==t}function C(t){return"function"==typeof t}function S(t){return"object"==typeof t}function T(t){return S(t)&&null!==t}function I(t){return"string"==typeof t||t instanceof String}function O(t){return N()&&t instanceof Blob}function N(){return"undefined"!=typeof Blob}function A(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function P(t){return tt+et+t}function R(t){return tt+nt+t}function k(t){var e=encodeURIComponent,n="?";return v(t,function(t,r){var i=e(t)+"="+e(r);n=n+i+"&"}),n=n.slice(0,-1)}function D(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function x(t){if(!t||!S(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!S(n))throw"Expected object for 'customMetadata' mapping."}else if(T(n))throw"Mapping for '"+e+"' cannot be an object."}}function M(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw function(e,o,a,s){var u,c;return r===i?(u=r,c=1===r?"argument":"arguments"):(u="between "+r+" and "+i,c="arguments"),new at(st.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+u+" "+c+", received "+n.length+".")}();for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?s(o,t,e.message):s(o,t,e)}}function L(t,e){function n(t){if(!I(t))throw"Expected string."}var r;return r=t?function(t,e){return function(n){t(n),e(n)}}(n,t):n,new bt(r,e)}function F(t){return new bt(x,t)}function j(){return new bt(function(t){if(!(("number"==typeof t||t instanceof Number)&&t>=0))throw"Expected a number 0 or greater."})}function V(t,e){return new bt(function(e){if(!(null===e||w(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)},e)}function U(t){return new bt(function(t){if(null!==t&&!C(t))throw"Expected a Function."},t)}function B(t,e){return-1!==t.indexOf(e)}function q(t){if(!t)throw i()}function W(t,e){return function(n,r){var i=function(t,e,n){var i=function(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return S(t)&&!Array.isArray(t)}(e)?e:null}(r);return null===i?null:function(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new vt(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,i,n)}(t,0,e);return q(null!==i),i}}function H(t){return function(e,n){var r;return(r=401===e.getStatus()?new at(st.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new at(st.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new at(st.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function G(t){var e=H(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new at(st.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function K(t,e,n){var r=P(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new Et(r,"GET",W(t,n),i);return o.errorHandler=G(e),o}function Q(t,e,n){var r=m(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=e&&e.type()||"application/octet-stream"),r}function z(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){q(!1)}return q(B(e||["active"],n)),n}function J(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];b(!0).then(function(){t.apply(null,e)})}}function X(t,e,n){var r=k(t.urlParams),i=t.url+r,o=m(t.headers);return null!==e&&e.length>0&&(o.Authorization="Firebase "+e),o["X-Firebase-Storage-Version"]="webjs/"+(void 0!==$.default?$.default.SDK_VERSION:"AppManager"),new Rt(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}function Y(t,e,n){return new Dt(t,new gt,n)}function Z(t){t.INTERNAL.registerService(Mt,Y,{TaskState:pt,TaskEvent:ht,StringFormat:ut,Storage:Dt,Reference:Ot},void 0,!0)}Object.defineProperty(e,"__esModule",{value:!0});var $=n("XtH8"),tt="https://firebasestorage.googleapis.com",et="/v0",nt="/v0",rt=12e4,it=6e4,ot=-9007199254740991,at=function(){function t(t,e){this.code_=r(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return r(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),st={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},ut={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ct=function(t,e){this.data=t,this.contentType=e||null},lt=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw c(ut.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=!!(n.length>=";base64".length)&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}(),ht={STATE_CHANGED:"state_changed"},ft={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},pt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},dt=function(){var t={};return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(),yt=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=dt.NO_ERROR,this.sendPromise_=_(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=dt.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=dt.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw l("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,t,!0),w(r)&&v(r,function(t,e){i.xhr_.setRequestHeader(t,e.toString())}),w(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw l("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw l("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw l("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){w(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){w(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),gt=function(){function t(){}return t.prototype.createXhrIo=function(){return new yt},t}(),vt=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new at(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],i=0;i<r.length;i++){var o=r[i],a=o.regex.exec(e);if(a){var s=a[o.indices.path];s||(s=""),n=new t(a[o.indices.bucket],s),o.postModify(n);break}}if(null==n)throw new at(st.INVALID_URL,"Invalid URL '"+e+"'.");return n},t}(),mt=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||function(t,e){return e}},_t=null,bt=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!E(e)||t(e)},this.optional=!!e}}(),wt=function(){function t(t,e){var n=0,r="";O(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(O(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(N()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(N())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}.apply(null,r))}var i=e.map(function(t){return I(t)?f(ut.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Et=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]},Ct=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null},St=function(){return function(t,e,n){if(C(t)||w(e)||w(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),Tt=function(){function t(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}return Object.defineProperty(t.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var t=this.metadata.downloadURLs;return null!=t&&null!=t[0]?t[0]:null}return null},enumerable:!0,configurable:!0}),t}(),It=function(){function t(t,e,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ft.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(st.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(ft.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(st.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(ft.ERROR))},this.promise_=_(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===ft.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case ft.RUNNING:t(n);break;case ft.CANCELING:e.transition_(ft.CANCELED);break;case ft.PAUSING:e.transition_(ft.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Q(e,r,i),s={name:a.fullPath},u=R(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=D(a,n),h=t.maxUploadRetryTime(),f=new Et(u,"POST",function(t,e){z(t);var n;try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){q(!1)}return q(I(n)),n},h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=H(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(e,n,r,i){var o=t.authWrapper_.maxUploadRetryTime(),a=new Et(r,"POST",function(t,e){var n,r=z(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){q(!1)}var o=parseInt(n,10);return q(!isNaN(o)),new Ct(o,i.size(),"final"===r)},o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=H(n),a}(0,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Ct(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=function(t,e,n,r,i,o,s,u){var c=new Ct(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new at(st.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,h=l;i>0&&(h=Math.min(h,i));var f=c.current,p={"X-Goog-Upload-Command":h===l?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},d=r.slice(f,f+h);if(null===d)throw a();var y=e.maxUploadRetryTime(),g=new Et(n,"POST",function(t,n){var i,a=z(t,["active","final"]),s=c.current+h,u=r.size();return i="final"===a?W(e,o)(t,n):null,new Ct(s,u,"final"===a,i)},y);return g.headers=p,g.body=d.uploadData(),g.progressCallback=u||null,g.errorHandler=H(t),g}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(ft.ERROR)}var s=t.authWrapper_.makeRequest(o,i);t.request_=s,s.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(ft.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=K(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(ft.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+u;var c=Q(e,r,i),l=D(c,n),h=wt.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===h)throw a();var f={name:c.fullPath},p=R(o),d=t.maxUploadRetryTime(),y=new Et(p,"POST",W(t,n),d);return y.urlParams=f,y.headers=s,y.body=h.uploadData(),y.errorHandler=H(e),y}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(ft.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case ft.CANCELING:case ft.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case ft.RUNNING:var e=this.state_===ft.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case ft.PAUSED:this.state_=t,this.notifyObservers_();break;case ft.CANCELED:this.error_=o(),this.state_=t,this.notifyObservers_();break;case ft.ERROR:case ft.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case ft.PAUSING:this.transition_(ft.PAUSED);break;case ft.CANCELING:this.transition_(ft.CANCELED);break;case ft.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=y(this.state_);return new Tt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(t){try{return void s(t)}catch(t){}try{if(u(t),!(E(t.next)||E(t.error)||E(t.complete)))throw"";return}catch(t){throw a}}function o(t){return function(e,n,i){null!==t&&M("on",t,arguments);var o=new St(e,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var a="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=U(!0).validator,u=V(null,!0).validator;M("on",[L(function(e){if(t!==ht.STATE_CHANGED)throw"Expected one of the event types: ["+ht.STATE_CHANGED+"]."}),V(i,!0),U(!0),U(!0)],arguments);var c=this,l=[V(function(t){if(null===t)throw a;i(t)}),U(!0),U(!0)];return E(e)||E(n)||E(r)?o(null)(e,n,r):o(l)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){!function(e,n){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}(this.observers_)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),function(t){return Array.prototype.slice.call(t)}(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(y(this.state_)){case pt.SUCCESS:J(this.resolve_.bind(null,this.snapshot))();break;case pt.CANCELED:case pt.ERROR:J(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(y(this.state_)){case pt.RUNNING:case pt.PAUSED:null!==t.next&&J(t.next.bind(t,this.snapshot))();break;case pt.SUCCESS:null!==t.complete&&J(t.complete.bind(t))();break;case pt.CANCELED:case pt.ERROR:null!==t.error&&J(t.error.bind(t,this.error_))();break;default:null!==t.error&&J(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){M("resume",[],arguments);var t=this.state_===ft.PAUSED||this.state_===ft.PAUSING;return t&&this.transition_(ft.RUNNING),t},t.prototype.pause=function(){M("pause",[],arguments);var t=this.state_===ft.RUNNING;return t&&this.transition_(ft.PAUSING),t},t.prototype.cancel=function(){M("cancel",[],arguments);var t=this.state_===ft.RUNNING||this.state_===ft.PAUSING;return t&&this.transition_(ft.CANCELING),t},t}(),Ot=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof vt?e:vt.makeFromUrl(e)}return t.prototype.toString=function(){return M("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(_t)return _t;var t=[];t.push(new mt("bucket")),t.push(new mt("generation")),t.push(new mt("metageneration")),t.push(new mt("name","fullPath",!0));var e=new mt("name");e.xform=function(t,e){return function(t){return!I(t)||t.length<2?t:(t=t,A(t))}(e)},t.push(e);var n=new mt("size");return n.xform=function(t,e){return w(e)?+e:e},t.push(n),t.push(new mt("timeCreated")),t.push(new mt("updated")),t.push(new mt("md5Hash",null,!0)),t.push(new mt("cacheControl",null,!0)),t.push(new mt("contentDisposition",null,!0)),t.push(new mt("contentEncoding",null,!0)),t.push(new mt("contentLanguage",null,!0)),t.push(new mt("contentType",null,!0)),t.push(new mt("metadata","customMetadata",!0)),t.push(new mt("downloadTokens","downloadURLs",!1,function(t,e){if(!(I(e)&&e.length>0))return[];var n=encodeURIComponent;return e.split(",").map(function(e){var r=t.fullPath;return function(t){return"https://firebasestorage.googleapis.com"+et+t}("/b/"+n(t.bucket)+"/o/"+n(r))+k({alt:"media",token:e})})})),_t=t}()},t.prototype.child=function(t){M("child",[L()],arguments);var e=function(e,n){var r=t.split("/").filter(function(t){return t.length>0}).join("/");return 0===e.length?r:e+"/"+r}(this.location.path),n=new vt(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new vt(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new vt(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return A(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),M("put",[new bt(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||N()&&t instanceof Blob))throw"Expected Blob or File."}),F(!0)],arguments),this.throwIfRoot_("put"),new It(this,this.authWrapper,this.location,this.mappings(),new wt(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=ut.RAW),M("putString",[L(),L(h,!0),F(!0)],arguments),this.throwIfRoot_("putString");var r=f(e,t),i=m(n);return!w(i.contentType)&&w(r.contentType)&&(i.contentType=r.contentType),new It(this,this.authWrapper,this.location,this.mappings(),new wt(r.data,!0),i)},t.prototype.delete=function(){M("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e){var n=P(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new Et(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=G(e),i}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){M("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=K(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){M("updateMetadata",[F()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=function(t,e,n,r){var i=P(e.fullServerUrl()),o=D(n,r),a=t.maxOperationRetryTime(),s=new Et(i,"PATCH",W(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=G(e),s}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){return M("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(t){var e=t.downloadURLs[0];if(w(e))return e;throw new at(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw new at(st.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},t}(),Nt=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),At=function(){function t(){this.map_={},this.id_=ot}return t.prototype.addRequest=function(t){function e(){delete r.map_[n]}var n=this.id_;this.id_++,this.map_[n]=t;var r=this;t.getPromise().then(e,e)},t.prototype.clear=function(){v(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Pt=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;w(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=rt,this.maxUploadRetryTime_=it,this.requestMap_=new At}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:vt.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&w(this.app_.INTERNAL)&&w(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):b(null)},t.prototype.bucket=function(){if(this.deleted_)throw u();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Nt(u());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Rt=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=_(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){function t(t,n){var r=e.resolve_,a=e.reject_,s=n.xhr;if(n.wasSuccessCode)try{var c=e.callback_(s,s.getResponseText());E(c)?r(c):r()}catch(t){a(t)}else if(null!==s)(l=i()).setServerResponseProp(s.getResponseText()),a(e.errorCallback_?e.errorCallback_(s,l):l);else if(n.canceled)a(l=e.appDelete_?u():o());else{var l;a(l=new at(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}}var e=this;this.canceled_?t(0,new kt(!1,null,!0)):this.backoffId_=function(t,e,n){function r(){return 2===h}function i(){f||(f=!0,e.apply(null,arguments))}function o(e){c=setTimeout(function(){c=null,t(a,r())},e)}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!f)if(t)i.apply(null,arguments);else if(r()||l)i.apply(null,arguments);else{u<64&&(u*=2);var a;1===h?(h=2,a=0):a=1e3*(u+Math.random()),o(a)}}function s(t){p||(p=!0,f||(null!==c?(t||(h=2),clearTimeout(c),o(0)):t||(h=1)))}var u=1,c=null,l=!1,h=0,f=!1,p=!1;return o(0),setTimeout(function(){l=!0,s(!0)},n),s}(function(t,n){function r(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}if(n)t(!1,new kt(!1,null,!0));else{var i=e.pool_.createXhrIo();e.pendingXhr_=i,null!==e.progressCallback_&&i.addUploadProgressListener(r),i.send(e.url_,e.method_,e.body_,e.headers_).then(function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(r),e.pendingXhr_=null;var i=(n=n).getErrorCode()===dt.NO_ERROR,o=n.getStatus();if(i&&!e.isRetryStatusCode_(o)){var a=B(e.successCodes_,o);t(!0,new kt(a,n))}else{var s=n.getErrorCode()===dt.ABORT;t(!1,new kt(!1,null,s))}})}},t,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=B([408,429],t),r=B(this.additionalRetryCodes_,t);return e||n||r},t}(),kt=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n},Dt=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new Pt(t,function(t,e){return new Ot(t,e)},X,this,e),this.app_=t,null!=n)this.bucket_=vt.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new vt(r,""))}this.internals_=new xt(this)}return t.prototype.ref=function(t){if(M("ref",[L(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new Ot(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return M("refFromURL",[L(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{vt.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Ot(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){M("setMaxUploadRetryTime",[j()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){M("setMaxOperationRetryTime",[j()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),xt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),b(void 0)},t}();e.registerStorage=Z;var Mt="storage";Z($.default)},uzI5:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("32XG");e.Sha1=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(i.Hash)},vrVh:function(t,e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}}})},wP3s:function(t,e,n){"use strict";e.a=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof e&&(n=e,e=null),r.lift(new a(t,e,n))}};var r=n("6Xbx"),i=n("qgI0"),o=n("lI6h"),a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.resultSelector,this.concurrent))},t}(),s=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return Object(r.b)(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Object(i.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},wclm:function(t,e,n){"use strict";var r=n("6Xbx"),i=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();n.d(e,"a",function(){return o});var o=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return Object(r.b)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i)},wnwn:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n("6Xbx"),n("LMZF"),n("NtEA");var r=n("iEW0"),i=(n.n(r),n("AP4T")),o=function(){function t(t){this.fbs=t}return t.prototype.pushUpload=function(t,e){var n=r.storage().ref().child(t+"/"+e.name).put(e.file);return n.on(r.storage.TaskEvent.STATE_CHANGED,function(t){e.progress=t.bytesTransferred/t.totalBytes*100}),i.a.fromPromise(n)},t.prototype.deleteUpload=function(t,e){return r.storage().ref().child(t+"/"+e).delete()},t}()},woed:function(t,e,n){"use strict";n("6Xbx"),n("LMZF");var r=n("0nO6"),i=(n("UHIZ"),n("AP4T")),o=(n("T7WB"),n("Tb9p"),n("6Kk2")),a=[{type:"select",name:"year",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0433\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430",label:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430:",value:null,validators:[r.s.required],optionsList:null,listName:""},{type:"select",name:"make",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043c\u0430\u0440\u043a\u0443",label:"\u041c\u0430\u0440\u043a\u0430:",value:null,validators:[r.s.required],optionsList:null,listName:"make_display"},{type:"select",name:"model",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043c\u043e\u0434\u0435\u043b\u044c",label:"\u041c\u043e\u0434\u0435\u043b\u044c:",value:null,validators:[r.s.required],optionsList:null,listName:"model_name"},{type:"select",name:"trim",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044e",label:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f:",value:null,validators:[r.s.required],optionsList:null,listName:"model_trim"}],s=[{type:"text",name:"transmissionType",placeholder:"\u041a\u043e\u0440\u043e\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447",label:"\u041a\u043e\u0440\u043e\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447:",value:"",validators:[r.s.required]},{type:"text",name:"drive",placeholder:"\u0422\u0438\u043f \u043f\u0440\u0438\u0432\u043e\u0434\u0430",label:"\u041f\u0440\u0438\u0432\u043e\u0434:",value:"",validators:[r.s.required]},{type:"text",name:"engineCc",placeholder:"\u041e\u0431\u044a\u0451\u043c \u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u044f (\u0441\u043c3)",label:"\u041e\u0431\u044a\u0435\u043c \u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u044f:",value:"",validators:[r.s.required]},{type:"text",name:"engineFuel",placeholder:"\u0422\u0438\u043f \u0442\u043e\u043f\u043b\u0438\u0432\u0430",label:"\u0422\u043e\u043f\u043b\u0438\u0432\u043e:",value:"",validators:[r.s.required]},{type:"text",name:"lkmMixed",placeholder:"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432 \u0441\u043c\u0435\u0448\u0430\u043d\u043d\u043e\u043c \u0446\u0438\u043a\u043b\u0435",label:"\u0420\u0430\u0441\u0445\u043e\u0434 \u0432 \u0441\u043c\u0435\u0448\u0430\u043d\u043d\u043e\u043c \u0446\u0438\u043a\u043b\u0435:",value:"",validators:[r.s.required]},{type:"text",name:"body",placeholder:"\u0422\u0438\u043f \u043a\u0443\u0437\u043e\u0432\u0430",label:"\u041a\u0443\u0437\u043e\u0432:",value:"",validators:[r.s.required]},{type:"text",name:"seats",placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442:",value:"",validators:[r.s.required]}];n.d(e,"a",function(){return c});var u=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},c=function(){function t(t,e,n,r){this.fb=t,this.route=e,this.formService=n,this.adminCarService=r,this.isShowSelectLoader=!1,this.isShowPageLoader=!1}return t.prototype.ngOnInit=function(){var t=this;this.isShowPageLoader=!0,this.route.params.mergeMap(function(e){return e.id?t.adminCarService.getCarById$(e.id).delay(1e3):i.a.of(null)}).subscribe(function(e){t.createCarForm(e),e&&(t.initCarImgList(e),t.mainCarFormParams.forEach(function(n){n.value=e[n.name],t.getOptionsList(n)})),e||t.getOptionsList(t.mainCarFormParams[0]),t.isShowPageLoader=!1})},t.prototype.initCarImgList=function(t){var e=null;t.defaultImage&&(e=t.defaultImage.name),this.carImgList=t.images.map(function(t){return t.isDefault=t.name===e,t})},t.prototype.ngOnDestroy=function(){var t=this;this.mainCarFormParams.forEach(function(e){t.resetOptionsList(e)})},t.prototype.createCarForm=function(t){this.createMainCarForm(t),this.createApiCarForm(t),this.createCustomCarForm(t),this.carForm=this.fb.group({main:this.mainCarForm,api:this.apiCarForm,custom:this.customCarForm})},t.prototype.createMainCarForm=function(t){this.mainCarFormParams=a;var e=this.formService.getFormControlConfig(this.mainCarFormParams);this.mainCarForm=this.fb.group(e),t&&this.mainCarForm.patchValue(t)},t.prototype.createApiCarForm=function(t){this.apiCarFormParams=s;var e=this.formService.getFormControlConfig(this.apiCarFormParams);this.apiCarForm=this.fb.group(e),t&&this.apiCarForm.patchValue(t)},t.prototype.createCustomCarForm=function(t){this.customCarForm=this.fb.group({isAirConditioning:!1,isSale:!1,saleAmount:null,rentPrice:this.fb.array([]),additionalInfo:[null,r.s.required]}),t&&this.customCarForm.patchValue(t)},t.prototype.onMainFormChange=function(t){var e=this;if(t.value=this.mainCarForm.controls[t.name].value,"trim"===t.name)return this.fillApiFormByTrim(t.value);var n=this.mainCarFormParams.indexOf(t)+1,r=this.mainCarFormParams[n];this.mainCarForm.controls[r.name].value&&this.mainCarFormParams.filter(function(t,e){return e>=n}).forEach(function(t){e.resetMainFormControl(t),e.resetOptionsList(t)}),this.getOptionsList(r)},t.prototype.getOptionsList=function(t){var e=this;this.isShowSelectLoader=!0,"year"===t.name?(t.optionsList=this.formService.getYearsList(2e3),this.isShowSelectLoader=!1):this.getOptionsList$(t).subscribe(function(n){t.optionsList=n,e.isShowSelectLoader=!1})},t.prototype.getOptionsList$=function(t){return this.formService.getSelectOptionsList$({year:this.mainCarForm.controls.year.value,make:this.mainCarForm.controls.make.value,model:this.mainCarForm.controls.model.value},t.listName)},t.prototype.resetMainFormControl=function(t){this.mainCarForm.controls[t.name].reset(null)},t.prototype.resetOptionsList=function(t){t.value=null,t.optionsList=null},t.prototype.fillApiFormByTrim=function(t){var e=this.formService.getCarParamsByTrim(t);this.apiCarForm.patchValue(e)},t.prototype.onSubmit=function(){this.createCar()},t.prototype.onReset=function(){var t=this;this.carForm.reset(),this.mainCarFormParams.forEach(function(e){"year"!==e.name&&t.resetOptionsList(e)})},t.prototype.addImages=function(t){var e=this,n=Array.prototype.slice.call(t.files),r={};this.carImgList||(this.carImgList=[]),this.carImgList&&this.carImgList.forEach(function(t){r[t.name]=!0}),n.forEach(function(t){r[t.name]||(e.carImgList=e.carImgList.concat([{name:t.name,file:t,progress:0}]))})},t.prototype.deleteImage=function(t){this.carImgList=this.carImgList.filter(function(e){return e.name!==t.name})},t.prototype.createCar=function(){var t=this,e=u({},new o.a,this.mainCarForm.value,this.apiCarForm.value,this.customCarForm.value);this.adminCarService.createCar(e,this.carImgList).subscribe(function(e){t.carImgList=null,t.isShowPageLoader=!1,t.onReset()})},t}()},xIGM:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||void 0!==t&&t||i}).call(e,n("fRUx"))},xfHL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),i=n("JEJ4"),o=n("F1yO"),a=n("JEJ4"),s=n("JEJ4");e.INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,e.INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,e.MAX_LEAF_SIZE_=10485760,e.isValidKey=function(t){return"string"==typeof t&&0!==t.length&&!e.INVALID_KEY_REGEX_.test(t)},e.isValidPathString=function(t){return"string"==typeof t&&0!==t.length&&!e.INVALID_PATH_REGEX_.test(t)},e.isValidRootPathString=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),e.isValidPathString(t)},e.isValidPriority=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!o.isInvalidJSONNumber(t)||t&&"object"==typeof t&&i.contains(t,".sv")},e.validateFirebaseDataArg=function(t,n,r,i,o){o&&void 0===r||e.validateFirebaseData(a.errorPrefix(t,n,o),r,i)},e.validateFirebaseData=function(t,n,a){var u=a instanceof r.Path?new r.ValidationPath(a,t):a;if(void 0===n)throw new Error(t+"contains undefined "+u.toErrorString());if("function"==typeof n)throw new Error(t+"contains a function "+u.toErrorString()+" with contents = "+n.toString());if(o.isInvalidJSONNumber(n))throw new Error(t+"contains "+n.toString()+" "+u.toErrorString());if("string"==typeof n&&n.length>e.MAX_LEAF_SIZE_/3&&s.stringLength(n)>e.MAX_LEAF_SIZE_)throw new Error(t+"contains a string greater than "+e.MAX_LEAF_SIZE_+" utf8 bytes "+u.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var c=!1,l=!1;if(i.forEach(n,function(n,r){if(".value"===n)c=!0;else if(".priority"!==n&&".sv"!==n&&(l=!0,!e.isValidKey(n)))throw new Error(t+" contains an invalid key ("+n+") "+u.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');u.push(n),e.validateFirebaseData(t,r,u),u.pop()}),c&&l)throw new Error(t+' contains ".value" child '+u.toErrorString()+" in addition to actual children.")}},e.validateFirebaseMergePaths=function(t,n){var i,o;for(i=0;i<n.length;i++)for(var a=(o=n[i]).slice(),s=0;s<a.length;s++)if(".priority"===a[s]&&s===a.length-1);else if(!e.isValidKey(a[s]))throw new Error(t+"contains an invalid key ("+a[s]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.sort(r.Path.comparePaths);var u=null;for(i=0;i<n.length;i++){if(o=n[i],null!==u&&u.contains(o))throw new Error(t+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}},e.validateFirebaseMergeDataArg=function(t,n,o,s,u){if(!u||void 0!==o){var c=a.errorPrefix(t,n,u);if(!o||"object"!=typeof o||Array.isArray(o))throw new Error(c+" must be an object containing the children to replace.");var l=[];i.forEach(o,function(t,n){var i=new r.Path(t);if(e.validateFirebaseData(c,n,s.child(i)),".priority"===i.getBack()&&!e.isValidPriority(n))throw new Error(c+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(i)}),e.validateFirebaseMergePaths(c,l)}},e.validatePriority=function(t,n,r,i){if(!i||void 0!==r){if(o.isInvalidJSONNumber(r))throw new Error(a.errorPrefix(t,n,i)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!e.isValidPriority(r))throw new Error(a.errorPrefix(t,n,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},e.validateEventType=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.validateKey=function(t,n,r,i){if(!(i&&void 0===r||e.isValidKey(r)))throw new Error(a.errorPrefix(t,n,i)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},e.validatePathString=function(t,n,r,i){if(!(i&&void 0===r||e.isValidPathString(r)))throw new Error(a.errorPrefix(t,n,i)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},e.validateRootPathString=function(t,n,r,i){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),e.validatePathString(t,n,r,i)},e.validateWritablePath=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},e.validateUrl=function(t,n,r){var i=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!e.isValidKey(r.repoInfo.namespace)||0!==i.length&&!e.isValidRootPathString(i))throw new Error(a.errorPrefix(t,n,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},e.validateCredential=function(t,e,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a valid credential (a string).")},e.validateBoolean=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a boolean.")},e.validateString=function(t,e,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a valid string.")},e.validateObject=function(t,e,n,r){if(!(r&&void 0===n||n&&"object"==typeof n&&null!==n))throw new Error(a.errorPrefix(t,e,r)+"must be a valid object.")},e.validateObjectContainsKey=function(t,e,n,r,o,s){if(!n||"object"!=typeof n||!i.contains(n,r)){if(o)return;throw new Error(a.errorPrefix(t,e,o)+'must contain the key "'+r+'"')}if(s){var u=i.safeGet(n,r);if("number"===s&&"number"!=typeof u||"string"===s&&"string"!=typeof u||"boolean"===s&&"boolean"!=typeof u||"function"===s&&"function"!=typeof u||"object"===s&&"object"!=typeof u&&u)throw o?new Error(a.errorPrefix(t,e,o)+'contains invalid value for key "'+r+'" (must be of type "'+s+'")'):new Error(a.errorPrefix(t,e,o)+'must contain the key "'+r+'" with type "'+s+'"')}}},xhf5:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("XtH8"),o=n("JEJ4"),a=n("JEJ4"),s=n("JEJ4"),u=n("F1yO"),c=n("fvGz"),l=n("CIVu"),h=n("0hmO"),f=n("JEJ4"),p=n("j0qB"),d=n("JEJ4"),y=n("JEJ4"),g=n("zzcx"),v=1e3,m=3e5;e.PersistentConnection=function(t){function e(n,r,i,o,a,s){var c=t.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=i,c.onServerInfoUpdate_=o,c.authTokenProvider_=a,c.authOverride_=s,c.id=e.nextPersistentConnectionId_++,c.log_=u.logWrapper("p:"+c.id+":"),c.interruptReasons_={},c.listens_={},c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=v,c.maxReconnectDelay_=m,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,s&&!y.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),l.VisibilityMonitor.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&h.OnlineMonitor.getInstance().on("online",c.onOnline_,c),c}return r(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(a.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&o.contains(t,"w")){var n=o.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();u.warn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||f.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=f.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):u.error("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=v,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=v,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=v),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,r())};this.realtime_={close:h,sendRequest:function(t){s.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(e){c?u.log("getToken() completed but was canceled"):(u.log("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,l=new p.Connection(i,o.repoInfo_,t,n,r,function(t){u.warn(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(t){o.log_("Failed to get token: "+t),c||(d.CONSTANTS.NODE_ADMIN&&u.warn(t),h())})}},e.prototype.interrupt=function(t){u.log("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){u.log("Resuming connection for reason: "+t),delete this.interruptReasons_[t],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=v,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return u.ObjectToUniqueKey(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new c.Path(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===o.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){u.log("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),o.forEach(this.listens_,function(e,n){o.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";d.CONSTANTS.NODE_ADMIN?e="admin_node":d.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+i.default.SDK_VERSION.replace(/\./g,"-")]=1,y.isMobileCordova()?t["framework.cordova"]=1:y.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=h.OnlineMonitor.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(g.ServerActions)},xvZM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("9ard"),i=n("qYrH");e.forceLongPolling=function(){r.WebSocketConnection.forceDisallow(),i.BrowserPollConnection.forceAllow()},e.forceWebSockets=function(){i.BrowserPollConnection.forceDisallow()},e.isWebSocketsAvailable=function(){return r.WebSocketConnection.isAvailable()},e.setSecurityDebugCallback=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},e.stats=function(t,e){t.repo.stats(e)},e.statsIncrementCounter=function(t,e){t.repo.statsIncrementCounter(e)},e.dataUpdateCount=function(t){return t.repo.dataUpdateCount},e.interceptServerData=function(t,e){return t.repo.interceptServerData_(e)}},y8hQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CacheNode=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}()},yR5I:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("6Xbx"),n("LMZF"),n("UHIZ"),n("hcEN"),n("4Tnn"),n("woed");var r=function(){}},"z8+r":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),i=n("/fob"),o=n("r9Yg");e.SparseSnapshotTree=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new o.CountedSet);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(i.PRIORITY_INDEX,function(t,e){n.remember(new r.Path(t),e)}),this.forget(t)}if(null!==this.children_){var o=t.getFront();return t=t.popFront(),this.children_.contains(o)&&this.children_.get(o).forget(t)&&this.children_.remove(o),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,i){var o=new r.Path(t.toString()+"/"+n);i.forEachTree(o,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}()},zFzr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO");e.NAME_ONLY_COMPARATOR=function(t,e){return r.nameCompare(t.name,e.name)},e.NAME_COMPARATOR=function(t,e){return r.nameCompare(t,e)}},"zPe/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("F1yO"),o=n("opdF"),a=1e4,s=3e4;e.StatsReporter=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new o.StatsListener(t);var n=a+(s-a)*Math.random();i.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},o=!1;r.forEach(e,function(e,i){i>0&&r.contains(t.statsToReport_,e)&&(n[e]=i,o=!0)}),o&&this.server_.reportStats(n),i.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}()},zdAF:function(t,e,n){"use strict";function r(t){return a._25(0,[(t()(),a._3(0,0,null,null,38,"nav",[["class","navbar"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n  "])),(t()(),a._3(2,0,null,null,1,"a",[["class","navbar__brand"]],null,null,null,null,null)),(t()(),a._23(-1,null,["Admin panel"])),(t()(),a._23(-1,null,["\n  "])),(t()(),a._3(5,0,null,null,3,"button",[["class","navbar__toggler"],["type","button"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n    "])),(t()(),a._3(7,0,null,null,0,"i",[["class","fa fa-bars"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n  "])),(t()(),a._23(-1,null,["\n  "])),(t()(),a._3(10,0,null,null,27,"div",[["class","navbar__collapse"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n    "])),(t()(),a._3(12,0,null,null,15,"form",[["class","navbar__search"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==a._16(t,14).onSubmit(n)&&r),"reset"===e&&(r=!1!==a._16(t,14).onReset()&&r),r},null,null)),a._2(13,16384,null,0,s.u,[],null,null),a._2(14,4210688,[["searchForm",4]],0,s.n,[[8,null],[8,null]],null,null),a._20(2048,null,s.c,null,[s.n]),a._2(16,16384,null,0,s.m,[s.c],null,null),(t()(),a._23(-1,null,["\n      "])),(t()(),a._3(18,0,null,null,5,"input",[["class","search__input"],["name","search"],["placeholder","Search"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==a._16(t,19)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==a._16(t,19).onTouched()&&r),"compositionstart"===e&&(r=!1!==a._16(t,19)._compositionStart()&&r),"compositionend"===e&&(r=!1!==a._16(t,19)._compositionEnd(n.target.value)&&r),r},null,null)),a._2(19,16384,null,0,s.d,[a.B,a.k,[2,s.a]],null,null),a._20(1024,null,s.j,function(t){return[t]},[s.d]),a._2(21,671744,null,0,s.o,[[2,s.c],[8,null],[8,null],[2,s.j]],{name:[0,"name"]},null),a._20(2048,null,s.k,null,[s.o]),a._2(23,16384,null,0,s.l,[s.k],null,null),(t()(),a._23(-1,null,["\n      "])),(t()(),a._3(25,0,null,null,1,"button",[["class","search__btn"],["type","submit"]],null,null,null,null,null)),(t()(),a._23(-1,null,["Search"])),(t()(),a._23(-1,null,["\n    "])),(t()(),a._23(-1,null,["\n    "])),(t()(),a._3(29,0,null,null,7,"ul",[["class","navbar__nav"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n      "])),(t()(),a._3(31,0,null,null,4,"li",[["class","navbar__item"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n        "])),(t()(),a._3(33,0,null,null,1,"a",[["class","navbar__link"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.auth.signOut()&&r),r},null,null)),(t()(),a._23(-1,null,["Log out"])),(t()(),a._23(-1,null,["\n      "])),(t()(),a._23(-1,null,["\n    "])),(t()(),a._23(-1,null,["\n  "])),(t()(),a._23(-1,null,["\n"])),(t()(),a._23(-1,null,["\n"]))],function(t,e){t(e,21,0,"search")},function(t,e){t(e,12,0,a._16(e,16).ngClassUntouched,a._16(e,16).ngClassTouched,a._16(e,16).ngClassPristine,a._16(e,16).ngClassDirty,a._16(e,16).ngClassValid,a._16(e,16).ngClassInvalid,a._16(e,16).ngClassPending),t(e,18,0,a._16(e,23).ngClassUntouched,a._16(e,23).ngClassTouched,a._16(e,23).ngClassPristine,a._16(e,23).ngClassDirty,a._16(e,23).ngClassValid,a._16(e,23).ngClassInvalid,a._16(e,23).ngClassPending)})}function i(t){return a._25(0,[(t()(),a._3(0,0,null,null,34,"aside",[["class","sidebar"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n  "])),(t()(),a._3(2,0,null,null,4,"a",[["class","sidebar__link"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==a._16(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),a._2(3,671744,null,0,h.m,[h.k,h.a,f.j],{routerLink:[0,"routerLink"]},null),(t()(),a._23(-1,null,["\n      "])),(t()(),a._3(5,0,null,null,0,"i",[["class","fa fa-sitemap sidebar__icon"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n      Open client\n  "])),(t()(),a._23(-1,null,["\n  "])),(t()(),a._3(8,0,null,null,7,"a",[["class","sidebar__link"],["routerLink","dashboard"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==a._16(t,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),a._2(9,671744,[[2,4]],0,h.m,[h.k,h.a,f.j],{routerLink:[0,"routerLink"]},null),a._2(10,1720320,null,2,h.l,[h.k,a.k,a.B,a.h],{routerLinkActive:[0,"routerLinkActive"]},null),a._21(603979776,1,{links:1}),a._21(603979776,2,{linksWithHrefs:1}),(t()(),a._23(-1,null,["\n      "])),(t()(),a._3(14,0,null,null,0,"i",[["class","fa fa-dashboard sidebar__icon"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n      Dashboard\n  "])),(t()(),a._23(-1,null,["\n  "])),(t()(),a._3(17,0,null,null,7,"a",[["class","sidebar__link"],["routerLink","add-car"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==a._16(t,18).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),a._2(18,671744,[[4,4]],0,h.m,[h.k,h.a,f.j],{routerLink:[0,"routerLink"]},null),a._2(19,1720320,null,2,h.l,[h.k,a.k,a.B,a.h],{routerLinkActive:[0,"routerLinkActive"]},null),a._21(603979776,3,{links:1}),a._21(603979776,4,{linksWithHrefs:1}),(t()(),a._23(-1,null,["\n      "])),(t()(),a._3(23,0,null,null,0,"i",[["class","fa fa-plus-square sidebar__icon"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n      Add car\n  "])),(t()(),a._23(-1,null,["\n  "])),(t()(),a._3(26,0,null,null,7,"a",[["class","sidebar__link"],["routerLink","cars"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==a._16(t,27).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),a._2(27,671744,[[6,4]],0,h.m,[h.k,h.a,f.j],{routerLink:[0,"routerLink"]},null),a._2(28,1720320,null,2,h.l,[h.k,a.k,a.B,a.h],{routerLinkActive:[0,"routerLinkActive"]},null),a._21(603979776,5,{links:1}),a._21(603979776,6,{linksWithHrefs:1}),(t()(),a._23(-1,null,["\n      "])),(t()(),a._3(32,0,null,null,0,"i",[["class","fa fa-edit sidebar__icon"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n      Cars list\n  "])),(t()(),a._23(-1,null,["\n"])),(t()(),a._23(-1,null,["\n\n\n"]))],function(t,e){t(e,3,0,"/"),t(e,9,0,"dashboard"),t(e,10,0,"active"),t(e,18,0,"add-car"),t(e,19,0,"active"),t(e,27,0,"cars"),t(e,28,0,"active")},function(t,e){t(e,2,0,a._16(e,3).target,a._16(e,3).href),t(e,8,0,a._16(e,9).target,a._16(e,9).href),t(e,17,0,a._16(e,18).target,a._16(e,18).href),t(e,26,0,a._16(e,27).target,a._16(e,27).href)})}function o(t){return a._25(0,[(t()(),a._3(0,0,null,null,22,"div",[["class","admin"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n  "])),(t()(),a._3(2,0,null,null,4,"header",[["class","admin__header"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n    "])),(t()(),a._3(4,0,null,null,1,"crayf-header",[],null,null,null,r,l)),a._2(5,114688,null,0,u.a,[c.a],null,null),(t()(),a._23(-1,null,["\n  "])),(t()(),a._23(-1,null,["\n  "])),(t()(),a._3(8,0,null,null,13,"div",[["class","admin__main"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n      "])),(t()(),a._3(10,0,null,null,4,"div",[["class","admin__sidebar"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n        "])),(t()(),a._3(12,0,null,null,1,"crayf-sidebar",[],null,null,null,i,d)),a._2(13,114688,null,0,p.a,[],null,null),(t()(),a._23(-1,null,["\n      "])),(t()(),a._23(-1,null,["\n      "])),(t()(),a._3(16,0,null,null,4,"div",[["class","admin__content"]],null,null,null,null,null)),(t()(),a._23(-1,null,["\n        "])),(t()(),a._3(18,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),a._2(19,212992,null,0,h.o,[h.b,a.M,a.j,[8,null],a.h],null,null),(t()(),a._23(-1,null,["\n      "])),(t()(),a._23(-1,null,["\n  "])),(t()(),a._23(-1,null,["\n"])),(t()(),a._23(-1,null,["\n"]))],function(t,e){t(e,5,0),t(e,13,0),t(e,19,0)},null)}var a=n("LMZF"),s=n("0nO6"),u=n("Wi4w"),c=n("blHQ"),l=a._1({encapsulation:0,styles:[[".navbar[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.navbar__brand[_ngcontent-%COMP%]{padding:20px 50px}.navbar__toggler[_ngcontent-%COMP%]{display:none}.navbar__collapse[_ngcontent-%COMP%]{padding-right:10px;margin-left:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.navbar__search[_ngcontent-%COMP%]{padding-right:20px}.navbar__link[_ngcontent-%COMP%]{cursor:pointer}.dropdown[_ngcontent-%COMP%]{display:none}"]],data:{}}),h=n("UHIZ"),f=n("Un6q"),p=n("VS+H"),d=a._1({encapsulation:0,styles:[[".sidebar__link[_ngcontent-%COMP%]{color:#444546;padding:20px 50px;display:block}.sidebar__link[_ngcontent-%COMP%]:hover{background:#eb0000}.sidebar__link.active[_ngcontent-%COMP%]{color:#f6f6f6}"]],data:{}}),y=n("hcEN");n.d(e,"a",function(){return v});var g=a._1({encapsulation:0,styles:[[".admin[_ngcontent-%COMP%]{min-height:100vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.admin__header[_ngcontent-%COMP%]{background:#cecece}.admin__main[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-line-pack:start;align-content:flex-start}.admin__sidebar[_ngcontent-%COMP%]{background:#cecece;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.admin__content[_ngcontent-%COMP%]{-webkit-box-flex:1000;-ms-flex:1000 1 auto;flex:1000 1 auto}"]],data:{}}),v=a.Z("crayf-admin",y.a,function(t){return a._25(0,[(t()(),a._3(0,0,null,null,1,"crayf-admin",[],null,null,null,o,g)),a._2(1,114688,null,0,y.a,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[])},zzcx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServerActions=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}()}},[0]);